/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/_error";
exports.ids = ["pages/_error"];
exports.modules = {

/***/ "(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=private-next-pages%2F_error&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=private-next-pages%2F_error&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages/module.compiled */ \"(pages-dir-node)/./node_modules/next/dist/server/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(pages-dir-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(pages-dir-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"(pages-dir-node)/./src/pages/_document.tsx\");\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"(pages-dir-node)/./src/pages/_app.tsx\");\n/* harmony import */ var private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! private-next-pages/_error */ \"(pages-dir-node)/./node_modules/next/dist/pages/_error.js\");\n/* harmony import */ var private_next_pages_error__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__]);\nprivate_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, 'default'));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, 'getStaticProps');\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, 'getStaticPaths');\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, 'getServerSideProps');\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, 'config');\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, 'reportWebVitals');\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticProps');\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticPaths');\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticParams');\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getServerProps');\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getServerSideProps');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/_error\",\n        pathname: \"/_error\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    components: {\n        // default export might not exist when optimized for data only\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n    },\n    userland: private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVMmcGFnZT0lMkZfZXJyb3ImcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPXByaXZhdGUtbmV4dC1wYWdlcyUyRl9lcnJvciZhYnNvbHV0ZUFwcFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2FwcCZhYnNvbHV0ZURvY3VtZW50UGF0aD1wcml2YXRlLW5leHQtcGFnZXMlMkZfZG9jdW1lbnQmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdGO0FBQ2hDO0FBQ0U7QUFDMUQ7QUFDeUQ7QUFDVjtBQUMvQztBQUNzRDtBQUN0RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMscURBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sdUJBQXVCLHdFQUFLLENBQUMscURBQVE7QUFDckMsdUJBQXVCLHdFQUFLLENBQUMscURBQVE7QUFDckMsMkJBQTJCLHdFQUFLLENBQUMscURBQVE7QUFDekMsZUFBZSx3RUFBSyxDQUFDLHFEQUFRO0FBQzdCLHdCQUF3Qix3RUFBSyxDQUFDLHFEQUFRO0FBQzdDO0FBQ08sZ0NBQWdDLHdFQUFLLENBQUMscURBQVE7QUFDOUMsZ0NBQWdDLHdFQUFLLENBQUMscURBQVE7QUFDOUMsaUNBQWlDLHdFQUFLLENBQUMscURBQVE7QUFDL0MsZ0NBQWdDLHdFQUFLLENBQUMscURBQVE7QUFDOUMsb0NBQW9DLHdFQUFLLENBQUMscURBQVE7QUFDekQ7QUFDTyx3QkFBd0Isa0dBQWdCO0FBQy9DO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxhQUFhLDhEQUFXO0FBQ3hCLGtCQUFrQixtRUFBZ0I7QUFDbEMsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELGlDIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvcGFnZXMvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgYXBwIGFuZCBkb2N1bWVudCBtb2R1bGVzLlxuaW1wb3J0ICogYXMgZG9jdW1lbnQgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fZG9jdW1lbnRcIjtcbmltcG9ydCAqIGFzIGFwcCBmcm9tIFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19hcHBcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJwcml2YXRlLW5leHQtcGFnZXMvX2Vycm9yXCI7XG4vLyBSZS1leHBvcnQgdGhlIGNvbXBvbmVudCAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsICdnZXRTdGF0aWNQcm9wcycpO1xuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsICdnZXRTdGF0aWNQYXRocycpO1xuZXhwb3J0IGNvbnN0IGdldFNlcnZlclNpZGVQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCAnZ2V0U2VydmVyU2lkZVByb3BzJyk7XG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbmV4cG9ydCBjb25zdCByZXBvcnRXZWJWaXRhbHMgPSBob2lzdCh1c2VybGFuZCwgJ3JlcG9ydFdlYlZpdGFscycpO1xuLy8gUmUtZXhwb3J0IGxlZ2FjeSBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsICd1bnN0YWJsZV9nZXRTdGF0aWNQcm9wcycpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsICd1bnN0YWJsZV9nZXRTdGF0aWNQYXRocycpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhcmFtcyA9IGhvaXN0KHVzZXJsYW5kLCAndW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zJyk7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgJ3Vuc3RhYmxlX2dldFNlcnZlclByb3BzJyk7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsICd1bnN0YWJsZV9nZXRTZXJ2ZXJTaWRlUHJvcHMnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTLFxuICAgICAgICBwYWdlOiBcIi9fZXJyb3JcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL19lcnJvclwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJydcbiAgICB9LFxuICAgIGNvbXBvbmVudHM6IHtcbiAgICAgICAgLy8gZGVmYXVsdCBleHBvcnQgbWlnaHQgbm90IGV4aXN0IHdoZW4gb3B0aW1pemVkIGZvciBkYXRhIG9ubHlcbiAgICAgICAgQXBwOiBhcHAuZGVmYXVsdCxcbiAgICAgICAgRG9jdW1lbnQ6IGRvY3VtZW50LmRlZmF1bHRcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=private-next-pages%2F_error&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(pages-dir-node)/./src/contexts/AuthContext.tsx":
/*!**************************************!*\
  !*** ./src/contexts/AuthContext.tsx ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/auth */ \"firebase/auth\");\n/* harmony import */ var _lib_firebase_firebase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/firebase/firebase */ \"(pages-dir-node)/./src/lib/firebase/firebase.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_auth__WEBPACK_IMPORTED_MODULE_2__, _lib_firebase_firebase__WEBPACK_IMPORTED_MODULE_3__]);\n([firebase_auth__WEBPACK_IMPORTED_MODULE_2__, _lib_firebase_firebase__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// src/contexts/AuthContext.tsx\n\n\n\n\n// Create the Auth Context\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\n// Auth Provider Component\nconst AuthProvider = ({ children })=>{\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [userUid, setUserUid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    // We don't need to initialize Firebase in AuthContext\n    // as it's already initialized in _app.tsx\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AuthProvider.useEffect\": ()=>{\n            console.log(\"AuthContext mounted\");\n        }\n    }[\"AuthProvider.useEffect\"], []);\n    // Generate a stable mock user ID that persists across app sessions\n    const generateMockUserId = ()=>{\n        // First, try to get an existing mock user ID from localStorage for persistence\n        if (false) {}\n        // Fallback for SSR\n        return \"mock-\" + Math.random().toString(36).substring(2, 11);\n    };\n    // Listen for auth state changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AuthProvider.useEffect\": ()=>{\n            // If mock mode is enabled, skip Firebase auth\n            if (true) {\n                console.log(\"Using mock authentication mode\");\n                // Get or generate a mock user ID that persists\n                const mockUid = generateMockUserId();\n                // Store the mock user ID in sessionStorage for use across components\n                if (false) {}\n                setUser({\n                    uid: mockUid\n                });\n                setUserUid(mockUid);\n                setLoading(false);\n                return ({\n                    \"AuthProvider.useEffect\": ()=>{}\n                })[\"AuthProvider.useEffect\"];\n            }\n            try {\n                // Make sure Firebase is initialized\n                const firebaseApp = (0,_lib_firebase_firebase__WEBPACK_IMPORTED_MODULE_3__.initializeFirebase)(true, false);\n                // Use the auth instance from the initialized Firebase\n                const auth = firebaseApp.auth;\n                if (!auth) {\n                    console.error(\"Firebase auth is not initialized\");\n                    // Fallback to mock user if Firebase auth isn't available\n                    const mockUid = generateMockUserId();\n                    setUser({\n                        uid: mockUid\n                    });\n                    setUserUid(mockUid);\n                    // Store the mock user ID in sessionStorage\n                    if (false) {}\n                    setLoading(false);\n                    return ({\n                        \"AuthProvider.useEffect\": ()=>{}\n                    })[\"AuthProvider.useEffect\"];\n                }\n                console.log(\"Setting up auth state listener\");\n                const unsubscribe = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.onAuthStateChanged)(auth, {\n                    \"AuthProvider.useEffect.unsubscribe\": async (authUser)=>{\n                        console.log(\"Auth state changed:\", authUser ? `User: ${authUser.uid}` : \"No user\");\n                        if (authUser) {\n                            setUser(authUser);\n                            setUserUid(authUser.uid);\n                            try {\n                                // Initialize Firebase\n                                const { db } = (0,_lib_firebase_firebase__WEBPACK_IMPORTED_MODULE_3__.initializeFirebase)(true, false);\n                                // Check if user exists in Firestore, create if not\n                                if (db) {\n                                    const { doc, getDoc, setDoc } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! firebase/firestore */ \"firebase/firestore\"));\n                                    const userRef = doc(db, \"players\", authUser.uid);\n                                    const userDoc = await getDoc(userRef);\n                                    if (!userDoc.exists()) {\n                                        // Create new user document\n                                        await setDoc(userRef, {\n                                            uid: authUser.uid,\n                                            name: `Player_${authUser.uid.substring(0, 5)}`,\n                                            createdAt: new Date(),\n                                            highScores: {}\n                                        });\n                                        console.log(\"Created new user document in Firestore\");\n                                    }\n                                }\n                            } catch (error) {\n                                console.error(\"Error checking/creating user document:\", error);\n                            }\n                        } else {\n                            setUser(null);\n                            setUserUid(null);\n                        }\n                        setLoading(false);\n                    }\n                }[\"AuthProvider.useEffect.unsubscribe\"]);\n                // Cleanup subscription\n                return ({\n                    \"AuthProvider.useEffect\": ()=>unsubscribe()\n                })[\"AuthProvider.useEffect\"];\n            } catch (error) {\n                console.error(\"Error setting up auth state listener:\", error);\n                // Fallback to mock user if Firebase auth fails\n                const mockUid = generateMockUserId();\n                setUser({\n                    uid: mockUid\n                });\n                setUserUid(mockUid);\n                // Store the mock user ID in sessionStorage\n                if (false) {}\n                setLoading(false);\n                return ({\n                    \"AuthProvider.useEffect\": ()=>{}\n                })[\"AuthProvider.useEffect\"];\n            }\n        }\n    }[\"AuthProvider.useEffect\"], []);\n    // Sign in anonymously\n    const signInAnonymously = async ()=>{\n        try {\n            // Skip anonymous auth if it's not setup correctly to avoid errors\n            if (true) {\n                console.log(\"Skipping anonymous auth (NEXT_PUBLIC_SKIP_AUTH=true)\");\n                // Mock a user instead\n                const mockUid = generateMockUserId();\n                setUser({\n                    uid: mockUid\n                });\n                setUserUid(mockUid);\n                // Store the mock user ID in sessionStorage\n                if (false) {}\n                setLoading(false);\n                return;\n            }\n            // Make sure Firebase is initialized\n            const firebaseApp = (0,_lib_firebase_firebase__WEBPACK_IMPORTED_MODULE_3__.initializeFirebase)(true, false);\n            const auth = firebaseApp.auth;\n            if (!auth) {\n                throw new Error(\"Firebase auth is not initialized\");\n            }\n            console.log(\"Attempting anonymous sign in\");\n            await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.signInAnonymously)(auth);\n        } catch (error) {\n            console.error(\"Error signing in anonymously:\", error);\n            // If anonymous auth fails, mock a user to allow the app to function\n            const mockUid = generateMockUserId();\n            setUser({\n                uid: mockUid\n            });\n            setUserUid(mockUid);\n            // Store the mock user ID in sessionStorage\n            if (false) {}\n            setLoading(false);\n        }\n    };\n    // Sign out\n    const signOut = async ()=>{\n        try {\n            // If in mock mode, just clear the user state\n            if (true) {\n                setUser(null);\n                setUserUid(null);\n                // Clear the mock user ID from sessionStorage\n                if (false) {}\n                return;\n            }\n            // Make sure Firebase is initialized\n            const firebaseApp = (0,_lib_firebase_firebase__WEBPACK_IMPORTED_MODULE_3__.initializeFirebase)(true, false);\n            const auth = firebaseApp.auth;\n            if (!auth) {\n                throw new Error(\"Firebase auth is not initialized\");\n            }\n            await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.signOut)(auth);\n        } catch (error) {\n            console.error(\"Error signing out:\", error);\n            // Reset user state regardless of error\n            setUser(null);\n            setUserUid(null);\n            // Clear the mock user ID from sessionStorage\n            if (false) {}\n        }\n    };\n    // Auto sign in anonymously if not signed in\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AuthProvider.useEffect\": ()=>{\n            // Check if Firebase emulator is running\n            const isEmulator =  false && 0;\n            if (!loading && !user) {\n                console.log(\"Auto sign-in: No user detected, attempting anonymous sign in\");\n                if (isEmulator) {\n                    console.log(\"Using Firebase emulator for authentication\");\n                }\n                signInAnonymously();\n            }\n        }\n    }[\"AuthProvider.useEffect\"], [\n        loading,\n        user\n    ]);\n    // Context value\n    const value = {\n        user,\n        userUid,\n        loading,\n        signInAnonymously,\n        signOut\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: value,\n        children: !loading && children\n    }, void 0, false, {\n        fileName: \"/Users/alex/Developer/trendguesser/src/contexts/AuthContext.tsx\",\n        lineNumber: 291,\n        columnNumber: 5\n    }, undefined);\n};\n// Custom hook to use the auth context\nconst useAuth = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n    if (context === undefined) {\n        throw new Error(\"useAuth must be used within an AuthProvider\");\n    }\n    return context;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AuthContext);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3NyYy9jb250ZXh0cy9BdXRoQ29udGV4dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsK0JBQStCOztBQUMrQztBQU92RDtBQUlXO0FBR2xDLDBCQUEwQjtBQUMxQixNQUFNVyw0QkFBY1Ysb0RBQWFBLENBQThCVztBQUUvRCwwQkFBMEI7QUFDbkIsTUFBTUMsZUFBd0QsQ0FBQyxFQUNwRUMsUUFBUSxFQUNUO0lBQ0MsTUFBTSxDQUFDQyxNQUFNQyxRQUFRLEdBQUdaLCtDQUFRQSxDQUFjO0lBQzlDLE1BQU0sQ0FBQ2EsU0FBU0MsV0FBVyxHQUFHZCwrQ0FBUUEsQ0FBZ0I7SUFDdEQsTUFBTSxDQUFDZSxTQUFTQyxXQUFXLEdBQUdoQiwrQ0FBUUEsQ0FBQztJQUV2QyxzREFBc0Q7SUFDdEQsMENBQTBDO0lBQzFDRCxnREFBU0E7a0NBQUM7WUFDUmtCLFFBQVFDLEdBQUcsQ0FBQztRQUNkO2lDQUFHLEVBQUU7SUFFTCxtRUFBbUU7SUFDbkUsTUFBTUMscUJBQXFCO1FBQ3pCLCtFQUErRTtRQUMvRSxJQUFJLEtBQTZCLEVBQUUsRUFhbEM7UUFFRCxtQkFBbUI7UUFDbkIsT0FBTyxVQUFVSyxLQUFLQyxNQUFNLEdBQUdDLFFBQVEsQ0FBQyxJQUFJQyxTQUFTLENBQUMsR0FBRztJQUMzRDtJQUVBLGdDQUFnQztJQUNoQzVCLGdEQUFTQTtrQ0FBQztZQUNSLDhDQUE4QztZQUM5QyxJQUFJOEIsSUFBNEMsRUFBRTtnQkFDaERaLFFBQVFDLEdBQUcsQ0FBQztnQkFFWiwrQ0FBK0M7Z0JBQy9DLE1BQU1jLFVBQVViO2dCQUVoQixxRUFBcUU7Z0JBQ3JFLElBQUksS0FBNkIsRUFBRSxFQUdsQztnQkFFRFAsUUFBUTtvQkFBRXNCLEtBQUtGO2dCQUFRO2dCQUN2QmxCLFdBQVdrQjtnQkFDWGhCLFdBQVc7Z0JBQ1g7OENBQU8sS0FBTzs7WUFDaEI7WUFFQSxJQUFJO2dCQUNGLG9DQUFvQztnQkFDcEMsTUFBTW1CLGNBQWM3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UUFDQUU7UUFDQUU7UUFDQWQ7UUFDQUU7SUFDRjtJQUVBLHFCQUNFLDhEQUFDSSxZQUFZb0QsUUFBUTtRQUFDRCxPQUFPQTtrQkFDMUIsQ0FBQzNDLFdBQVdMOzs7Ozs7QUFHbkIsRUFBRTtBQUVGLHNDQUFzQztBQUMvQixNQUFNa0QsVUFBVTtJQUNyQixNQUFNQyxVQUFVL0QsaURBQVVBLENBQUNTO0lBQzNCLElBQUlzRCxZQUFZckQsV0FBVztRQUN6QixNQUFNLElBQUkyQyxNQUFNO0lBQ2xCO0lBQ0EsT0FBT1U7QUFDVCxFQUFFO0FBRUYsaUVBQWV0RCxXQUFXQSxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvYWxleC9EZXZlbG9wZXIvdHJlbmRndWVzc2VyL3NyYy9jb250ZXh0cy9BdXRoQ29udGV4dC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2NvbnRleHRzL0F1dGhDb250ZXh0LnRzeFxuaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIHNpZ25JbkFub255bW91c2x5IGFzIGZpcmViYXNlU2lnbkluQW5vbnltb3VzbHksXG4gIHNpZ25PdXQgYXMgZmlyZWJhc2VTaWduT3V0LFxuICBvbkF1dGhTdGF0ZUNoYW5nZWQsXG4gIFVzZXIsXG4gIGdldEF1dGgsXG59IGZyb20gXCJmaXJlYmFzZS9hdXRoXCI7XG5pbXBvcnQge1xuICBpbml0aWFsaXplRmlyZWJhc2UsXG4gIGF1dGggYXMgZmlyZWJhc2VBdXRoLFxufSBmcm9tIFwiLi4vbGliL2ZpcmViYXNlL2ZpcmViYXNlXCI7XG5pbXBvcnQgeyBBdXRoQ29udGV4dFR5cGUgfSBmcm9tIFwiLi4vdHlwZXNcIjtcblxuLy8gQ3JlYXRlIHRoZSBBdXRoIENvbnRleHRcbmNvbnN0IEF1dGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxBdXRoQ29udGV4dFR5cGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG5cbi8vIEF1dGggUHJvdmlkZXIgQ29tcG9uZW50XG5leHBvcnQgY29uc3QgQXV0aFByb3ZpZGVyOiBSZWFjdC5GQzx7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfT4gPSAoe1xuICBjaGlsZHJlbixcbn0pID0+IHtcbiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGU8VXNlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbdXNlclVpZCwgc2V0VXNlclVpZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG5cbiAgLy8gV2UgZG9uJ3QgbmVlZCB0byBpbml0aWFsaXplIEZpcmViYXNlIGluIEF1dGhDb250ZXh0XG4gIC8vIGFzIGl0J3MgYWxyZWFkeSBpbml0aWFsaXplZCBpbiBfYXBwLnRzeFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiQXV0aENvbnRleHQgbW91bnRlZFwiKTtcbiAgfSwgW10pO1xuXG4gIC8vIEdlbmVyYXRlIGEgc3RhYmxlIG1vY2sgdXNlciBJRCB0aGF0IHBlcnNpc3RzIGFjcm9zcyBhcHAgc2Vzc2lvbnNcbiAgY29uc3QgZ2VuZXJhdGVNb2NrVXNlcklkID0gKCk6IHN0cmluZyA9PiB7XG4gICAgLy8gRmlyc3QsIHRyeSB0byBnZXQgYW4gZXhpc3RpbmcgbW9jayB1c2VyIElEIGZyb20gbG9jYWxTdG9yYWdlIGZvciBwZXJzaXN0ZW5jZVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBjb25zdCBleGlzdGluZ0lkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJtb2NrX3VzZXJfdWlkXCIpO1xuICAgICAgaWYgKGV4aXN0aW5nSWQpIHtcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nSWQ7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGV4aXN0aW5nIElELCBnZW5lcmF0ZSBhIG5ldyBvbmVcbiAgICAgIGNvbnN0IG5ld0lkID0gXCJtb2NrLVwiICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDExKTtcblxuICAgICAgLy8gU3RvcmUgaXQgaW4gbG9jYWxTdG9yYWdlIGZvciBmdXR1cmUgdXNlXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIm1vY2tfdXNlcl91aWRcIiwgbmV3SWQpO1xuXG4gICAgICByZXR1cm4gbmV3SWQ7XG4gICAgfVxuXG4gICAgLy8gRmFsbGJhY2sgZm9yIFNTUlxuICAgIHJldHVybiBcIm1vY2stXCIgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTEpO1xuICB9O1xuXG4gIC8vIExpc3RlbiBmb3IgYXV0aCBzdGF0ZSBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gSWYgbW9jayBtb2RlIGlzIGVuYWJsZWQsIHNraXAgRmlyZWJhc2UgYXV0aFxuICAgIGlmIChwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TS0lQX0FVVEggPT09IFwidHJ1ZVwiKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlVzaW5nIG1vY2sgYXV0aGVudGljYXRpb24gbW9kZVwiKTtcblxuICAgICAgLy8gR2V0IG9yIGdlbmVyYXRlIGEgbW9jayB1c2VyIElEIHRoYXQgcGVyc2lzdHNcbiAgICAgIGNvbnN0IG1vY2tVaWQgPSBnZW5lcmF0ZU1vY2tVc2VySWQoKTtcblxuICAgICAgLy8gU3RvcmUgdGhlIG1vY2sgdXNlciBJRCBpbiBzZXNzaW9uU3RvcmFnZSBmb3IgdXNlIGFjcm9zcyBjb21wb25lbnRzXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwibW9ja191c2VyX3VpZFwiLCBtb2NrVWlkKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJTdG9yZWQgbW9jayB1c2VyIElEIGluIHNlc3Npb24gc3RvcmFnZTpcIiwgbW9ja1VpZCk7XG4gICAgICB9XG5cbiAgICAgIHNldFVzZXIoeyB1aWQ6IG1vY2tVaWQgfSBhcyBVc2VyKTtcbiAgICAgIHNldFVzZXJVaWQobW9ja1VpZCk7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIHJldHVybiAoKSA9PiB7fTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgLy8gTWFrZSBzdXJlIEZpcmViYXNlIGlzIGluaXRpYWxpemVkXG4gICAgICBjb25zdCBmaXJlYmFzZUFwcCA9IGluaXRpYWxpemVGaXJlYmFzZSh0cnVlLCBmYWxzZSk7XG4gICAgICAvLyBVc2UgdGhlIGF1dGggaW5zdGFuY2UgZnJvbSB0aGUgaW5pdGlhbGl6ZWQgRmlyZWJhc2VcbiAgICAgIGNvbnN0IGF1dGggPSBmaXJlYmFzZUFwcC5hdXRoO1xuXG4gICAgICBpZiAoIWF1dGgpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZpcmViYXNlIGF1dGggaXMgbm90IGluaXRpYWxpemVkXCIpO1xuXG4gICAgICAgIC8vIEZhbGxiYWNrIHRvIG1vY2sgdXNlciBpZiBGaXJlYmFzZSBhdXRoIGlzbid0IGF2YWlsYWJsZVxuICAgICAgICBjb25zdCBtb2NrVWlkID0gZ2VuZXJhdGVNb2NrVXNlcklkKCk7XG4gICAgICAgIHNldFVzZXIoeyB1aWQ6IG1vY2tVaWQgfSBhcyBVc2VyKTtcbiAgICAgICAgc2V0VXNlclVpZChtb2NrVWlkKTtcblxuICAgICAgICAvLyBTdG9yZSB0aGUgbW9jayB1c2VyIElEIGluIHNlc3Npb25TdG9yYWdlXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcIm1vY2tfdXNlcl91aWRcIiwgbW9ja1VpZCk7XG4gICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICBcIlN0b3JlZCBmYWxsYmFjayBtb2NrIHVzZXIgSUQgaW4gc2Vzc2lvbiBzdG9yYWdlOlwiLFxuICAgICAgICAgICAgbW9ja1VpZFxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHt9O1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhcIlNldHRpbmcgdXAgYXV0aCBzdGF0ZSBsaXN0ZW5lclwiKTtcbiAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsIGFzeW5jIChhdXRoVXNlcikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICBcIkF1dGggc3RhdGUgY2hhbmdlZDpcIixcbiAgICAgICAgICBhdXRoVXNlciA/IGBVc2VyOiAke2F1dGhVc2VyLnVpZH1gIDogXCJObyB1c2VyXCJcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoYXV0aFVzZXIpIHtcbiAgICAgICAgICBzZXRVc2VyKGF1dGhVc2VyKTtcbiAgICAgICAgICBzZXRVc2VyVWlkKGF1dGhVc2VyLnVpZCk7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZVxuICAgICAgICAgICAgY29uc3QgeyBkYiB9ID0gaW5pdGlhbGl6ZUZpcmViYXNlKHRydWUsIGZhbHNlKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdXNlciBleGlzdHMgaW4gRmlyZXN0b3JlLCBjcmVhdGUgaWYgbm90XG4gICAgICAgICAgICBpZiAoZGIpIHtcbiAgICAgICAgICAgICAgY29uc3QgeyBkb2MsIGdldERvYywgc2V0RG9jIH0gPSBhd2FpdCBpbXBvcnQoXG4gICAgICAgICAgICAgICAgXCJmaXJlYmFzZS9maXJlc3RvcmVcIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBjb25zdCB1c2VyUmVmID0gZG9jKGRiLCBcInBsYXllcnNcIiwgYXV0aFVzZXIudWlkKTtcbiAgICAgICAgICAgICAgY29uc3QgdXNlckRvYyA9IGF3YWl0IGdldERvYyh1c2VyUmVmKTtcblxuICAgICAgICAgICAgICBpZiAoIXVzZXJEb2MuZXhpc3RzKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgbmV3IHVzZXIgZG9jdW1lbnRcbiAgICAgICAgICAgICAgICBhd2FpdCBzZXREb2ModXNlclJlZiwge1xuICAgICAgICAgICAgICAgICAgdWlkOiBhdXRoVXNlci51aWQsXG4gICAgICAgICAgICAgICAgICBuYW1lOiBgUGxheWVyXyR7YXV0aFVzZXIudWlkLnN1YnN0cmluZygwLCA1KX1gLFxuICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgaGlnaFNjb3Jlczoge30sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDcmVhdGVkIG5ldyB1c2VyIGRvY3VtZW50IGluIEZpcmVzdG9yZVwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY2hlY2tpbmcvY3JlYXRpbmcgdXNlciBkb2N1bWVudDpcIiwgZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRVc2VyKG51bGwpO1xuICAgICAgICAgIHNldFVzZXJVaWQobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDbGVhbnVwIHN1YnNjcmlwdGlvblxuICAgICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzZXR0aW5nIHVwIGF1dGggc3RhdGUgbGlzdGVuZXI6XCIsIGVycm9yKTtcblxuICAgICAgLy8gRmFsbGJhY2sgdG8gbW9jayB1c2VyIGlmIEZpcmViYXNlIGF1dGggZmFpbHNcbiAgICAgIGNvbnN0IG1vY2tVaWQgPSBnZW5lcmF0ZU1vY2tVc2VySWQoKTtcbiAgICAgIHNldFVzZXIoeyB1aWQ6IG1vY2tVaWQgfSBhcyBVc2VyKTtcbiAgICAgIHNldFVzZXJVaWQobW9ja1VpZCk7XG5cbiAgICAgIC8vIFN0b3JlIHRoZSBtb2NrIHVzZXIgSUQgaW4gc2Vzc2lvblN0b3JhZ2VcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJtb2NrX3VzZXJfdWlkXCIsIG1vY2tVaWQpO1xuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICBcIlN0b3JlZCBlcnJvci1mYWxsYmFjayBtb2NrIHVzZXIgSUQgaW4gc2Vzc2lvbiBzdG9yYWdlOlwiLFxuICAgICAgICAgIG1vY2tVaWRcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICByZXR1cm4gKCkgPT4ge307XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gU2lnbiBpbiBhbm9ueW1vdXNseVxuICBjb25zdCBzaWduSW5Bbm9ueW1vdXNseSA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gU2tpcCBhbm9ueW1vdXMgYXV0aCBpZiBpdCdzIG5vdCBzZXR1cCBjb3JyZWN0bHkgdG8gYXZvaWQgZXJyb3JzXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU0tJUF9BVVRIID09PSBcInRydWVcIikge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlNraXBwaW5nIGFub255bW91cyBhdXRoIChORVhUX1BVQkxJQ19TS0lQX0FVVEg9dHJ1ZSlcIik7XG4gICAgICAgIC8vIE1vY2sgYSB1c2VyIGluc3RlYWRcbiAgICAgICAgY29uc3QgbW9ja1VpZCA9IGdlbmVyYXRlTW9ja1VzZXJJZCgpO1xuICAgICAgICBzZXRVc2VyKHsgdWlkOiBtb2NrVWlkIH0gYXMgVXNlcik7XG4gICAgICAgIHNldFVzZXJVaWQobW9ja1VpZCk7XG5cbiAgICAgICAgLy8gU3RvcmUgdGhlIG1vY2sgdXNlciBJRCBpbiBzZXNzaW9uU3RvcmFnZVxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJtb2NrX3VzZXJfdWlkXCIsIG1vY2tVaWQpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3RvcmVkIHRlbXAgbW9jayB1c2VyIElEIGluIHNlc3Npb24gc3RvcmFnZTpcIiwgbW9ja1VpZCk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgRmlyZWJhc2UgaXMgaW5pdGlhbGl6ZWRcbiAgICAgIGNvbnN0IGZpcmViYXNlQXBwID0gaW5pdGlhbGl6ZUZpcmViYXNlKHRydWUsIGZhbHNlKTtcbiAgICAgIGNvbnN0IGF1dGggPSBmaXJlYmFzZUFwcC5hdXRoO1xuXG4gICAgICBpZiAoIWF1dGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmlyZWJhc2UgYXV0aCBpcyBub3QgaW5pdGlhbGl6ZWRcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKFwiQXR0ZW1wdGluZyBhbm9ueW1vdXMgc2lnbiBpblwiKTtcbiAgICAgIGF3YWl0IGZpcmViYXNlU2lnbkluQW5vbnltb3VzbHkoYXV0aCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzaWduaW5nIGluIGFub255bW91c2x5OlwiLCBlcnJvcik7XG5cbiAgICAgIC8vIElmIGFub255bW91cyBhdXRoIGZhaWxzLCBtb2NrIGEgdXNlciB0byBhbGxvdyB0aGUgYXBwIHRvIGZ1bmN0aW9uXG4gICAgICBjb25zdCBtb2NrVWlkID0gZ2VuZXJhdGVNb2NrVXNlcklkKCk7XG4gICAgICBzZXRVc2VyKHsgdWlkOiBtb2NrVWlkIH0gYXMgVXNlcik7XG4gICAgICBzZXRVc2VyVWlkKG1vY2tVaWQpO1xuXG4gICAgICAvLyBTdG9yZSB0aGUgbW9jayB1c2VyIElEIGluIHNlc3Npb25TdG9yYWdlXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwibW9ja191c2VyX3VpZFwiLCBtb2NrVWlkKTtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgXCJTdG9yZWQgc2lnbmluLWVycm9yIG1vY2sgdXNlciBJRCBpbiBzZXNzaW9uIHN0b3JhZ2U6XCIsXG4gICAgICAgICAgbW9ja1VpZFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gU2lnbiBvdXRcbiAgY29uc3Qgc2lnbk91dCA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gSWYgaW4gbW9jayBtb2RlLCBqdXN0IGNsZWFyIHRoZSB1c2VyIHN0YXRlXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU0tJUF9BVVRIID09PSBcInRydWVcIikge1xuICAgICAgICBzZXRVc2VyKG51bGwpO1xuICAgICAgICBzZXRVc2VyVWlkKG51bGwpO1xuXG4gICAgICAgIC8vIENsZWFyIHRoZSBtb2NrIHVzZXIgSUQgZnJvbSBzZXNzaW9uU3RvcmFnZVxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oXCJtb2NrX3VzZXJfdWlkXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgRmlyZWJhc2UgaXMgaW5pdGlhbGl6ZWRcbiAgICAgIGNvbnN0IGZpcmViYXNlQXBwID0gaW5pdGlhbGl6ZUZpcmViYXNlKHRydWUsIGZhbHNlKTtcbiAgICAgIGNvbnN0IGF1dGggPSBmaXJlYmFzZUFwcC5hdXRoO1xuXG4gICAgICBpZiAoIWF1dGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmlyZWJhc2UgYXV0aCBpcyBub3QgaW5pdGlhbGl6ZWRcIik7XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IGZpcmViYXNlU2lnbk91dChhdXRoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHNpZ25pbmcgb3V0OlwiLCBlcnJvcik7XG4gICAgICAvLyBSZXNldCB1c2VyIHN0YXRlIHJlZ2FyZGxlc3Mgb2YgZXJyb3JcbiAgICAgIHNldFVzZXIobnVsbCk7XG4gICAgICBzZXRVc2VyVWlkKG51bGwpO1xuXG4gICAgICAvLyBDbGVhciB0aGUgbW9jayB1c2VyIElEIGZyb20gc2Vzc2lvblN0b3JhZ2VcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oXCJtb2NrX3VzZXJfdWlkXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBBdXRvIHNpZ24gaW4gYW5vbnltb3VzbHkgaWYgbm90IHNpZ25lZCBpblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIENoZWNrIGlmIEZpcmViYXNlIGVtdWxhdG9yIGlzIHJ1bm5pbmdcbiAgICBjb25zdCBpc0VtdWxhdG9yID1cbiAgICAgIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gXCJsb2NhbGhvc3RcIiAmJlxuICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfVVNFX0ZJUkVCQVNFX0VNVUxBVE9SID09PSBcInRydWVcIjtcblxuICAgIGlmICghbG9hZGluZyAmJiAhdXNlcikge1xuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgIFwiQXV0byBzaWduLWluOiBObyB1c2VyIGRldGVjdGVkLCBhdHRlbXB0aW5nIGFub255bW91cyBzaWduIGluXCJcbiAgICAgICk7XG4gICAgICBpZiAoaXNFbXVsYXRvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlVzaW5nIEZpcmViYXNlIGVtdWxhdG9yIGZvciBhdXRoZW50aWNhdGlvblwiKTtcbiAgICAgIH1cbiAgICAgIHNpZ25JbkFub255bW91c2x5KCk7XG4gICAgfVxuICB9LCBbbG9hZGluZywgdXNlcl0pO1xuXG4gIC8vIENvbnRleHQgdmFsdWVcbiAgY29uc3QgdmFsdWU6IEF1dGhDb250ZXh0VHlwZSA9IHtcbiAgICB1c2VyLFxuICAgIHVzZXJVaWQsXG4gICAgbG9hZGluZyxcbiAgICBzaWduSW5Bbm9ueW1vdXNseSxcbiAgICBzaWduT3V0LFxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPEF1dGhDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt2YWx1ZX0+XG4gICAgICB7IWxvYWRpbmcgJiYgY2hpbGRyZW59XG4gICAgPC9BdXRoQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn07XG5cbi8vIEN1c3RvbSBob29rIHRvIHVzZSB0aGUgYXV0aCBjb250ZXh0XG5leHBvcnQgY29uc3QgdXNlQXV0aCA9ICgpID0+IHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoQXV0aENvbnRleHQpO1xuICBpZiAoY29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXNlQXV0aCBtdXN0IGJlIHVzZWQgd2l0aGluIGFuIEF1dGhQcm92aWRlclwiKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEF1dGhDb250ZXh0O1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInNpZ25JbkFub255bW91c2x5IiwiZmlyZWJhc2VTaWduSW5Bbm9ueW1vdXNseSIsInNpZ25PdXQiLCJmaXJlYmFzZVNpZ25PdXQiLCJvbkF1dGhTdGF0ZUNoYW5nZWQiLCJpbml0aWFsaXplRmlyZWJhc2UiLCJBdXRoQ29udGV4dCIsInVuZGVmaW5lZCIsIkF1dGhQcm92aWRlciIsImNoaWxkcmVuIiwidXNlciIsInNldFVzZXIiLCJ1c2VyVWlkIiwic2V0VXNlclVpZCIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiY29uc29sZSIsImxvZyIsImdlbmVyYXRlTW9ja1VzZXJJZCIsImV4aXN0aW5nSWQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibmV3SWQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJzZXRJdGVtIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NLSVBfQVVUSCIsIm1vY2tVaWQiLCJzZXNzaW9uU3RvcmFnZSIsInVpZCIsImZpcmViYXNlQXBwIiwiYXV0aCIsImVycm9yIiwidW5zdWJzY3JpYmUiLCJhdXRoVXNlciIsImRiIiwiZG9jIiwiZ2V0RG9jIiwic2V0RG9jIiwidXNlclJlZiIsInVzZXJEb2MiLCJleGlzdHMiLCJuYW1lIiwiY3JlYXRlZEF0IiwiRGF0ZSIsImhpZ2hTY29yZXMiLCJFcnJvciIsInJlbW92ZUl0ZW0iLCJpc0VtdWxhdG9yIiwid2luZG93IiwibG9jYXRpb24iLCJob3N0bmFtZSIsIk5FWFRfUFVCTElDX1VTRV9GSVJFQkFTRV9FTVVMQVRPUiIsInZhbHVlIiwiUHJvdmlkZXIiLCJ1c2VBdXRoIiwiY29udGV4dCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/contexts/AuthContext.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./src/contexts/ConsentContext.tsx":
/*!*****************************************!*\
  !*** ./src/contexts/ConsentContext.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConsentProvider: () => (/* binding */ ConsentProvider),\n/* harmony export */   useConsent: () => (/* binding */ useConsent)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst defaultConsentState = {\n    analytics: false,\n    necessary: true,\n    localStorage: true,\n    firebase: true\n};\nconst defaultContext = {\n    consent: defaultConsentState,\n    setConsent: ()=>{},\n    hasSetConsent: false,\n    setHasSetConsent: ()=>{}\n};\nconst ConsentContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(defaultContext);\nconst useConsent = ()=>(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ConsentContext);\nconst ConsentProvider = ({ children })=>{\n    const [consent, setConsentState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(defaultConsentState);\n    const [hasSetConsent, setHasSetConsent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Load consent state from localStorage on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ConsentProvider.useEffect\": ()=>{\n            // Only attempt to read if localStorage is available\n            if (false) {}\n        }\n    }[\"ConsentProvider.useEffect\"], []);\n    // Update localStorage when consent changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ConsentProvider.useEffect\": ()=>{\n            // Only save if the user has explicitly set consent\n            if (hasSetConsent && \"undefined\" !== 'undefined') {}\n        }\n    }[\"ConsentProvider.useEffect\"], [\n        consent,\n        hasSetConsent\n    ]);\n    const setConsent = (newConsent)=>{\n        setConsentState((prev)=>({\n                ...prev,\n                ...newConsent\n            }));\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ConsentContext.Provider, {\n        value: {\n            consent,\n            setConsent,\n            hasSetConsent,\n            setHasSetConsent\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/alex/Developer/trendguesser/src/contexts/ConsentContext.tsx\",\n        lineNumber: 78,\n        columnNumber: 5\n    }, undefined);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3NyYy9jb250ZXh0cy9Db25zZW50Q29udGV4dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUE4RTtBQWdCOUUsTUFBTUssc0JBQW9DO0lBQ3hDQyxXQUFXO0lBQ1hDLFdBQVc7SUFDWEMsY0FBYztJQUNkQyxVQUFVO0FBQ1o7QUFFQSxNQUFNQyxpQkFBcUM7SUFDekNDLFNBQVNOO0lBQ1RPLFlBQVksS0FBTztJQUNuQkMsZUFBZTtJQUNmQyxrQkFBa0IsS0FBTztBQUMzQjtBQUVBLE1BQU1DLCtCQUFpQmQsb0RBQWFBLENBQXFCUztBQUVsRCxNQUFNTSxhQUFhLElBQU1kLGlEQUFVQSxDQUFDYSxnQkFBZ0I7QUFFcEQsTUFBTUUsa0JBQTJELENBQUMsRUFBRUMsUUFBUSxFQUFFO0lBQ25GLE1BQU0sQ0FBQ1AsU0FBU1EsZ0JBQWdCLEdBQUdoQiwrQ0FBUUEsQ0FBZUU7SUFDMUQsTUFBTSxDQUFDUSxlQUFlQyxpQkFBaUIsR0FBR1gsK0NBQVFBLENBQVU7SUFFNUQsZ0RBQWdEO0lBQ2hEQyxnREFBU0E7cUNBQUM7WUFDUixvREFBb0Q7WUFDcEQsSUFBSSxLQUE2QixFQUFFLEVBZ0JsQztRQUNIO29DQUFHLEVBQUU7SUFFTCwyQ0FBMkM7SUFDM0NBLGdEQUFTQTtxQ0FBQztZQUNSLG1EQUFtRDtZQUNuRCxJQUFJUyxpQkFBaUIsZ0JBQWtCLGFBQWEsRUFHbkQ7UUFDSDtvQ0FBRztRQUFDRjtRQUFTRTtLQUFjO0lBRTNCLE1BQU1ELGFBQWEsQ0FBQ21CO1FBQ2xCWixnQkFBZ0IsQ0FBQ2EsT0FBVTtnQkFDekIsR0FBR0EsSUFBSTtnQkFDUCxHQUFHRCxVQUFVO1lBQ2Y7SUFDRjtJQUVBLHFCQUNFLDhEQUFDaEIsZUFBZWtCLFFBQVE7UUFDdEJDLE9BQU87WUFDTHZCO1lBQ0FDO1lBQ0FDO1lBQ0FDO1FBQ0Y7a0JBRUNJOzs7Ozs7QUFHUCxFQUFFIiwic291cmNlcyI6WyIvVXNlcnMvYWxleC9EZXZlbG9wZXIvdHJlbmRndWVzc2VyL3NyYy9jb250ZXh0cy9Db25zZW50Q29udGV4dC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29uc2VudFN0YXRlIHtcbiAgYW5hbHl0aWNzOiBib29sZWFuO1xuICBuZWNlc3Nhcnk6IGJvb2xlYW47IC8vIEFsd2F5cyB0cnVlLCByZXF1aXJlZCBmb3IgYXBwIGZ1bmN0aW9uYWxpdHlcbiAgbG9jYWxTdG9yYWdlOiBib29sZWFuO1xuICBmaXJlYmFzZTogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIENvbnNlbnRDb250ZXh0VHlwZSB7XG4gIGNvbnNlbnQ6IENvbnNlbnRTdGF0ZTtcbiAgc2V0Q29uc2VudDogKGNvbnNlbnQ6IFBhcnRpYWw8Q29uc2VudFN0YXRlPikgPT4gdm9pZDtcbiAgaGFzU2V0Q29uc2VudDogYm9vbGVhbjtcbiAgc2V0SGFzU2V0Q29uc2VudDogKGhhc1NldDogYm9vbGVhbikgPT4gdm9pZDtcbn1cblxuY29uc3QgZGVmYXVsdENvbnNlbnRTdGF0ZTogQ29uc2VudFN0YXRlID0ge1xuICBhbmFseXRpY3M6IGZhbHNlLFxuICBuZWNlc3Nhcnk6IHRydWUsIC8vIEFsd2F5cyB0cnVlLCByZXF1aXJlZCBmb3IgYXBwIGZ1bmN0aW9uYWxpdHlcbiAgbG9jYWxTdG9yYWdlOiB0cnVlLCAvLyBEZWZhdWx0IHRvIHRydWUgZm9yIFRyZW5kR3Vlc3NlciBhcyBpdCdzIG5lZWRlZCBmb3Igc2NvcmUgdHJhY2tpbmdcbiAgZmlyZWJhc2U6IHRydWUsIC8vIERlZmF1bHQgdG8gdHJ1ZSBmb3IgVHJlbmRHdWVzc2VyIGFzIGl0J3MgbmVlZGVkIGZvciBnYW1lIGZ1bmN0aW9uYWxpdHlcbn07XG5cbmNvbnN0IGRlZmF1bHRDb250ZXh0OiBDb25zZW50Q29udGV4dFR5cGUgPSB7XG4gIGNvbnNlbnQ6IGRlZmF1bHRDb25zZW50U3RhdGUsXG4gIHNldENvbnNlbnQ6ICgpID0+IHt9LFxuICBoYXNTZXRDb25zZW50OiBmYWxzZSxcbiAgc2V0SGFzU2V0Q29uc2VudDogKCkgPT4ge30sXG59O1xuXG5jb25zdCBDb25zZW50Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8Q29uc2VudENvbnRleHRUeXBlPihkZWZhdWx0Q29udGV4dCk7XG5cbmV4cG9ydCBjb25zdCB1c2VDb25zZW50ID0gKCkgPT4gdXNlQ29udGV4dChDb25zZW50Q29udGV4dCk7XG5cbmV4cG9ydCBjb25zdCBDb25zZW50UHJvdmlkZXI6IFJlYWN0LkZDPHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9PiA9ICh7IGNoaWxkcmVuIH0pID0+IHtcbiAgY29uc3QgW2NvbnNlbnQsIHNldENvbnNlbnRTdGF0ZV0gPSB1c2VTdGF0ZTxDb25zZW50U3RhdGU+KGRlZmF1bHRDb25zZW50U3RhdGUpO1xuICBjb25zdCBbaGFzU2V0Q29uc2VudCwgc2V0SGFzU2V0Q29uc2VudF0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG5cbiAgLy8gTG9hZCBjb25zZW50IHN0YXRlIGZyb20gbG9jYWxTdG9yYWdlIG9uIG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gT25seSBhdHRlbXB0IHRvIHJlYWQgaWYgbG9jYWxTdG9yYWdlIGlzIGF2YWlsYWJsZVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3Qgc3RvcmVkQ29uc2VudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjb25zZW50Jyk7XG4gICAgICBjb25zdCBzdG9yZWRIYXNTZXRDb25zZW50ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2hhc1NldENvbnNlbnQnKTtcbiAgICAgIFxuICAgICAgaWYgKHN0b3JlZENvbnNlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXJzZWRDb25zZW50ID0gSlNPTi5wYXJzZShzdG9yZWRDb25zZW50KTtcbiAgICAgICAgICBzZXRDb25zZW50U3RhdGUocGFyc2VkQ29uc2VudCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHBhcnNlIHN0b3JlZCBjb25zZW50JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChzdG9yZWRIYXNTZXRDb25zZW50KSB7XG4gICAgICAgIHNldEhhc1NldENvbnNlbnQoc3RvcmVkSGFzU2V0Q29uc2VudCA9PT0gJ3RydWUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtdKTtcblxuICAvLyBVcGRhdGUgbG9jYWxTdG9yYWdlIHdoZW4gY29uc2VudCBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gT25seSBzYXZlIGlmIHRoZSB1c2VyIGhhcyBleHBsaWNpdGx5IHNldCBjb25zZW50XG4gICAgaWYgKGhhc1NldENvbnNlbnQgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjb25zZW50JywgSlNPTi5zdHJpbmdpZnkoY29uc2VudCkpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2hhc1NldENvbnNlbnQnLCBoYXNTZXRDb25zZW50LnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgfSwgW2NvbnNlbnQsIGhhc1NldENvbnNlbnRdKTtcblxuICBjb25zdCBzZXRDb25zZW50ID0gKG5ld0NvbnNlbnQ6IFBhcnRpYWw8Q29uc2VudFN0YXRlPikgPT4ge1xuICAgIHNldENvbnNlbnRTdGF0ZSgocHJldikgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICAuLi5uZXdDb25zZW50LFxuICAgIH0pKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxDb25zZW50Q29udGV4dC5Qcm92aWRlclxuICAgICAgdmFsdWU9e3tcbiAgICAgICAgY29uc2VudCxcbiAgICAgICAgc2V0Q29uc2VudCxcbiAgICAgICAgaGFzU2V0Q29uc2VudCxcbiAgICAgICAgc2V0SGFzU2V0Q29uc2VudCxcbiAgICAgIH19XG4gICAgPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvQ29uc2VudENvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59O1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsImRlZmF1bHRDb25zZW50U3RhdGUiLCJhbmFseXRpY3MiLCJuZWNlc3NhcnkiLCJsb2NhbFN0b3JhZ2UiLCJmaXJlYmFzZSIsImRlZmF1bHRDb250ZXh0IiwiY29uc2VudCIsInNldENvbnNlbnQiLCJoYXNTZXRDb25zZW50Iiwic2V0SGFzU2V0Q29uc2VudCIsIkNvbnNlbnRDb250ZXh0IiwidXNlQ29uc2VudCIsIkNvbnNlbnRQcm92aWRlciIsImNoaWxkcmVuIiwic2V0Q29uc2VudFN0YXRlIiwic3RvcmVkQ29uc2VudCIsImdldEl0ZW0iLCJzdG9yZWRIYXNTZXRDb25zZW50IiwicGFyc2VkQ29uc2VudCIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwiY29uc29sZSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJ0b1N0cmluZyIsIm5ld0NvbnNlbnQiLCJwcmV2IiwiUHJvdmlkZXIiLCJ2YWx1ZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/contexts/ConsentContext.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./src/contexts/GameContext.tsx":
/*!**************************************!*\
  !*** ./src/contexts/GameContext.tsx ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameProvider: () => (/* binding */ GameProvider),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   useGame: () => (/* binding */ useGame)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"(pages-dir-node)/./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var _lib_firebase_firebase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/firebase/firebase */ \"(pages-dir-node)/./src/lib/firebase/firebase.ts\");\n/* harmony import */ var _AuthContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./AuthContext */ \"(pages-dir-node)/./src/contexts/AuthContext.tsx\");\n/* harmony import */ var _lib_firebase_trendGuesserService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/firebase/trendGuesserService */ \"(pages-dir-node)/./src/lib/firebase/trendGuesserService.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_firestore__WEBPACK_IMPORTED_MODULE_3__, _lib_firebase_firebase__WEBPACK_IMPORTED_MODULE_4__, _AuthContext__WEBPACK_IMPORTED_MODULE_5__, _lib_firebase_trendGuesserService__WEBPACK_IMPORTED_MODULE_6__]);\n([firebase_firestore__WEBPACK_IMPORTED_MODULE_3__, _lib_firebase_firebase__WEBPACK_IMPORTED_MODULE_4__, _AuthContext__WEBPACK_IMPORTED_MODULE_5__, _lib_firebase_trendGuesserService__WEBPACK_IMPORTED_MODULE_6__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\nconst GameContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nconst GameProvider = ({ children })=>{\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const { userUid } = (0,_AuthContext__WEBPACK_IMPORTED_MODULE_5__.useAuth)();\n    // Use localStorage to persist gameId across page refreshes in development\n    const getInitialGameId = ()=>{\n        if (false) {}\n        return null;\n    };\n    const [gameId, _setGameId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(getInitialGameId());\n    const [gameData, setGameData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [currentPlayer, setCurrentPlayer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Custom setter for gameId that also updates sessionStorage\n    const setGameId = (id)=>{\n        console.log(\"Setting game ID to:\", id);\n        _setGameId(id);\n        // Also update sessionStorage\n        if (false) {}\n    };\n    // Check for a stored game ID on initial load (for mock mode)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GameProvider.useEffect\": ()=>{\n            if ( true && !gameId) {\n                if (false) {}\n            }\n        }\n    }[\"GameProvider.useEffect\"], []);\n    // Watch for changes to the game data\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GameProvider.useEffect\": ()=>{\n            if (!userUid) {\n                setLoading(false);\n                return;\n            }\n            // If game ID is not set, but we're in mock mode, try to get it from session storage\n            if (!gameId && \"true\" === \"true\") {\n                if (false) {}\n                setLoading(false);\n                return;\n            }\n            if (!gameId) {\n                setLoading(false);\n                return;\n            }\n            setLoading(true);\n            setError(null);\n            console.log(`Setting up game data watcher for game ID: ${gameId}, user: ${userUid}`);\n            // Check if using mock data\n            if (true) {\n                console.log(\"Using mock data in GameContext for game:\", gameId);\n                // Create function to check for game data in sessionStorage\n                const checkMockGameData = {\n                    \"GameProvider.useEffect.checkMockGameData\": ()=>{\n                        if (false) {}\n                    }\n                }[\"GameProvider.useEffect.checkMockGameData\"];\n                // Check immediately\n                checkMockGameData();\n                // Set up interval to check for changes (simulating Firestore's onSnapshot)\n                const intervalId = setInterval(checkMockGameData, 500);\n                return ({\n                    \"GameProvider.useEffect\": ()=>{\n                        console.log(`Cleaning up game data watcher for game ID: ${gameId}`);\n                        clearInterval(intervalId);\n                    }\n                })[\"GameProvider.useEffect\"];\n            } else {}\n        }\n    }[\"GameProvider.useEffect\"], [\n        gameId,\n        userUid\n    ]);\n    // Start a new game\n    const startGame = async (category, customTerm)=>{\n        if (!gameId || !userUid) {\n            setError(\"No game ID or user ID\");\n            return;\n        }\n        try {\n            setLoading(true);\n            console.log(`Starting game with ID: ${gameId}, category: ${category}, customTerm: ${customTerm || \"none\"}`);\n            // When using mock data, make sure the current_game_id is set correctly before starting the game\n            if (false) {}\n            // Start the game - this should return the initial game state\n            const initialGameState = await _lib_firebase_trendGuesserService__WEBPACK_IMPORTED_MODULE_6__.TrendGuesserService.startGame(gameId, category, customTerm);\n            if (initialGameState) {\n                // Set the game state directly from the return value for immediate use\n                setGameState(initialGameState);\n                // Update player data if needed\n                if (false) {}\n            } else {\n                console.error(\"No game state returned from TrendGuesserService.startGame\");\n                setError(\"Failed to initialize game state\");\n            }\n            setLoading(false);\n        } catch (error) {\n            console.error(\"Error starting game:\", error);\n            setError(\"Failed to start game: \" + (error instanceof Error ? error.message : \"Unknown error\"));\n            setLoading(false);\n        }\n    };\n    // Make a guess (higher or lower)\n    const makeGuess = async (isHigher)=>{\n        if (!userUid) {\n            setError(\"No user ID\");\n            return false;\n        }\n        // Get the current game ID from state or session storage\n        let currentGameId = gameId;\n        if (!currentGameId && \"true\" === \"true\" && \"undefined\" !== \"undefined\") {}\n        if (!currentGameId) {\n            setError(\"No game ID available\");\n            return false;\n        }\n        try {\n            // In mock mode, ensure the current game state is loaded properly\n            if (false) {}\n            console.log(`Making guess (${isHigher ? \"HIGHER\" : \"LOWER\"}) for game:`, currentGameId);\n            const result = await _lib_firebase_trendGuesserService__WEBPACK_IMPORTED_MODULE_6__.TrendGuesserService.makeGuess(currentGameId, userUid, isHigher);\n            // If in mock mode, immediately update the game state to reflect the guess result\n            if (false) {}\n            return result;\n        } catch (error) {\n            console.error(\"Error making guess:\", error);\n            setError(\"Failed to process guess: \" + (error instanceof Error ? error.message : \"Unknown error\"));\n            return false;\n        }\n    };\n    // End the game\n    const endGame = async ()=>{\n        if (!userUid || !currentPlayer) {\n            setError(\"No user ID or player data\");\n            return;\n        }\n        // Get the current game ID from state or session storage\n        let currentGameId = gameId;\n        if (!currentGameId && \"true\" === \"true\" && \"undefined\" !== \"undefined\") {}\n        if (!currentGameId) {\n            console.warn(\"No game ID available for ending game, will still proceed with reset\");\n            return;\n        }\n        try {\n            console.log(\"Ending game:\", currentGameId, \"with score:\", currentPlayer.score || 0);\n            await _lib_firebase_trendGuesserService__WEBPACK_IMPORTED_MODULE_6__.TrendGuesserService.endGame(currentGameId, userUid, currentPlayer.score || 0);\n            // In mock mode, update the game state to reflect the game ending\n            if (false) {}\n        } catch (error) {\n            console.error(\"Error ending game:\", error);\n            setError(\"Failed to end game\");\n        // Still proceed with resetting local state even if there was an error\n        }\n    };\n    // Reset game state for a new game\n    const resetGame = ()=>{\n        console.log(\"Resetting game state\");\n        // Store game ID before clearing it\n        const currentGameId = gameId;\n        // Clear state\n        setGameId(null);\n        setGameData(null);\n        setGameState(null);\n        setCurrentPlayer(null);\n        setError(null);\n        // Clear any stored game data for this game if in mock mode\n        if (false) {}\n    };\n    const value = {\n        gameId,\n        gameData,\n        loading,\n        error,\n        currentPlayer,\n        gameState,\n        setGameId,\n        startGame,\n        makeGuess,\n        endGame,\n        resetGame\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(GameContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/alex/Developer/trendguesser/src/contexts/GameContext.tsx\",\n        lineNumber: 553,\n        columnNumber: 10\n    }, undefined);\n};\nconst useGame = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(GameContext);\n    if (!context) {\n        throw new Error(\"useGame must be used within a GameProvider\");\n    }\n    return context;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GameContext);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3NyYy9jb250ZXh0cy9HYW1lQ29udGV4dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBOEU7QUFDdEM7QUFTWjtBQUNpQjtBQUNMO0FBUWlDO0FBZ0J6RSxNQUFNVyw0QkFBY1Ysb0RBQWFBLENBQThCVztBQUV4RCxNQUFNQyxlQUF3RCxDQUFDLEVBQ3BFQyxRQUFRLEVBQ1Q7SUFDQyxNQUFNQyxTQUFTVixzREFBU0E7SUFDeEIsTUFBTSxFQUFFVyxPQUFPLEVBQUUsR0FBR1AscURBQU9BO0lBRTNCLDBFQUEwRTtJQUMxRSxNQUFNUSxtQkFBbUI7UUFDdkIsSUFDRSxLQUNnRCxFQUNoRCxFQUVEO1FBQ0QsT0FBTztJQUNUO0lBRUEsTUFBTSxDQUFDTSxRQUFRQyxXQUFXLEdBQUdyQiwrQ0FBUUEsQ0FBZ0JjO0lBQ3JELE1BQU0sQ0FBQ1EsVUFBVUMsWUFBWSxHQUFHdkIsK0NBQVFBLENBQWtCO0lBQzFELE1BQU0sQ0FBQ3dCLFNBQVNDLFdBQVcsR0FBR3pCLCtDQUFRQSxDQUFVO0lBQ2hELE1BQU0sQ0FBQzBCLE9BQU9DLFNBQVMsR0FBRzNCLCtDQUFRQSxDQUFnQjtJQUNsRCxNQUFNLENBQUM0QixXQUFXQyxhQUFhLEdBQUc3QiwrQ0FBUUEsQ0FDeEM7SUFFRixNQUFNLENBQUM4QixlQUFlQyxpQkFBaUIsR0FBRy9CLCtDQUFRQSxDQUNoRDtJQUdGLDREQUE0RDtJQUM1RCxNQUFNZ0MsWUFBWSxDQUFDQztRQUNqQkMsUUFBUUMsR0FBRyxDQUFDLHVCQUF1QkY7UUFDbkNaLFdBQVdZO1FBRVgsNkJBQTZCO1FBQzdCLElBQ0UsS0FDZ0QsRUFDaEQsRUFRRDtJQUNIO0lBRUEsNkRBQTZEO0lBQzdEaEMsZ0RBQVNBO2tDQUFDO1lBQ1IsSUFBSWMsS0FBZ0QsSUFBSSxDQUFDSyxRQUFRO2dCQUMvRCxJQUFJLEtBQTZCLEVBQUUsRUFNbEM7WUFDSDtRQUNGO2lDQUFHLEVBQUU7SUFFTCxxQ0FBcUM7SUFDckNu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Ozs7QUFDOUMsRUFBRTtBQUVLLE1BQU1tRSxVQUFVO0lBQ3JCLE1BQU1DLFVBQVVoRixpREFBVUEsQ0FBQ1M7SUFDM0IsSUFBSSxDQUFDdUUsU0FBUztRQUNaLE1BQU0sSUFBSWhCLE1BQU07SUFDbEI7SUFDQSxPQUFPZ0I7QUFDVCxFQUFFO0FBRUYsaUVBQWV2RSxXQUFXQSxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvYWxleC9EZXZlbG9wZXIvdHJlbmRndWVzc2VyL3NyYy9jb250ZXh0cy9HYW1lQ29udGV4dC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IHtcbiAgZG9jLFxuICBnZXREb2MsXG4gIG9uU25hcHNob3QsXG4gIGNvbGxlY3Rpb24sXG4gIHF1ZXJ5LFxuICB3aGVyZSxcbiAgZ2V0RG9jcyxcbn0gZnJvbSBcImZpcmViYXNlL2ZpcmVzdG9yZVwiO1xuaW1wb3J0IHsgZGIgfSBmcm9tIFwiQC9saWIvZmlyZWJhc2UvZmlyZWJhc2VcIjtcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tIFwiLi9BdXRoQ29udGV4dFwiO1xuaW1wb3J0IHtcbiAgR2FtZURhdGEsXG4gIFNlYXJjaENhdGVnb3J5LFxuICBUcmVuZEd1ZXNzZXJHYW1lU3RhdGUsXG4gIFRyZW5kR3Vlc3NlclBsYXllcixcbiAgU2VhcmNoVGVybSxcbn0gZnJvbSBcIkAvdHlwZXNcIjtcbmltcG9ydCB7IFRyZW5kR3Vlc3NlclNlcnZpY2UgfSBmcm9tIFwiQC9saWIvZmlyZWJhc2UvdHJlbmRHdWVzc2VyU2VydmljZVwiO1xuXG5pbnRlcmZhY2UgR2FtZUNvbnRleHRUeXBlIHtcbiAgZ2FtZUlkOiBzdHJpbmcgfCBudWxsO1xuICBnYW1lRGF0YTogR2FtZURhdGEgfCBudWxsO1xuICBsb2FkaW5nOiBib29sZWFuO1xuICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcbiAgY3VycmVudFBsYXllcjogVHJlbmRHdWVzc2VyUGxheWVyIHwgbnVsbDtcbiAgZ2FtZVN0YXRlOiBUcmVuZEd1ZXNzZXJHYW1lU3RhdGUgfCBudWxsO1xuICBzZXRHYW1lSWQ6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xuICBzdGFydEdhbWU6IChjYXRlZ29yeTogU2VhcmNoQ2F0ZWdvcnksIGN1c3RvbVRlcm0/OiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG4gIG1ha2VHdWVzczogKGlzSGlnaGVyOiBib29sZWFuKSA9PiBQcm9taXNlPGJvb2xlYW4+O1xuICBlbmRHYW1lOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICByZXNldEdhbWU6ICgpID0+IHZvaWQ7XG59XG5cbmNvbnN0IEdhbWVDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxHYW1lQ29udGV4dFR5cGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG5cbmV4cG9ydCBjb25zdCBHYW1lUHJvdmlkZXI6IFJlYWN0LkZDPHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9PiA9ICh7XG4gIGNoaWxkcmVuLFxufSkgPT4ge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgeyB1c2VyVWlkIH0gPSB1c2VBdXRoKCk7XG5cbiAgLy8gVXNlIGxvY2FsU3RvcmFnZSB0byBwZXJzaXN0IGdhbWVJZCBhY3Jvc3MgcGFnZSByZWZyZXNoZXMgaW4gZGV2ZWxvcG1lbnRcbiAgY29uc3QgZ2V0SW5pdGlhbEdhbWVJZCA9ICgpID0+IHtcbiAgICBpZiAoXG4gICAgICB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19VU0VfTU9DS19EQVRBID09PSBcInRydWVcIlxuICAgICkge1xuICAgICAgcmV0dXJuIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJjdXJyZW50X2dhbWVfaWRcIik7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIGNvbnN0IFtnYW1lSWQsIF9zZXRHYW1lSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4oZ2V0SW5pdGlhbEdhbWVJZCgpKTtcbiAgY29uc3QgW2dhbWVEYXRhLCBzZXRHYW1lRGF0YV0gPSB1c2VTdGF0ZTxHYW1lRGF0YSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZTxib29sZWFuPih0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2dhbWVTdGF0ZSwgc2V0R2FtZVN0YXRlXSA9IHVzZVN0YXRlPFRyZW5kR3Vlc3NlckdhbWVTdGF0ZSB8IG51bGw+KFxuICAgIG51bGxcbiAgKTtcbiAgY29uc3QgW2N1cnJlbnRQbGF5ZXIsIHNldEN1cnJlbnRQbGF5ZXJdID0gdXNlU3RhdGU8VHJlbmRHdWVzc2VyUGxheWVyIHwgbnVsbD4oXG4gICAgbnVsbFxuICApO1xuXG4gIC8vIEN1c3RvbSBzZXR0ZXIgZm9yIGdhbWVJZCB0aGF0IGFsc28gdXBkYXRlcyBzZXNzaW9uU3RvcmFnZVxuICBjb25zdCBzZXRHYW1lSWQgPSAoaWQ6IHN0cmluZyB8IG51bGwpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIlNldHRpbmcgZ2FtZSBJRCB0bzpcIiwgaWQpO1xuICAgIF9zZXRHYW1lSWQoaWQpO1xuXG4gICAgLy8gQWxzbyB1cGRhdGUgc2Vzc2lvblN0b3JhZ2VcbiAgICBpZiAoXG4gICAgICB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19VU0VfTU9DS19EQVRBID09PSBcInRydWVcIlxuICAgICkge1xuICAgICAgaWYgKGlkKSB7XG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJjdXJyZW50X2dhbWVfaWRcIiwgaWQpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlVwZGF0ZWQgY3VycmVudF9nYW1lX2lkIGluIHNlc3Npb24gc3RvcmFnZTpcIiwgaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShcImN1cnJlbnRfZ2FtZV9pZFwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJSZW1vdmVkIGN1cnJlbnRfZ2FtZV9pZCBmcm9tIHNlc3Npb24gc3RvcmFnZVwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gQ2hlY2sgZm9yIGEgc3RvcmVkIGdhbWUgSUQgb24gaW5pdGlhbCBsb2FkIChmb3IgbW9jayBtb2RlKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19VU0VfTU9DS19EQVRBID09PSBcInRydWVcIiAmJiAhZ2FtZUlkKSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBjb25zdCBzdG9yZWRHYW1lSWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiY3VycmVudF9nYW1lX2lkXCIpO1xuICAgICAgICBpZiAoc3RvcmVkR2FtZUlkKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJGb3VuZCBzdG9yZWQgZ2FtZSBJRCBpbiBzZXNzaW9uIHN0b3JhZ2U6XCIsIHN0b3JlZEdhbWVJZCk7XG4gICAgICAgICAgc2V0R2FtZUlkKHN0b3JlZEdhbWVJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIFtdKTtcblxuICAvLyBXYXRjaCBmb3IgY2hhbmdlcyB0byB0aGUgZ2FtZSBkYXRhXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF1c2VyVWlkKSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBnYW1lIElEIGlzIG5vdCBzZXQsIGJ1dCB3ZSdyZSBpbiBtb2NrIG1vZGUsIHRyeSB0byBnZXQgaXQgZnJvbSBzZXNzaW9uIHN0b3JhZ2VcbiAgICBpZiAoIWdhbWVJZCAmJiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19VU0VfTU9DS19EQVRBID09PSBcInRydWVcIikge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgY29uc3Qgc3RvcmVkR2FtZUlkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcImN1cnJlbnRfZ2FtZV9pZFwiKTtcbiAgICAgICAgaWYgKHN0b3JlZEdhbWVJZCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgXCJVc2luZyBzdG9yZWQgZ2FtZSBJRCBmcm9tIHNlc3Npb24gc3RvcmFnZTpcIixcbiAgICAgICAgICAgIHN0b3JlZEdhbWVJZFxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0R2FtZUlkKHN0b3JlZEdhbWVJZCk7XG4gICAgICAgICAgcmV0dXJuOyAvLyBUaGlzIHdpbGwgdHJpZ2dlciB0aGlzIHVzZUVmZmVjdCBhZ2FpbiB3aXRoIHRoZSBnYW1lSWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFnYW1lSWQpIHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG5cbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIGBTZXR0aW5nIHVwIGdhbWUgZGF0YSB3YXRjaGVyIGZvciBnYW1lIElEOiAke2dhbWVJZH0sIHVzZXI6ICR7dXNlclVpZH1gXG4gICAgKTtcblxuICAgIC8vIENoZWNrIGlmIHVzaW5nIG1vY2sgZGF0YVxuICAgIGlmIChwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19VU0VfTU9DS19EQVRBID09PSBcInRydWVcIikge1xuICAgICAgY29uc29sZS5sb2coXCJVc2luZyBtb2NrIGRhdGEgaW4gR2FtZUNvbnRleHQgZm9yIGdhbWU6XCIsIGdhbWVJZCk7XG5cbiAgICAgIC8vIENyZWF0ZSBmdW5jdGlvbiB0byBjaGVjayBmb3IgZ2FtZSBkYXRhIGluIHNlc3Npb25TdG9yYWdlXG4gICAgICBjb25zdCBjaGVja01vY2tHYW1lRGF0YSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBjb25zdCBzdG9yZWRHYW1lRGF0YSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oYGdhbWVfJHtnYW1lSWR9YCk7XG4gICAgICAgICAgaWYgKHN0b3JlZEdhbWVEYXRhKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShzdG9yZWRHYW1lRGF0YSkgYXMgR2FtZURhdGE7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgIGBGb3VuZCBtb2NrIGdhbWUgZGF0YSBmb3IgJHtnYW1lSWR9OmAsXG4gICAgICAgICAgICAgICAgZGF0YS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgZGF0YVtcIl9fdHJlbmRndWVzc2VyLnN0YXRlXCJdXG4gICAgICAgICAgICAgICAgICA/IFwiaGFzIGdhbWUgc3RhdGVcIlxuICAgICAgICAgICAgICAgICAgOiBcIm5vIGdhbWUgc3RhdGVcIlxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIC8vIFNldCBnYW1lIGRhdGFcbiAgICAgICAgICAgICAgc2V0R2FtZURhdGEoZGF0YSk7XG5cbiAgICAgICAgICAgICAgLy8gRXh0cmFjdCBnYW1lIHN0YXRlIGlmIGl0IGV4aXN0c1xuICAgICAgICAgICAgICBpZiAoZGF0YVtcIl9fdHJlbmRndWVzc2VyLnN0YXRlXCJdKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2FtZVN0YXRlID0gZGF0YVtcbiAgICAgICAgICAgICAgICAgIFwiX190cmVuZGd1ZXNzZXIuc3RhdGVcIlxuICAgICAgICAgICAgICAgIF0gYXMgVHJlbmRHdWVzc2VyR2FtZVN0YXRlO1xuICAgICAgICAgICAgICAgIHNldEdhbWVTdGF0ZShnYW1lU3RhdGUpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZ2FtZSBoYXMgc3RhcnRlZFxuICAgICAgICAgICAgICAgIGlmIChnYW1lU3RhdGUuc3RhcnRlZCkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgICAgIGBHYW1lICR7Z2FtZUlkfSBpcyBhY3RpdmUgd2l0aCBjYXRlZ29yeTpgLFxuICAgICAgICAgICAgICAgICAgICBnYW1lU3RhdGUuY2F0ZWdvcnlcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gVXNlIHRoZSB1c2VyVWlkIG9yIGEgbW9jayBJRFxuICAgICAgICAgICAgICBjb25zdCBtb2NrVXNlclVpZCA9XG4gICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIm1vY2tfdXNlcl91aWRcIikgfHxcbiAgICAgICAgICAgICAgICB1c2VyVWlkIHx8XG4gICAgICAgICAgICAgICAgXCJtb2NrX3VzZXJcIjtcblxuICAgICAgICAgICAgICAvLyBFeHRyYWN0IGN1cnJlbnQgcGxheWVyIGRhdGFcbiAgICAgICAgICAgICAgaWYgKGRhdGFbbW9ja1VzZXJVaWRdKSB7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudFBsYXllcihkYXRhW21vY2tVc2VyVWlkXSBhcyBUcmVuZEd1ZXNzZXJQbGF5ZXIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgICAgYEZvdW5kIHBsYXllciBkYXRhIGZvciAke21vY2tVc2VyVWlkfSwgc2NvcmU6YCxcbiAgICAgICAgICAgICAgICAgIGRhdGFbbW9ja1VzZXJVaWRdLnNjb3JlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhW1wibW9ja191c2VyXCJdKSB7XG4gICAgICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gbW9ja191c2VyXG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudFBsYXllcihkYXRhW1wibW9ja191c2VyXCJdIGFzIFRyZW5kR3Vlc3NlclBsYXllcik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJVc2luZyBmYWxsYmFjayBtb2NrX3VzZXIgZGF0YVwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwYXJzaW5nIG1vY2sgZ2FtZSBkYXRhOlwiLCBlcnIpO1xuICAgICAgICAgICAgICBzZXRFcnJvcihcIkVycm9yIGxvYWRpbmcgZ2FtZSBkYXRhXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIG1vY2sgZ2FtZSBkYXRhIGZvdW5kIGZvcjpcIiwgZ2FtZUlkKTtcbiAgICAgICAgICAgIHNldEVycm9yKFwiR2FtZSBkYXRhIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gQ2hlY2sgaW1tZWRpYXRlbHlcbiAgICAgIGNoZWNrTW9ja0dhbWVEYXRhKCk7XG5cbiAgICAgIC8vIFNldCB1cCBpbnRlcnZhbCB0byBjaGVjayBmb3IgY2hhbmdlcyAoc2ltdWxhdGluZyBGaXJlc3RvcmUncyBvblNuYXBzaG90KVxuICAgICAgY29uc3QgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGNoZWNrTW9ja0dhbWVEYXRhLCA1MDApO1xuXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhgQ2xlYW5pbmcgdXAgZ2FtZSBkYXRhIHdhdGNoZXIgZm9yIGdhbWUgSUQ6ICR7Z2FtZUlkfWApO1xuICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmVndWxhciBGaXJlc3RvcmUgaW1wbGVtZW50YXRpb25cbiAgICAgIGNvbnN0IGdhbWVSZWYgPSBkb2MoZGIsIFwiZ2FtZXNcIiwgZ2FtZUlkLnRvVXBwZXJDYXNlKCkpO1xuXG4gICAgICBjb25zdCB1bnN1YnNjcmliZSA9IG9uU25hcHNob3QoXG4gICAgICAgIGdhbWVSZWYsXG4gICAgICAgIChkb2NTbmFwc2hvdCkgPT4ge1xuICAgICAgICAgIGlmIChkb2NTbmFwc2hvdC5leGlzdHMoKSkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGRvY1NuYXBzaG90LmRhdGEoKSBhcyBHYW1lRGF0YTtcbiAgICAgICAgICAgIHNldEdhbWVEYXRhKGRhdGEpO1xuXG4gICAgICAgICAgICAvLyBFeHRyYWN0IGdhbWUgc3RhdGUgaWYgaXQgZXhpc3RzXG4gICAgICAgICAgICBpZiAoZGF0YVtcIl9fdHJlbmRndWVzc2VyLnN0YXRlXCJdKSB7XG4gICAgICAgICAgICAgIHNldEdhbWVTdGF0ZShcbiAgICAgICAgICAgICAgICBkYXRhW1wiX190cmVuZGd1ZXNzZXIuc3RhdGVcIl0gYXMgVHJlbmRHdWVzc2VyR2FtZVN0YXRlXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEV4dHJhY3QgY3VycmVudCBwbGF5ZXIgZGF0YVxuICAgICAgICAgICAgaWYgKGRhdGFbdXNlclVpZF0pIHtcbiAgICAgICAgICAgICAgc2V0Q3VycmVudFBsYXllcihkYXRhW3VzZXJVaWRdIGFzIFRyZW5kR3Vlc3NlclBsYXllcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRFcnJvcihcIkdhbWUgbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHdhdGNoaW5nIGdhbWUgZGF0YTpcIiwgZXJyKTtcbiAgICAgICAgICBzZXRFcnJvcihcIkVycm9yIHdhdGNoaW5nIGdhbWUgZGF0YVwiKTtcbiAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICB9LCBbZ2FtZUlkLCB1c2VyVWlkXSk7XG5cbiAgLy8gU3RhcnQgYSBuZXcgZ2FtZVxuICBjb25zdCBzdGFydEdhbWUgPSBhc3luYyAoY2F0ZWdvcnk6IFNlYXJjaENhdGVnb3J5LCBjdXN0b21UZXJtPzogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFnYW1lSWQgfHwgIXVzZXJVaWQpIHtcbiAgICAgIHNldEVycm9yKFwiTm8gZ2FtZSBJRCBvciB1c2VyIElEXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgIGBTdGFydGluZyBnYW1lIHdpdGggSUQ6ICR7Z2FtZUlkfSwgY2F0ZWdvcnk6ICR7Y2F0ZWdvcnl9LCBjdXN0b21UZXJtOiAke1xuICAgICAgICAgIGN1c3RvbVRlcm0gfHwgXCJub25lXCJcbiAgICAgICAgfWBcbiAgICAgICk7XG5cbiAgICAgIC8vIFdoZW4gdXNpbmcgbW9jayBkYXRhLCBtYWtlIHN1cmUgdGhlIGN1cnJlbnRfZ2FtZV9pZCBpcyBzZXQgY29ycmVjdGx5IGJlZm9yZSBzdGFydGluZyB0aGUgZ2FtZVxuICAgICAgaWYgKFxuICAgICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19VU0VfTU9DS19EQVRBID09PSBcInRydWVcIiAmJlxuICAgICAgICB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiXG4gICAgICApIHtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcImN1cnJlbnRfZ2FtZV9pZFwiLCBnYW1lSWQpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkVuc3VyZWQgY3VycmVudF9nYW1lX2lkIGlzIHNldCB0bzpcIiwgZ2FtZUlkKTtcbiAgICAgIH1cblxuICAgICAgLy8gU3RhcnQgdGhlIGdhbWUgLSB0aGlzIHNob3VsZCByZXR1cm4gdGhlIGluaXRpYWwgZ2FtZSBzdGF0ZVxuICAgICAgY29uc3QgaW5pdGlhbEdhbWVTdGF0ZSA9IGF3YWl0IFRyZW5kR3Vlc3NlclNlcnZpY2Uuc3RhcnRHYW1lKFxuICAgICAgICBnYW1lSWQsXG4gICAgICAgIGNhdGVnb3J5LFxuICAgICAgICBjdXN0b21UZXJtXG4gICAgICApO1xuXG4gICAgICBpZiAoaW5pdGlhbEdhbWVTdGF0ZSkge1xuICAgICAgICAvLyBTZXQgdGhlIGdhbWUgc3RhdGUgZGlyZWN0bHkgZnJvbSB0aGUgcmV0dXJuIHZhbHVlIGZvciBpbW1lZGlhdGUgdXNlXG4gICAgICAgIHNldEdhbWVTdGF0ZShpbml0aWFsR2FtZVN0YXRlKTtcblxuICAgICAgICAvLyBVcGRhdGUgcGxheWVyIGRhdGEgaWYgbmVlZGVkXG4gICAgICAgIGlmIChcbiAgICAgICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19VU0VfTU9DS19EQVRBID09PSBcInRydWVcIiAmJlxuICAgICAgICAgIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgbW9ja1VzZXJVaWQgPVxuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIm1vY2tfdXNlcl91aWRcIikgfHwgdXNlclVpZDtcbiAgICAgICAgICBjb25zdCBnYW1lRGF0YSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oYGdhbWVfJHtnYW1lSWR9YCk7XG5cbiAgICAgICAgICBpZiAoZ2FtZURhdGEpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKGdhbWVEYXRhKTtcbiAgICAgICAgICAgICAgaWYgKHBhcnNlZERhdGFbbW9ja1VzZXJVaWRdKSB7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudFBsYXllcihwYXJzZWREYXRhW21vY2tVc2VyVWlkXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgcGxheWVyIGRhdGEgYWZ0ZXIgZ2FtZSBzdGFydDpcIiwgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiTm8gZ2FtZSBzdGF0ZSByZXR1cm5lZCBmcm9tIFRyZW5kR3Vlc3NlclNlcnZpY2Uuc3RhcnRHYW1lXCJcbiAgICAgICAgKTtcbiAgICAgICAgc2V0RXJyb3IoXCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBnYW1lIHN0YXRlXCIpO1xuICAgICAgfVxuXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHN0YXJ0aW5nIGdhbWU6XCIsIGVycm9yKTtcbiAgICAgIHNldEVycm9yKFxuICAgICAgICBcIkZhaWxlZCB0byBzdGFydCBnYW1lOiBcIiArXG4gICAgICAgICAgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIpXG4gICAgICApO1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIE1ha2UgYSBndWVzcyAoaGlnaGVyIG9yIGxvd2VyKVxuICBjb25zdCBtYWtlR3Vlc3MgPSBhc3luYyAoaXNIaWdoZXI6IGJvb2xlYW4pOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICBpZiAoIXVzZXJVaWQpIHtcbiAgICAgIHNldEVycm9yKFwiTm8gdXNlciBJRFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIGN1cnJlbnQgZ2FtZSBJRCBmcm9tIHN0YXRlIG9yIHNlc3Npb24gc3RvcmFnZVxuICAgIGxldCBjdXJyZW50R2FtZUlkID0gZ2FtZUlkO1xuICAgIGlmIChcbiAgICAgICFjdXJyZW50R2FtZUlkICYmXG4gICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19VU0VfTU9DS19EQVRBID09PSBcInRydWVcIiAmJlxuICAgICAgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICkge1xuICAgICAgY3VycmVudEdhbWVJZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJjdXJyZW50X2dhbWVfaWRcIik7XG4gICAgICBpZiAoY3VycmVudEdhbWVJZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICBcIlVzaW5nIGdhbWUgSUQgZnJvbSBzZXNzaW9uIHN0b3JhZ2UgZm9yIGd1ZXNzOlwiLFxuICAgICAgICAgIGN1cnJlbnRHYW1lSWRcbiAgICAgICAgKTtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBzdGF0ZSB0byBtYXRjaFxuICAgICAgICBzZXRHYW1lSWQoY3VycmVudEdhbWVJZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFjdXJyZW50R2FtZUlkKSB7XG4gICAgICBzZXRFcnJvcihcIk5vIGdhbWUgSUQgYXZhaWxhYmxlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBJbiBtb2NrIG1vZGUsIGVuc3VyZSB0aGUgY3VycmVudCBnYW1lIHN0YXRlIGlzIGxvYWRlZCBwcm9wZXJseVxuICAgICAgaWYgKFxuICAgICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19VU0VfTU9DS19EQVRBID09PSBcInRydWVcIiAmJlxuICAgICAgICB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgICFnYW1lU3RhdGVcbiAgICAgICkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRpbmcgZ2FtZSBzdGF0ZSBmcm9tIHNlc3Npb24gc3RvcmFnZSBiZWZvcmUgZ3Vlc3NcIik7XG4gICAgICAgIGNvbnN0IHN0b3JlZERhdGEgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGBnYW1lXyR7Y3VycmVudEdhbWVJZH1gKTtcbiAgICAgICAgaWYgKHN0b3JlZERhdGEpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2Uoc3RvcmVkRGF0YSk7XG4gICAgICAgICAgICBpZiAocGFyc2VkRGF0YVtcIl9fdHJlbmRndWVzc2VyLnN0YXRlXCJdKSB7XG4gICAgICAgICAgICAgIHNldEdhbWVTdGF0ZShwYXJzZWREYXRhW1wiX190cmVuZGd1ZXNzZXIuc3RhdGVcIl0pO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRlZCBnYW1lIHN0YXRlIGZyb20gc2Vzc2lvbiBzdG9yYWdlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwYXJzaW5nIHN0b3JlZCBnYW1lIGRhdGE6XCIsIGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgYE1ha2luZyBndWVzcyAoJHtpc0hpZ2hlciA/IFwiSElHSEVSXCIgOiBcIkxPV0VSXCJ9KSBmb3IgZ2FtZTpgLFxuICAgICAgICBjdXJyZW50R2FtZUlkXG4gICAgICApO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVHJlbmRHdWVzc2VyU2VydmljZS5tYWtlR3Vlc3MoXG4gICAgICAgIGN1cnJlbnRHYW1lSWQsXG4gICAgICAgIHVzZXJVaWQsXG4gICAgICAgIGlzSGlnaGVyXG4gICAgICApO1xuXG4gICAgICAvLyBJZiBpbiBtb2NrIG1vZGUsIGltbWVkaWF0ZWx5IHVwZGF0ZSB0aGUgZ2FtZSBzdGF0ZSB0byByZWZsZWN0IHRoZSBndWVzcyByZXN1bHRcbiAgICAgIGlmIChcbiAgICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfVVNFX01PQ0tfREFUQSA9PT0gXCJ0cnVlXCIgJiZcbiAgICAgICAgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRHYW1lRGF0YSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oYGdhbWVfJHtjdXJyZW50R2FtZUlkfWApO1xuICAgICAgICBpZiAodXBkYXRlZEdhbWVEYXRhKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKHVwZGF0ZWRHYW1lRGF0YSk7XG4gICAgICAgICAgICBpZiAocGFyc2VkRGF0YVtcIl9fdHJlbmRndWVzc2VyLnN0YXRlXCJdKSB7XG4gICAgICAgICAgICAgIC8vIFVwZGF0ZSBnYW1lIHN0YXRlXG4gICAgICAgICAgICAgIHNldEdhbWVTdGF0ZShwYXJzZWREYXRhW1wiX190cmVuZGd1ZXNzZXIuc3RhdGVcIl0pO1xuXG4gICAgICAgICAgICAgIC8vIFVwZGF0ZSBwbGF5ZXIgZGF0YVxuICAgICAgICAgICAgICBjb25zdCBtb2NrVXNlclVpZCA9XG4gICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIm1vY2tfdXNlcl91aWRcIikgfHwgdXNlclVpZDtcbiAgICAgICAgICAgICAgaWYgKHBhcnNlZERhdGFbbW9ja1VzZXJVaWRdKSB7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudFBsYXllcihwYXJzZWREYXRhW21vY2tVc2VyVWlkXSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBVcGRhdGUgZ2FtZSBkYXRhXG4gICAgICAgICAgICAgIHNldEdhbWVEYXRhKHBhcnNlZERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB1cGRhdGluZyBzdGF0ZSBhZnRlciBndWVzczpcIiwgZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBtYWtpbmcgZ3Vlc3M6XCIsIGVycm9yKTtcbiAgICAgIHNldEVycm9yKFxuICAgICAgICBcIkZhaWxlZCB0byBwcm9jZXNzIGd1ZXNzOiBcIiArXG4gICAgICAgICAgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIpXG4gICAgICApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICAvLyBFbmQgdGhlIGdhbWVcbiAgY29uc3QgZW5kR2FtZSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXVzZXJVaWQgfHwgIWN1cnJlbnRQbGF5ZXIpIHtcbiAgICAgIHNldEVycm9yKFwiTm8gdXNlciBJRCBvciBwbGF5ZXIgZGF0YVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIGN1cnJlbnQgZ2FtZSBJRCBmcm9tIHN0YXRlIG9yIHNlc3Npb24gc3RvcmFnZVxuICAgIGxldCBjdXJyZW50R2FtZUlkID0gZ2FtZUlkO1xuICAgIGlmIChcbiAgICAgICFjdXJyZW50R2FtZUlkICYmXG4gICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19VU0VfTU9DS19EQVRBID09PSBcInRydWVcIiAmJlxuICAgICAgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICkge1xuICAgICAgY3VycmVudEdhbWVJZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJjdXJyZW50X2dhbWVfaWRcIik7XG4gICAgICBpZiAoY3VycmVudEdhbWVJZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICBcIlVzaW5nIGdhbWUgSUQgZnJvbSBzZXNzaW9uIHN0b3JhZ2UgZm9yIGVuZGluZyBnYW1lOlwiLFxuICAgICAgICAgIGN1cnJlbnRHYW1lSWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWN1cnJlbnRHYW1lSWQpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgXCJObyBnYW1lIElEIGF2YWlsYWJsZSBmb3IgZW5kaW5nIGdhbWUsIHdpbGwgc3RpbGwgcHJvY2VlZCB3aXRoIHJlc2V0XCJcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBcIkVuZGluZyBnYW1lOlwiLFxuICAgICAgICBjdXJyZW50R2FtZUlkLFxuICAgICAgICBcIndpdGggc2NvcmU6XCIsXG4gICAgICAgIGN1cnJlbnRQbGF5ZXIuc2NvcmUgfHwgMFxuICAgICAgKTtcbiAgICAgIGF3YWl0IFRyZW5kR3Vlc3NlclNlcnZpY2UuZW5kR2FtZShcbiAgICAgICAgY3VycmVudEdhbWVJZCxcbiAgICAgICAgdXNlclVpZCxcbiAgICAgICAgY3VycmVudFBsYXllci5zY29yZSB8fCAwXG4gICAgICApO1xuXG4gICAgICAvLyBJbiBtb2NrIG1vZGUsIHVwZGF0ZSB0aGUgZ2FtZSBzdGF0ZSB0byByZWZsZWN0IHRoZSBnYW1lIGVuZGluZ1xuICAgICAgaWYgKFxuICAgICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19VU0VfTU9DS19EQVRBID09PSBcInRydWVcIiAmJlxuICAgICAgICB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgZ2FtZURhdGEgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGBnYW1lXyR7Y3VycmVudEdhbWVJZH1gKTtcbiAgICAgICAgaWYgKGdhbWVEYXRhKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKGdhbWVEYXRhKTtcbiAgICAgICAgICAgIGlmIChwYXJzZWREYXRhW1wiX190cmVuZGd1ZXNzZXIuc3RhdGVcIl0pIHtcbiAgICAgICAgICAgICAgcGFyc2VkRGF0YVtcIl9fdHJlbmRndWVzc2VyLnN0YXRlXCJdLmZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgcGFyc2VkRGF0YS5zdGF0dXMgPSBcImZpbmlzaGVkXCI7XG4gICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXG4gICAgICAgICAgICAgICAgYGdhbWVfJHtjdXJyZW50R2FtZUlkfWAsXG4gICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocGFyc2VkRGF0YSlcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAvLyBVcGRhdGUgZ2FtZSBzdGF0ZVxuICAgICAgICAgICAgICBzZXRHYW1lU3RhdGUocGFyc2VkRGF0YVtcIl9fdHJlbmRndWVzc2VyLnN0YXRlXCJdKTtcblxuICAgICAgICAgICAgICAvLyBVcGRhdGUgZ2FtZSBkYXRhXG4gICAgICAgICAgICAgIHNldEdhbWVEYXRhKHBhcnNlZERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB1cGRhdGluZyBzdGF0ZSBhZnRlciBlbmRpbmcgZ2FtZTpcIiwgZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBlbmRpbmcgZ2FtZTpcIiwgZXJyb3IpO1xuICAgICAgc2V0RXJyb3IoXCJGYWlsZWQgdG8gZW5kIGdhbWVcIik7XG4gICAgICAvLyBTdGlsbCBwcm9jZWVkIHdpdGggcmVzZXR0aW5nIGxvY2FsIHN0YXRlIGV2ZW4gaWYgdGhlcmUgd2FzIGFuIGVycm9yXG4gICAgfVxuICB9O1xuXG4gIC8vIFJlc2V0IGdhbWUgc3RhdGUgZm9yIGEgbmV3IGdhbWVcbiAgY29uc3QgcmVzZXRHYW1lID0gKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiUmVzZXR0aW5nIGdhbWUgc3RhdGVcIik7XG5cbiAgICAvLyBTdG9yZSBnYW1lIElEIGJlZm9yZSBjbGVhcmluZyBpdFxuICAgIGNvbnN0IGN1cnJlbnRHYW1lSWQgPSBnYW1lSWQ7XG5cbiAgICAvLyBDbGVhciBzdGF0ZVxuICAgIHNldEdhbWVJZChudWxsKTtcbiAgICBzZXRHYW1lRGF0YShudWxsKTtcbiAgICBzZXRHYW1lU3RhdGUobnVsbCk7XG4gICAgc2V0Q3VycmVudFBsYXllcihudWxsKTtcbiAgICBzZXRFcnJvcihudWxsKTtcblxuICAgIC8vIENsZWFyIGFueSBzdG9yZWQgZ2FtZSBkYXRhIGZvciB0aGlzIGdhbWUgaWYgaW4gbW9jayBtb2RlXG4gICAgaWYgKFxuICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfVVNFX01PQ0tfREFUQSA9PT0gXCJ0cnVlXCIgJiZcbiAgICAgIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCJcbiAgICApIHtcbiAgICAgIC8vIENsZWFyIHRoZSBjdXJyZW50X2dhbWVfaWQgZnJvbSBzZXNzaW9uIHN0b3JhZ2UgdG8gYXZvaWQgcGVyc2lzdGVuY2UgaXNzdWVzXG4gICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKFwiY3VycmVudF9nYW1lX2lkXCIpO1xuICAgICAgY29uc29sZS5sb2coXCJDbGVhcmVkIGN1cnJlbnQgZ2FtZSBJRCBmcm9tIHNlc3Npb24gc3RvcmFnZVwiKTtcblxuICAgICAgLy8gQ2xlYXIgdGhlIGdhbWUgZGF0YSBpZiB3ZSBoYWQgYSBnYW1lSWRcbiAgICAgIGlmIChjdXJyZW50R2FtZUlkKSB7XG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oYGdhbWVfJHtjdXJyZW50R2FtZUlkfWApO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlJlbW92ZWQgc3RvcmVkIGdhbWUgZGF0YSBmb3I6XCIsIGN1cnJlbnRHYW1lSWQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCB2YWx1ZTogR2FtZUNvbnRleHRUeXBlID0ge1xuICAgIGdhbWVJZCxcbiAgICBnYW1lRGF0YSxcbiAgICBsb2FkaW5nLFxuICAgIGVycm9yLFxuICAgIGN1cnJlbnRQbGF5ZXIsXG4gICAgZ2FtZVN0YXRlLFxuICAgIHNldEdhbWVJZCxcbiAgICBzdGFydEdhbWUsXG4gICAgbWFrZUd1ZXNzLFxuICAgIGVuZEdhbWUsXG4gICAgcmVzZXRHYW1lLFxuICB9O1xuXG4gIHJldHVybiA8R2FtZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT57Y2hpbGRyZW59PC9HYW1lQ29udGV4dC5Qcm92aWRlcj47XG59O1xuXG5leHBvcnQgY29uc3QgdXNlR2FtZSA9ICgpID0+IHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoR2FtZUNvbnRleHQpO1xuICBpZiAoIWNvbnRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1c2VHYW1lIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBHYW1lUHJvdmlkZXJcIik7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBHYW1lQ29udGV4dDtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSb3V0ZXIiLCJkb2MiLCJvblNuYXBzaG90IiwiZGIiLCJ1c2VBdXRoIiwiVHJlbmRHdWVzc2VyU2VydmljZSIsIkdhbWVDb250ZXh0IiwidW5kZWZpbmVkIiwiR2FtZVByb3ZpZGVyIiwiY2hpbGRyZW4iLCJyb3V0ZXIiLCJ1c2VyVWlkIiwiZ2V0SW5pdGlhbEdhbWVJZCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19VU0VfTU9DS19EQVRBIiwic2Vzc2lvblN0b3JhZ2UiLCJnZXRJdGVtIiwiZ2FtZUlkIiwiX3NldEdhbWVJZCIsImdhbWVEYXRhIiwic2V0R2FtZURhdGEiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJnYW1lU3RhdGUiLCJzZXRHYW1lU3RhdGUiLCJjdXJyZW50UGxheWVyIiwic2V0Q3VycmVudFBsYXllciIsInNldEdhbWVJZCIsImlkIiwiY29uc29sZSIsImxvZyIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwic3RvcmVkR2FtZUlkIiwiY2hlY2tNb2NrR2FtZURhdGEiLCJzdG9yZWRHYW1lRGF0YSIsImRhdGEiLCJKU09OIiwicGFyc2UiLCJzdGF0dXMiLCJzdGFydGVkIiwiY2F0ZWdvcnkiLCJtb2NrVXNlclVpZCIsInNjb3JlIiwiZXJyIiwiaW50ZXJ2YWxJZCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImdhbWVSZWYiLCJ0b1VwcGVyQ2FzZSIsInVuc3Vic2NyaWJlIiwiZG9jU25hcHNob3QiLCJleGlzdHMiLCJzdGFydEdhbWUiLCJjdXN0b21UZXJtIiwiaW5pdGlhbEdhbWVTdGF0ZSIsInBhcnNlZERhdGEiLCJlIiwiRXJyb3IiLCJtZXNzYWdlIiwibWFrZUd1ZXNzIiwiaXNIaWdoZXIiLCJjdXJyZW50R2FtZUlkIiwic3RvcmVkRGF0YSIsInJlc3VsdCIsInVwZGF0ZWRHYW1lRGF0YSIsImVuZEdhbWUiLCJ3YXJuIiwiZmluaXNoZWQiLCJzdHJpbmdpZnkiLCJyZXNldEdhbWUiLCJ2YWx1ZSIsIlByb3ZpZGVyIiwidXNlR2FtZSIsImNvbnRleHQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/contexts/GameContext.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./src/lib/firebase/firebase.ts":
/*!**************************************!*\
  !*** ./src/lib/firebase/firebase.ts ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analytics: () => (/* binding */ analytics),\n/* harmony export */   app: () => (/* binding */ app),\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   initializeFirebase: () => (/* binding */ initializeFirebase),\n/* harmony export */   performance: () => (/* binding */ performance)\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"firebase/app\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/auth */ \"firebase/auth\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var firebase_analytics__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/analytics */ \"firebase/analytics\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_app__WEBPACK_IMPORTED_MODULE_0__, firebase_auth__WEBPACK_IMPORTED_MODULE_1__, firebase_firestore__WEBPACK_IMPORTED_MODULE_2__, firebase_analytics__WEBPACK_IMPORTED_MODULE_3__]);\n([firebase_app__WEBPACK_IMPORTED_MODULE_0__, firebase_auth__WEBPACK_IMPORTED_MODULE_1__, firebase_firestore__WEBPACK_IMPORTED_MODULE_2__, firebase_analytics__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// src/lib/firebase.ts\n\n\n\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyAbIQ8B30KkE3CiVZ-6nNGAwiAz2Q5url8\",\n    authDomain: \"trendguesser-332d4.firebaseapp.com\",\n    projectId: \"trendguesser-332d4\",\n    storageBucket: \"trendguesser-332d4.firebasestorage.app\",\n    messagingSenderId: \"748886157474\",\n    appId: \"1:748886157474:web:08ba697d25f6ec0b228ffb\",\n    measurementId: \"G-BEQ3HXTMS3\"\n};\n// Initialize Firebase based on consent\nlet app = null;\nlet auth = null;\nlet db = null;\nlet analytics = null;\nlet performance = null;\nlet isInitialized = false;\n// Lazy initialization function to be called after consent is given\nconst initializeFirebase = (firebaseConsent = false, analyticsConsent = false)=>{\n    // Return existing Firebase instance if already initialized\n    if (isInitialized && app) {\n        return {\n            app,\n            auth,\n            db,\n            analytics,\n            performance\n        };\n    }\n    // Initialize core Firebase\n    try {\n        if (!(0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)().length) {\n            app = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig);\n        } else {\n            app = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)()[0];\n        }\n        // Get Auth and Firestore instances\n        if (app) {\n            auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.getAuth)(app);\n            db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getFirestore)(app);\n            // Connect to emulators if in development mode\n            if (false) {} else if (true) {\n                console.log(\"Using mock data mode (Firebase emulators not enabled)\");\n            }\n        }\n        isInitialized = true;\n    } catch (error) {\n        console.error(\"Failed to initialize Firebase:\", error);\n    }\n    // Only initialize analytics if consent is given and we're in browser\n    if (analyticsConsent && \"undefined\" !== 'undefined' && 0) {}\n    return {\n        app,\n        auth,\n        db,\n        analytics,\n        performance\n    };\n};\n// Default export for backward compatibility\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3NyYy9saWIvZmlyZWJhc2UvZmlyZWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHNCQUFzQjtBQUM2QztBQUNBO0FBQ29CO0FBQ2I7QUFHMUUsTUFBTVEsaUJBQWlCO0lBQ3JCQyxRQUFRO0lBQ1JDLFlBQVk7SUFDWkMsV0FBVztJQUNYQyxlQUFlO0lBQ2ZDLG1CQUFtQjtJQUNuQkMsT0FBTztJQUNQQyxlQUFlO0FBQ2pCO0FBRUEsdUNBQXVDO0FBQ3ZDLElBQUlDLE1BQTBCO0FBQzlCLElBQUlDLE9BQW9CO0FBQ3hCLElBQUlDLEtBQXVCO0FBQzNCLElBQUlDLFlBQThCO0FBQ2xDLElBQUlDLGNBQTBDO0FBQzlDLElBQUlDLGdCQUFnQjtBQUVwQixtRUFBbUU7QUFDNUQsTUFBTUMscUJBQXFCLENBQUNDLGtCQUFrQixLQUFLLEVBQUVDLG1CQUFtQixLQUFLO0lBQ2xGLDJEQUEyRDtJQUMzRCxJQUFJSCxpQkFBaUJMLEtBQUs7UUFDeEIsT0FBTztZQUNMQTtZQUNBQztZQUNBQztZQUNBQztZQUNBQztRQUNGO0lBQ0Y7SUFFQSwyQkFBMkI7SUFDM0IsSUFBSTtRQUNGLElBQUksQ0FBQ25CLHFEQUFPQSxHQUFHd0IsTUFBTSxFQUFFO1lBQ3JCVCxNQUFNaEIsMkRBQWFBLENBQUNRO1FBQ3RCLE9BQU87WUFDTFEsTUFBTWYscURBQU9BLEVBQUUsQ0FBQyxFQUFFO1FBQ3BCO1FBRUEsbUNBQW1DO1FBQ25DLElBQUllLEtBQUs7WUFDUEMsT0FBT2Ysc0RBQU9BLENBQUNjO1lBQ2ZFLEtBQUtkLGdFQUFZQSxDQUFDWTtZQUVsQiw4Q0FBOEM7WUFDOUMsSUFBSSxLQUV3RCxFQUFFLEVBdUI3RCxNQUFNLElBQUlhLElBQWdELEVBQUU7Z0JBQzNESSxRQUFRQyxHQUFHLENBQUM7WUFDZDtRQUNGO1FBRUFiLGdCQUFnQjtJQUNsQixFQUFFLE9BQU9nQixPQUFPO1FBQ2RKLFFBQVFJLEtBQUssQ0FBQyxrQ0FBa0NBO0lBQ2xEO0lBRUEscUVBQXFFO0lBQ3JFLElBQUliLG9CQUFvQixnQkFBa0IsZUFBZVIsQ0FBR0EsRUFBRSxFQU03RDtJQUVELE9BQU87UUFDTEE7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7SUFDRjtBQUNGLEVBQUU7QUFFRiw0Q0FBNEM7QUFDSyIsInNvdXJjZXMiOlsiL1VzZXJzL2FsZXgvRGV2ZWxvcGVyL3RyZW5kZ3Vlc3Nlci9zcmMvbGliL2ZpcmViYXNlL2ZpcmViYXNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9saWIvZmlyZWJhc2UudHNcbmltcG9ydCB7IGluaXRpYWxpemVBcHAsIGdldEFwcHMsIEZpcmViYXNlQXBwIH0gZnJvbSAnZmlyZWJhc2UvYXBwJztcbmltcG9ydCB7IGdldEF1dGgsIEF1dGgsIGNvbm5lY3RBdXRoRW11bGF0b3IgfSBmcm9tICdmaXJlYmFzZS9hdXRoJztcbmltcG9ydCB7IGdldEZpcmVzdG9yZSwgRmlyZXN0b3JlLCBjb25uZWN0RmlyZXN0b3JlRW11bGF0b3IgfSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xuaW1wb3J0IHsgZ2V0QW5hbHl0aWNzLCBpc1N1cHBvcnRlZCwgQW5hbHl0aWNzIH0gZnJvbSAnZmlyZWJhc2UvYW5hbHl0aWNzJztcbmltcG9ydCB7IGdldFBlcmZvcm1hbmNlLCBGaXJlYmFzZVBlcmZvcm1hbmNlIH0gZnJvbSAnZmlyZWJhc2UvcGVyZm9ybWFuY2UnO1xuXG5jb25zdCBmaXJlYmFzZUNvbmZpZyA9IHtcbiAgYXBpS2V5OiBcIkFJemFTeUFiSVE4QjMwS2tFM0NpVlotNm5OR0F3aUF6MlE1dXJsOFwiLFxuICBhdXRoRG9tYWluOiBcInRyZW5kZ3Vlc3Nlci0zMzJkNC5maXJlYmFzZWFwcC5jb21cIixcbiAgcHJvamVjdElkOiBcInRyZW5kZ3Vlc3Nlci0zMzJkNFwiLFxuICBzdG9yYWdlQnVja2V0OiBcInRyZW5kZ3Vlc3Nlci0zMzJkNC5maXJlYmFzZXN0b3JhZ2UuYXBwXCIsXG4gIG1lc3NhZ2luZ1NlbmRlcklkOiBcIjc0ODg4NjE1NzQ3NFwiLFxuICBhcHBJZDogXCIxOjc0ODg4NjE1NzQ3NDp3ZWI6MDhiYTY5N2QyNWY2ZWMwYjIyOGZmYlwiLFxuICBtZWFzdXJlbWVudElkOiBcIkctQkVRM0hYVE1TM1wiXG59O1xuXG4vLyBJbml0aWFsaXplIEZpcmViYXNlIGJhc2VkIG9uIGNvbnNlbnRcbmxldCBhcHA6IEZpcmViYXNlQXBwIHwgbnVsbCA9IG51bGw7XG5sZXQgYXV0aDogQXV0aCB8IG51bGwgPSBudWxsO1xubGV0IGRiOiBGaXJlc3RvcmUgfCBudWxsID0gbnVsbDtcbmxldCBhbmFseXRpY3M6IEFuYWx5dGljcyB8IG51bGwgPSBudWxsO1xubGV0IHBlcmZvcm1hbmNlOiBGaXJlYmFzZVBlcmZvcm1hbmNlIHwgbnVsbCA9IG51bGw7XG5sZXQgaXNJbml0aWFsaXplZCA9IGZhbHNlO1xuXG4vLyBMYXp5IGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBhZnRlciBjb25zZW50IGlzIGdpdmVuXG5leHBvcnQgY29uc3QgaW5pdGlhbGl6ZUZpcmViYXNlID0gKGZpcmViYXNlQ29uc2VudCA9IGZhbHNlLCBhbmFseXRpY3NDb25zZW50ID0gZmFsc2UpID0+IHtcbiAgLy8gUmV0dXJuIGV4aXN0aW5nIEZpcmViYXNlIGluc3RhbmNlIGlmIGFscmVhZHkgaW5pdGlhbGl6ZWRcbiAgaWYgKGlzSW5pdGlhbGl6ZWQgJiYgYXBwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFwcCxcbiAgICAgIGF1dGgsXG4gICAgICBkYixcbiAgICAgIGFuYWx5dGljcyxcbiAgICAgIHBlcmZvcm1hbmNlXG4gICAgfTtcbiAgfVxuICBcbiAgLy8gSW5pdGlhbGl6ZSBjb3JlIEZpcmViYXNlXG4gIHRyeSB7XG4gICAgaWYgKCFnZXRBcHBzKCkubGVuZ3RoKSB7XG4gICAgICBhcHAgPSBpbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBwID0gZ2V0QXBwcygpWzBdO1xuICAgIH1cbiAgICBcbiAgICAvLyBHZXQgQXV0aCBhbmQgRmlyZXN0b3JlIGluc3RhbmNlc1xuICAgIGlmIChhcHApIHtcbiAgICAgIGF1dGggPSBnZXRBdXRoKGFwcCk7XG4gICAgICBkYiA9IGdldEZpcmVzdG9yZShhcHApO1xuICAgICAgXG4gICAgICAvLyBDb25uZWN0IHRvIGVtdWxhdG9ycyBpZiBpbiBkZXZlbG9wbWVudCBtb2RlXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgXG4gICAgICAgICAgKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ2xvY2FsaG9zdCcgfHwgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSAnMTI3LjAuMC4xJykgJiYgXG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfVVNFX0ZJUkVCQVNFX0VNVUxBVE9SID09PSAndHJ1ZScpIHtcbiAgICAgICAgXG4gICAgICAgIC8vIEFkZCBhIGdsb2JhbCBmbGFnIHRvIGluZGljYXRlIHdlJ3JlIHVzaW5nIGVtdWxhdG9yc1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB3aW5kb3cuX19VU0lOR19GSVJFQkFTRV9FTVVMQVRPUiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKGF1dGgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29ubmVjdGluZyB0byBGaXJlYmFzZSBBdXRoIGVtdWxhdG9yXCIpO1xuICAgICAgICAgICAgY29ubmVjdEF1dGhFbXVsYXRvcihhdXRoLCAnaHR0cDovL2xvY2FsaG9zdDo5MDk5JywgeyBkaXNhYmxlV2FybmluZ3M6IHRydWUgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChkYikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb25uZWN0aW5nIHRvIEZpcmVzdG9yZSBlbXVsYXRvclwiKTtcbiAgICAgICAgICAgIGNvbm5lY3RGaXJlc3RvcmVFbXVsYXRvcihkYiwgJ2xvY2FsaG9zdCcsIDgwODApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIuKckyBTdWNjZXNzZnVsbHkgY29ubmVjdGVkIHRvIEZpcmViYXNlIGVtdWxhdG9yc1wiKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBjb25uZWN0IHRvIEZpcmViYXNlIGVtdWxhdG9yczpcIiwgZXJyKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIuKaoO+4jyBGYWxsYmFjayB0byBtb2NrIGRhdGEgbW9kZVwiKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19VU0VfTU9DS19EQVRBID09PSAndHJ1ZScpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJVc2luZyBtb2NrIGRhdGEgbW9kZSAoRmlyZWJhc2UgZW11bGF0b3JzIG5vdCBlbmFibGVkKVwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaXNJbml0aWFsaXplZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBpbml0aWFsaXplIEZpcmViYXNlOlwiLCBlcnJvcik7XG4gIH1cblxuICAvLyBPbmx5IGluaXRpYWxpemUgYW5hbHl0aWNzIGlmIGNvbnNlbnQgaXMgZ2l2ZW4gYW5kIHdlJ3JlIGluIGJyb3dzZXJcbiAgaWYgKGFuYWx5dGljc0NvbnNlbnQgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgYXBwKSB7XG4gICAgaXNTdXBwb3J0ZWQoKS50aGVuKHllcyA9PiB7XG4gICAgICBpZiAoeWVzKSB7XG4gICAgICAgIGFuYWx5dGljcyA9IGdldEFuYWx5dGljcyhhcHApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBhcHAsXG4gICAgYXV0aCxcbiAgICBkYixcbiAgICBhbmFseXRpY3MsXG4gICAgcGVyZm9ybWFuY2VcbiAgfTtcbn07XG5cbi8vIERlZmF1bHQgZXhwb3J0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG5leHBvcnQgeyBhcHAsIGF1dGgsIGRiLCBhbmFseXRpY3MsIHBlcmZvcm1hbmNlIH07Il0sIm5hbWVzIjpbImluaXRpYWxpemVBcHAiLCJnZXRBcHBzIiwiZ2V0QXV0aCIsImNvbm5lY3RBdXRoRW11bGF0b3IiLCJnZXRGaXJlc3RvcmUiLCJjb25uZWN0RmlyZXN0b3JlRW11bGF0b3IiLCJnZXRBbmFseXRpY3MiLCJpc1N1cHBvcnRlZCIsImZpcmViYXNlQ29uZmlnIiwiYXBpS2V5IiwiYXV0aERvbWFpbiIsInByb2plY3RJZCIsInN0b3JhZ2VCdWNrZXQiLCJtZXNzYWdpbmdTZW5kZXJJZCIsImFwcElkIiwibWVhc3VyZW1lbnRJZCIsImFwcCIsImF1dGgiLCJkYiIsImFuYWx5dGljcyIsInBlcmZvcm1hbmNlIiwiaXNJbml0aWFsaXplZCIsImluaXRpYWxpemVGaXJlYmFzZSIsImZpcmViYXNlQ29uc2VudCIsImFuYWx5dGljc0NvbnNlbnQiLCJsZW5ndGgiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1VTRV9GSVJFQkFTRV9FTVVMQVRPUiIsIl9fVVNJTkdfRklSRUJBU0VfRU1VTEFUT1IiLCJjb25zb2xlIiwibG9nIiwiZGlzYWJsZVdhcm5pbmdzIiwiZXJyIiwiZXJyb3IiLCJORVhUX1BVQkxJQ19VU0VfTU9DS19EQVRBIiwidGhlbiIsInllcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/lib/firebase/firebase.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./src/lib/firebase/mockData.ts":
/*!**************************************!*\
  !*** ./src/lib/firebase/mockData.ts ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sampleLeaderboard: () => (/* binding */ sampleLeaderboard),\n/* harmony export */   sampleSearchTerms: () => (/* binding */ sampleSearchTerms)\n/* harmony export */ });\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_firestore__WEBPACK_IMPORTED_MODULE_0__]);\nfirebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n// Function to generate a consistent image URL for a term\nconst getImageUrl = (term)=>{\n    return `https://source.unsplash.com/800x600/?${encodeURIComponent(term)}`;\n};\n// Sample search terms for development\nconst sampleSearchTerms = [\n    {\n        id: 'term1',\n        term: 'Artificial Intelligence',\n        volume: 850000,\n        category: 'technology',\n        imageUrl: getImageUrl('artificial intelligence technology'),\n        timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n    },\n    {\n        id: 'term2',\n        term: 'Machine Learning',\n        volume: 650000,\n        category: 'technology',\n        imageUrl: getImageUrl('machine learning code'),\n        timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n    },\n    {\n        id: 'term3',\n        term: 'Blockchain',\n        volume: 450000,\n        category: 'technology',\n        imageUrl: getImageUrl('blockchain digital'),\n        timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n    },\n    {\n        id: 'term4',\n        term: 'PlayStation 5',\n        volume: 950000,\n        category: 'gaming',\n        imageUrl: getImageUrl('playstation 5 console'),\n        timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n    },\n    {\n        id: 'term5',\n        term: 'Xbox Series X',\n        volume: 750000,\n        category: 'gaming',\n        imageUrl: getImageUrl('xbox series x console'),\n        timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n    },\n    {\n        id: 'term6',\n        term: 'Elden Ring',\n        volume: 550000,\n        category: 'gaming',\n        imageUrl: getImageUrl('elden ring game'),\n        timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n    },\n    {\n        id: 'term7',\n        term: 'Taylor Swift',\n        volume: 1000000,\n        category: 'entertainment',\n        imageUrl: getImageUrl('taylor swift concert'),\n        timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n    },\n    {\n        id: 'term8',\n        term: 'Dune Part 2',\n        volume: 700000,\n        category: 'entertainment',\n        imageUrl: getImageUrl('dune movie desert'),\n        timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n    },\n    {\n        id: 'term9',\n        term: 'Stranger Things',\n        volume: 500000,\n        category: 'entertainment',\n        imageUrl: getImageUrl('stranger things tv show'),\n        timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n    },\n    {\n        id: 'term10',\n        term: 'Climate Change',\n        volume: 900000,\n        category: 'news',\n        imageUrl: getImageUrl('climate change earth'),\n        timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n    },\n    {\n        id: 'term11',\n        term: 'COVID-19',\n        volume: 600000,\n        category: 'news',\n        imageUrl: getImageUrl('covid healthcare mask'),\n        timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n    },\n    {\n        id: 'term12',\n        term: 'US Elections',\n        volume: 800000,\n        category: 'news',\n        imageUrl: getImageUrl('us election voting'),\n        timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n    },\n    {\n        id: 'term13',\n        term: 'NBA Playoffs',\n        volume: 850000,\n        category: 'sports',\n        imageUrl: getImageUrl('nba basketball game'),\n        timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n    },\n    {\n        id: 'term14',\n        term: 'World Cup',\n        volume: 950000,\n        category: 'sports',\n        imageUrl: getImageUrl('soccer world cup'),\n        timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n    },\n    {\n        id: 'term15',\n        term: 'Formula 1',\n        volume: 750000,\n        category: 'sports',\n        imageUrl: getImageUrl('formula 1 racing'),\n        timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n    },\n    // Additional terms for better diversity in categories\n    {\n        id: 'term16',\n        term: 'Giraffes',\n        volume: 250000,\n        category: 'animals',\n        imageUrl: getImageUrl('giraffe wildlife'),\n        timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n    },\n    {\n        id: 'term17',\n        term: 'Pandas',\n        volume: 420000,\n        category: 'animals',\n        imageUrl: getImageUrl('panda bear'),\n        timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n    },\n    {\n        id: 'term18',\n        term: 'Dolphins',\n        volume: 380000,\n        category: 'animals',\n        imageUrl: getImageUrl('dolphin ocean'),\n        timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n    },\n    {\n        id: 'term19',\n        term: 'Dogs',\n        volume: 890000,\n        category: 'animals',\n        imageUrl: getImageUrl('dog puppy cute'),\n        timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n    },\n    {\n        id: 'term20',\n        term: 'Cats',\n        volume: 920000,\n        category: 'animals',\n        imageUrl: getImageUrl('cat kitten'),\n        timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n    }\n];\n// Sample leaderboard data\nconst sampleLeaderboard = [\n    {\n        uid: 'player1',\n        name: 'ChampionGamer',\n        score: 24,\n        highScores: {\n            technology: 12,\n            gaming: 24,\n            sports: 8,\n            animals: 15,\n            everything: 18,\n            entertainment: 10\n        }\n    },\n    {\n        uid: 'player2',\n        name: 'TrendMaster',\n        score: 20,\n        highScores: {\n            entertainment: 20,\n            news: 15,\n            sports: 18,\n            technology: 14,\n            everything: 16,\n            animals: 12\n        }\n    },\n    {\n        uid: 'player3',\n        name: 'SearchWizard',\n        score: 18,\n        highScores: {\n            technology: 18,\n            gaming: 10,\n            entertainment: 12,\n            sports: 16,\n            everything: 14,\n            animals: 8\n        }\n    },\n    {\n        uid: 'player4',\n        name: 'DataNerd',\n        score: 16,\n        highScores: {\n            technology: 16,\n            news: 14,\n            sports: 8,\n            gaming: 12,\n            everything: 15,\n            questions: 18\n        }\n    },\n    {\n        uid: 'player5',\n        name: 'GuessingGuru',\n        score: 15,\n        highScores: {\n            gaming: 15,\n            entertainment: 9,\n            sports: 12,\n            animals: 18,\n            everything: 13,\n            technology: 10\n        }\n    }\n];\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3NyYy9saWIvZmlyZWJhc2UvbW9ja0RhdGEudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQytDO0FBRS9DLHlEQUF5RDtBQUN6RCxNQUFNQyxjQUFjLENBQUNDO0lBQ25CLE9BQU8sQ0FBQyxxQ0FBcUMsRUFBRUMsbUJBQW1CRCxPQUFPO0FBQzNFO0FBRUEsc0NBQXNDO0FBQy9CLE1BQU1FLG9CQUFrQztJQUM3QztRQUNFQyxJQUFJO1FBQ0pILE1BQU07UUFDTkksUUFBUTtRQUNSQyxVQUFVO1FBQ1ZDLFVBQVVQLFlBQVk7UUFDdEJRLFdBQVdULHlEQUFTQSxDQUFDVSxHQUFHO0lBQzFCO0lBQ0E7UUFDRUwsSUFBSTtRQUNKSCxNQUFNO1FBQ05JLFFBQVE7UUFDUkMsVUFBVTtRQUNWQyxVQUFVUCxZQUFZO1FBQ3RCUSxXQUFXVCx5REFBU0EsQ0FBQ1UsR0FBRztJQUMxQjtJQUNBO1FBQ0VMLElBQUk7UUFDSkgsTUFBTTtRQUNOSSxRQUFRO1FBQ1JDLFVBQVU7UUFDVkMsVUFBVVAsWUFBWTtRQUN0QlEsV0FBV1QseURBQVNBLENBQUNVLEdBQUc7SUFDMUI7SUFDQTtRQUNFTCxJQUFJO1FBQ0pILE1BQU07UUFDTkksUUFBUTtRQUNSQyxVQUFVO1FBQ1ZDLFVBQVVQLFlBQVk7UUFDdEJRLFdBQVdULHlEQUFTQSxDQUFDVSxHQUFHO0lBQzFCO0lBQ0E7UUFDRUwsSUFBSTtRQUNKSCxNQUFNO1FBQ05JLFFBQVE7UUFDUkMsVUFBVTtRQUNWQyxVQUFVUCxZQUFZO1FBQ3RCUSxXQUFXVCx5REFBU0EsQ0FBQ1UsR0FBRztJQUMxQjtJQUNBO1FBQ0VMLElBQUk7UUFDSkgsTUFBTTtRQUNOSSxRQUFRO1FBQ1JDLFVBQVU7UUFDVkMsVUFBVVAsWUFBWTtRQUN0QlEsV0FBV1QseURBQVNBLENBQUNVLEdBQUc7SUFDMUI7SUFDQTtRQUNFTCxJQUFJO1FBQ0pILE1BQU07UUFDTkksUUFBUTtRQUNSQyxVQUFVO1FBQ1ZDLFVBQVVQLFlBQVk7UUFD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QUNGO0lBQ0E7UUFDRVAsS0FBSztRQUNMQyxNQUFNO1FBQ05DLE9BQU87UUFDUEMsWUFBWTtZQUNWQyxZQUFZO1lBQ1pNLE1BQU07WUFDTkosUUFBUTtZQUNSRCxRQUFRO1lBQ1JHLFlBQVk7WUFDWkcsV0FBVztRQUNiO0lBQ0Y7SUFDQTtRQUNFWCxLQUFLO1FBQ0xDLE1BQU07UUFDTkMsT0FBTztRQUNQQyxZQUFZO1lBQ1ZFLFFBQVE7WUFDUkksZUFBZTtZQUNmSCxRQUFRO1lBQ1JDLFNBQVM7WUFDVEMsWUFBWTtZQUNaSixZQUFZO1FBQ2Q7SUFDRjtDQUNELENBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGV4L0RldmVsb3Blci90cmVuZGd1ZXNzZXIvc3JjL2xpYi9maXJlYmFzZS9tb2NrRGF0YS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZWFyY2hUZXJtLCBUcmVuZEd1ZXNzZXJQbGF5ZXIgfSBmcm9tICdAL3R5cGVzJztcbmltcG9ydCB7IFRpbWVzdGFtcCB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XG5cbi8vIEZ1bmN0aW9uIHRvIGdlbmVyYXRlIGEgY29uc2lzdGVudCBpbWFnZSBVUkwgZm9yIGEgdGVybVxuY29uc3QgZ2V0SW1hZ2VVcmwgPSAodGVybTogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIGBodHRwczovL3NvdXJjZS51bnNwbGFzaC5jb20vODAweDYwMC8/JHtlbmNvZGVVUklDb21wb25lbnQodGVybSl9YDtcbn07XG5cbi8vIFNhbXBsZSBzZWFyY2ggdGVybXMgZm9yIGRldmVsb3BtZW50XG5leHBvcnQgY29uc3Qgc2FtcGxlU2VhcmNoVGVybXM6IFNlYXJjaFRlcm1bXSA9IFtcbiAge1xuICAgIGlkOiAndGVybTEnLFxuICAgIHRlcm06ICdBcnRpZmljaWFsIEludGVsbGlnZW5jZScsXG4gICAgdm9sdW1lOiA4NTAwMDAsXG4gICAgY2F0ZWdvcnk6ICd0ZWNobm9sb2d5JyxcbiAgICBpbWFnZVVybDogZ2V0SW1hZ2VVcmwoJ2FydGlmaWNpYWwgaW50ZWxsaWdlbmNlIHRlY2hub2xvZ3knKSxcbiAgICB0aW1lc3RhbXA6IFRpbWVzdGFtcC5ub3coKVxuICB9LFxuICB7XG4gICAgaWQ6ICd0ZXJtMicsXG4gICAgdGVybTogJ01hY2hpbmUgTGVhcm5pbmcnLFxuICAgIHZvbHVtZTogNjUwMDAwLFxuICAgIGNhdGVnb3J5OiAndGVjaG5vbG9neScsXG4gICAgaW1hZ2VVcmw6IGdldEltYWdlVXJsKCdtYWNoaW5lIGxlYXJuaW5nIGNvZGUnKSxcbiAgICB0aW1lc3RhbXA6IFRpbWVzdGFtcC5ub3coKVxuICB9LFxuICB7XG4gICAgaWQ6ICd0ZXJtMycsXG4gICAgdGVybTogJ0Jsb2NrY2hhaW4nLFxuICAgIHZvbHVtZTogNDUwMDAwLFxuICAgIGNhdGVnb3J5OiAndGVjaG5vbG9neScsXG4gICAgaW1hZ2VVcmw6IGdldEltYWdlVXJsKCdibG9ja2NoYWluIGRpZ2l0YWwnKSxcbiAgICB0aW1lc3RhbXA6IFRpbWVzdGFtcC5ub3coKVxuICB9LFxuICB7XG4gICAgaWQ6ICd0ZXJtNCcsXG4gICAgdGVybTogJ1BsYXlTdGF0aW9uIDUnLFxuICAgIHZvbHVtZTogOTUwMDAwLFxuICAgIGNhdGVnb3J5OiAnZ2FtaW5nJyxcbiAgICBpbWFnZVVybDogZ2V0SW1hZ2VVcmwoJ3BsYXlzdGF0aW9uIDUgY29uc29sZScpLFxuICAgIHRpbWVzdGFtcDogVGltZXN0YW1wLm5vdygpXG4gIH0sXG4gIHtcbiAgICBpZDogJ3Rlcm01JyxcbiAgICB0ZXJtOiAnWGJveCBTZXJpZXMgWCcsXG4gICAgdm9sdW1lOiA3NTAwMDAsXG4gICAgY2F0ZWdvcnk6ICdnYW1pbmcnLFxuICAgIGltYWdlVXJsOiBnZXRJbWFnZVVybCgneGJveCBzZXJpZXMgeCBjb25zb2xlJyksXG4gICAgdGltZXN0YW1wOiBUaW1lc3RhbXAubm93KClcbiAgfSxcbiAge1xuICAgIGlkOiAndGVybTYnLFxuICAgIHRlcm06ICdFbGRlbiBSaW5nJyxcbiAgICB2b2x1bWU6IDU1MDAwMCxcbiAgICBjYXRlZ29yeTogJ2dhbWluZycsXG4gICAgaW1hZ2VVcmw6IGdldEltYWdlVXJsKCdlbGRlbiByaW5nIGdhbWUnKSxcbiAgICB0aW1lc3RhbXA6IFRpbWVzdGFtcC5ub3coKVxuICB9LFxuICB7XG4gICAgaWQ6ICd0ZXJtNycsXG4gICAgdGVybTogJ1RheWxvciBTd2lmdCcsXG4gICAgdm9sdW1lOiAxMDAwMDAwLFxuICAgIGNhdGVnb3J5OiAnZW50ZXJ0YWlubWVudCcsXG4gICAgaW1hZ2VVcmw6IGdldEltYWdlVXJsKCd0YXlsb3Igc3dpZnQgY29uY2VydCcpLFxuICAgIHRpbWVzdGFtcDogVGltZXN0YW1wLm5vdygpXG4gIH0sXG4gIHtcbiAgICBpZDogJ3Rlcm04JyxcbiAgICB0ZXJtOiAnRHVuZSBQYXJ0IDInLFxuICAgIHZvbHVtZTogNzAwMDAwLFxuICAgIGNhdGVnb3J5OiAnZW50ZXJ0YWlubWVudCcsXG4gICAgaW1hZ2VVcmw6IGdldEltYWdlVXJsKCdkdW5lIG1vdmllIGRlc2VydCcpLFxuICAgIHRpbWVzdGFtcDogVGltZXN0YW1wLm5vdygpXG4gIH0sXG4gIHtcbiAgICBpZDogJ3Rlcm05JyxcbiAgICB0ZXJtOiAnU3RyYW5nZXIgVGhpbmdzJyxcbiAgICB2b2x1bWU6IDUwMDAwMCxcbiAgICBjYXRlZ29yeTogJ2VudGVydGFpbm1lbnQnLFxuICAgIGltYWdlVXJsOiBnZXRJbWFnZVVybCgnc3RyYW5nZXIgdGhpbmdzIHR2IHNob3cnKSxcbiAgICB0aW1lc3RhbXA6IFRpbWVzdGFtcC5ub3coKVxuICB9LFxuICB7XG4gICAgaWQ6ICd0ZXJtMTAnLFxuICAgIHRlcm06ICdDbGltYXRlIENoYW5nZScsXG4gICAgdm9sdW1lOiA5MDAwMDAsXG4gICAgY2F0ZWdvcnk6ICduZXdzJyxcbiAgICBpbWFnZVVybDogZ2V0SW1hZ2VVcmwoJ2NsaW1hdGUgY2hhbmdlIGVhcnRoJyksXG4gICAgdGltZXN0YW1wOiBUaW1lc3RhbXAubm93KClcbiAgfSxcbiAge1xuICAgIGlkOiAndGVybTExJyxcbiAgICB0ZXJtOiAnQ09WSUQtMTknLFxuICAgIHZvbHVtZTogNjAwMDAwLFxuICAgIGNhdGVnb3J5OiAnbmV3cycsXG4gICAgaW1hZ2VVcmw6IGdldEltYWdlVXJsKCdjb3ZpZCBoZWFsdGhjYXJlIG1hc2snKSxcbiAgICB0aW1lc3RhbXA6IFRpbWVzdGFtcC5ub3coKVxuICB9LFxuICB7XG4gICAgaWQ6ICd0ZXJtMTInLFxuICAgIHRlcm06ICdVUyBFbGVjdGlvbnMnLFxuICAgIHZvbHVtZTogODAwMDAwLFxuICAgIGNhdGVnb3J5OiAnbmV3cycsXG4gICAgaW1hZ2VVcmw6IGdldEltYWdlVXJsKCd1cyBlbGVjdGlvbiB2b3RpbmcnKSxcbiAgICB0aW1lc3RhbXA6IFRpbWVzdGFtcC5ub3coKVxuICB9LFxuICB7XG4gICAgaWQ6ICd0ZXJtMTMnLFxuICAgIHRlcm06ICdOQkEgUGxheW9mZnMnLFxuICAgIHZvbHVtZTogODUwMDAwLFxuICAgIGNhdGVnb3J5OiAnc3BvcnRzJyxcbiAgICBpbWFnZVVybDogZ2V0SW1hZ2VVcmwoJ25iYSBiYXNrZXRiYWxsIGdhbWUnKSxcbiAgICB0aW1lc3RhbXA6IFRpbWVzdGFtcC5ub3coKVxuICB9LFxuICB7XG4gICAgaWQ6ICd0ZXJtMTQnLFxuICAgIHRlcm06ICdXb3JsZCBDdXAnLFxuICAgIHZvbHVtZTogOTUwMDAwLFxuICAgIGNhdGVnb3J5OiAnc3BvcnRzJyxcbiAgICBpbWFnZVVybDogZ2V0SW1hZ2VVcmwoJ3NvY2NlciB3b3JsZCBjdXAnKSxcbiAgICB0aW1lc3RhbXA6IFRpbWVzdGFtcC5ub3coKVxuICB9LFxuICB7XG4gICAgaWQ6ICd0ZXJtMTUnLFxuICAgIHRlcm06ICdGb3JtdWxhIDEnLFxuICAgIHZvbHVtZTogNzUwMDAwLFxuICAgIGNhdGVnb3J5OiAnc3BvcnRzJyxcbiAgICBpbWFnZVVybDogZ2V0SW1hZ2VVcmwoJ2Zvcm11bGEgMSByYWNpbmcnKSxcbiAgICB0aW1lc3RhbXA6IFRpbWVzdGFtcC5ub3coKVxuICB9LFxuICAvLyBBZGRpdGlvbmFsIHRlcm1zIGZvciBiZXR0ZXIgZGl2ZXJzaXR5IGluIGNhdGVnb3JpZXNcbiAge1xuICAgIGlkOiAndGVybTE2JyxcbiAgICB0ZXJtOiAnR2lyYWZmZXMnLFxuICAgIHZvbHVtZTogMjUwMDAwLFxuICAgIGNhdGVnb3J5OiAnYW5pbWFscycsXG4gICAgaW1hZ2VVcmw6IGdldEltYWdlVXJsKCdnaXJhZmZlIHdpbGRsaWZlJyksXG4gICAgdGltZXN0YW1wOiBUaW1lc3RhbXAubm93KClcbiAgfSxcbiAge1xuICAgIGlkOiAndGVybTE3JyxcbiAgICB0ZXJtOiAnUGFuZGFzJyxcbiAgICB2b2x1bWU6IDQyMDAwMCxcbiAgICBjYXRlZ29yeTogJ2FuaW1hbHMnLFxuICAgIGltYWdlVXJsOiBnZXRJbWFnZVVybCgncGFuZGEgYmVhcicpLFxuICAgIHRpbWVzdGFtcDogVGltZXN0YW1wLm5vdygpXG4gIH0sXG4gIHtcbiAgICBpZDogJ3Rlcm0xOCcsXG4gICAgdGVybTogJ0RvbHBoaW5zJyxcbiAgICB2b2x1bWU6IDM4MDAwMCxcbiAgICBjYXRlZ29yeTogJ2FuaW1hbHMnLFxuICAgIGltYWdlVXJsOiBnZXRJbWFnZVVybCgnZG9scGhpbiBvY2VhbicpLFxuICAgIHRpbWVzdGFtcDogVGltZXN0YW1wLm5vdygpXG4gIH0sXG4gIHtcbiAgICBpZDogJ3Rlcm0xOScsXG4gICAgdGVybTogJ0RvZ3MnLFxuICAgIHZvbHVtZTogODkwMDAwLFxuICAgIGNhdGVnb3J5OiAnYW5pbWFscycsXG4gICAgaW1hZ2VVcmw6IGdldEltYWdlVXJsKCdkb2cgcHVwcHkgY3V0ZScpLFxuICAgIHRpbWVzdGFtcDogVGltZXN0YW1wLm5vdygpXG4gIH0sXG4gIHtcbiAgICBpZDogJ3Rlcm0yMCcsXG4gICAgdGVybTogJ0NhdHMnLFxuICAgIHZvbHVtZTogOTIwMDAwLFxuICAgIGNhdGVnb3J5OiAnYW5pbWFscycsXG4gICAgaW1hZ2VVcmw6IGdldEltYWdlVXJsKCdjYXQga2l0dGVuJyksXG4gICAgdGltZXN0YW1wOiBUaW1lc3RhbXAubm93KClcbiAgfVxuXTtcblxuLy8gU2FtcGxlIGxlYWRlcmJvYXJkIGRhdGFcbmV4cG9ydCBjb25zdCBzYW1wbGVMZWFkZXJib2FyZDogVHJlbmRHdWVzc2VyUGxheWVyW10gPSBbXG4gIHtcbiAgICB1aWQ6ICdwbGF5ZXIxJyxcbiAgICBuYW1lOiAnQ2hhbXBpb25HYW1lcicsXG4gICAgc2NvcmU6IDI0LFxuICAgIGhpZ2hTY29yZXM6IHsgXG4gICAgICB0ZWNobm9sb2d5OiAxMiwgXG4gICAgICBnYW1pbmc6IDI0LCBcbiAgICAgIHNwb3J0czogOCxcbiAgICAgIGFuaW1hbHM6IDE1LFxuICAgICAgZXZlcnl0aGluZzogMTgsXG4gICAgICBlbnRlcnRhaW5tZW50OiAxMFxuICAgIH1cbiAgfSxcbiAge1xuICAgIHVpZDogJ3BsYXllcjInLFxuICAgIG5hbWU6ICdUcmVuZE1hc3RlcicsXG4gICAgc2NvcmU6IDIwLFxuICAgIGhpZ2hTY29yZXM6IHsgXG4gICAgICBlbnRlcnRhaW5tZW50OiAyMCwgXG4gICAgICBuZXdzOiAxNSwgXG4gICAgICBzcG9ydHM6IDE4LFxuICAgICAgdGVjaG5vbG9neTogMTQsXG4gICAgICBldmVyeXRoaW5nOiAxNixcbiAgICAgIGFuaW1hbHM6IDEyXG4gICAgfVxuICB9LFxuICB7XG4gICAgdWlkOiAncGxheWVyMycsXG4gICAgbmFtZTogJ1NlYXJjaFdpemFyZCcsXG4gICAgc2NvcmU6IDE4LFxuICAgIGhpZ2hTY29yZXM6IHsgXG4gICAgICB0ZWNobm9sb2d5OiAxOCwgXG4gICAgICBnYW1pbmc6IDEwLCBcbiAgICAgIGVudGVydGFpbm1lbnQ6IDEyLFxuICAgICAgc3BvcnRzOiAxNixcbiAgICAgIGV2ZXJ5dGhpbmc6IDE0LFxuICAgICAgYW5pbWFsczogOFxuICAgIH1cbiAgfSxcbiAge1xuICAgIHVpZDogJ3BsYXllcjQnLFxuICAgIG5hbWU6ICdEYXRhTmVyZCcsXG4gICAgc2NvcmU6IDE2LFxuICAgIGhpZ2hTY29yZXM6IHsgXG4gICAgICB0ZWNobm9sb2d5OiAxNiwgXG4gICAgICBuZXdzOiAxNCwgXG4gICAgICBzcG9ydHM6IDgsXG4gICAgICBnYW1pbmc6IDEyLFxuICAgICAgZXZlcnl0aGluZzogMTUsXG4gICAgICBxdWVzdGlvbnM6IDE4XG4gICAgfVxuICB9LFxuICB7XG4gICAgdWlkOiAncGxheWVyNScsXG4gICAgbmFtZTogJ0d1ZXNzaW5nR3VydScsXG4gICAgc2NvcmU6IDE1LFxuICAgIGhpZ2hTY29yZXM6IHsgXG4gICAgICBnYW1pbmc6IDE1LCBcbiAgICAgIGVudGVydGFpbm1lbnQ6IDksIFxuICAgICAgc3BvcnRzOiAxMixcbiAgICAgIGFuaW1hbHM6IDE4LFxuICAgICAgZXZlcnl0aGluZzogMTMsXG4gICAgICB0ZWNobm9sb2d5OiAxMFxuICAgIH1cbiAgfVxuXTsiXSwibmFtZXMiOlsiVGltZXN0YW1wIiwiZ2V0SW1hZ2VVcmwiLCJ0ZXJtIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwic2FtcGxlU2VhcmNoVGVybXMiLCJpZCIsInZvbHVtZSIsImNhdGVnb3J5IiwiaW1hZ2VVcmwiLCJ0aW1lc3RhbXAiLCJub3ciLCJzYW1wbGVMZWFkZXJib2FyZCIsInVpZCIsIm5hbWUiLCJzY29yZSIsImhpZ2hTY29yZXMiLCJ0ZWNobm9sb2d5IiwiZ2FtaW5nIiwic3BvcnRzIiwiYW5pbWFscyIsImV2ZXJ5dGhpbmciLCJlbnRlcnRhaW5tZW50IiwibmV3cyIsInF1ZXN0aW9ucyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/lib/firebase/mockData.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./src/lib/firebase/trendGuesserService.ts":
/*!*************************************************!*\
  !*** ./src/lib/firebase/trendGuesserService.ts ***!
  \*************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TrendGuesserService: () => (/* binding */ TrendGuesserService)\n/* harmony export */ });\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./firebase */ \"(pages-dir-node)/./src/lib/firebase/firebase.ts\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ \"uuid\");\n/* harmony import */ var _mockData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mockData */ \"(pages-dir-node)/./src/lib/firebase/mockData.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_firestore__WEBPACK_IMPORTED_MODULE_0__, _firebase__WEBPACK_IMPORTED_MODULE_1__, uuid__WEBPACK_IMPORTED_MODULE_2__, _mockData__WEBPACK_IMPORTED_MODULE_3__]);\n([firebase_firestore__WEBPACK_IMPORTED_MODULE_0__, _firebase__WEBPACK_IMPORTED_MODULE_1__, uuid__WEBPACK_IMPORTED_MODULE_2__, _mockData__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// src/lib/firebase/trendGuesserService.ts\n\n\n\n\n// Development mode flag\nconst USE_MOCK_DATA =  true || 0;\nclass TrendGuesserService {\n    // Start a new game with selected category\n    static async startGame(gameId, category, customTerm) {\n        try {\n            console.log(`TrendGuesserService.startGame: Starting game ${gameId} with category ${category}`);\n            // In mock mode, we don't need to check if the game exists\n            if (!USE_MOCK_DATA) {\n                const gameRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'games', gameId.toUpperCase());\n                const gameDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(gameRef);\n                if (!gameDoc.exists()) {\n                    throw new Error('Game does not exist');\n                }\n            } else {\n                console.log('Using mock data for game start');\n            }\n            // Get terms for the selected category\n            let terms = [];\n            if (category === 'custom' && customTerm) {\n                // For custom games, fetch the custom term and related terms\n                terms = await this.fetchCustomTermWithRelated(customTerm);\n            } else {\n                // For predefined categories, fetch terms from the database\n                terms = await this.fetchTermsByCategory(category);\n            }\n            if (terms.length < 2) {\n                console.error('Not enough terms available for category:', category);\n                throw new Error('Not enough terms available');\n            }\n            // Shuffle the terms\n            const shuffledTerms = this.shuffleTerms(terms);\n            // Initialize game state with first two terms\n            const gameState = {\n                currentRound: 1,\n                knownTerm: shuffledTerms[0],\n                hiddenTerm: shuffledTerms[1],\n                category,\n                started: true,\n                finished: false,\n                usedTerms: [\n                    shuffledTerms[0].id,\n                    shuffledTerms[1].id\n                ],\n                terms: shuffledTerms.slice(2),\n                customTerm: category === 'custom' ? customTerm : undefined\n            };\n            if (!USE_MOCK_DATA) {\n                // Update the game document with new game state\n                const gameRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'games', gameId.toUpperCase());\n                await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(gameRef, {\n                    status: 'active',\n                    '__trendguesser.state': gameState\n                });\n                console.log(`Updated Firestore with game state for game ${gameId}`);\n            } else {\n                // In mock mode, we just log what would have happened\n                console.log('Mock: Game started with category:', category);\n                // Store the game state in sessionStorage for mock mode\n                if (false) {}\n            }\n            // Return the created game state for immediate use\n            return gameState;\n        } catch (error) {\n            console.error('Error starting game:', error);\n            if (USE_MOCK_DATA) {\n                console.log('Falling back to basic mock game state due to error');\n                // Create and return a basic mock game state\n                const fallbackState = {\n                    currentRound: 1,\n                    knownTerm: _mockData__WEBPACK_IMPORTED_MODULE_3__.sampleSearchTerms[0],\n                    hiddenTerm: _mockData__WEBPACK_IMPORTED_MODULE_3__.sampleSearchTerms[1],\n                    category: category || 'everything',\n                    started: true,\n                    finished: false,\n                    usedTerms: [\n                        _mockData__WEBPACK_IMPORTED_MODULE_3__.sampleSearchTerms[0].id,\n                        _mockData__WEBPACK_IMPORTED_MODULE_3__.sampleSearchTerms[1].id\n                    ],\n                    terms: _mockData__WEBPACK_IMPORTED_MODULE_3__.sampleSearchTerms.slice(2),\n                    customTerm: category === 'custom' ? customTerm : undefined\n                };\n                // Store the fallback state in session storage\n                if (false) {}\n                return fallbackState;\n            }\n            throw error;\n        }\n    }\n    // Make a guess (higher or lower)\n    static async makeGuess(gameId, playerUid, isHigher) {\n        try {\n            // Handle mock mode\n            if (USE_MOCK_DATA) {\n                console.log('Using mock data for guess:', {\n                    gameId,\n                    playerUid,\n                    isHigher\n                });\n                // Get game data from session storage\n                if (false) {}\n                return Math.random() > 0.5; // Fallback if no session storage\n            }\n            // Regular Firestore implementation\n            const gameRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'games', gameId.toUpperCase());\n            const gameDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(gameRef);\n            if (!gameDoc.exists()) {\n                throw new Error('Game does not exist');\n            }\n            const gameData = gameDoc.data();\n            const gameState = gameData['__trendguesser.state'];\n            const player = gameData[playerUid];\n            if (!gameState || !gameState.started || gameState.finished) {\n                throw new Error('Game is not active');\n            }\n            // Check if the guess is correct\n            const isCorrect = isHigher ? gameState.hiddenTerm.volume > gameState.knownTerm.volume : gameState.hiddenTerm.volume < gameState.knownTerm.volume;\n            if (isCorrect) {\n                // Correct guess - prepare next round\n                const nextRound = gameState.currentRound + 1;\n                const newPlayerScore = (player.score || 0) + 1;\n                // Update player score\n                await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(gameRef, {\n                    [`${playerUid}.score`]: newPlayerScore\n                });\n                // If we have more terms, set up next round\n                if (gameState.terms.length > 0) {\n                    const nextTerm = gameState.terms[0];\n                    const remainingTerms = gameState.terms.slice(1);\n                    const updatedState = {\n                        ...gameState,\n                        currentRound: nextRound,\n                        knownTerm: gameState.hiddenTerm,\n                        hiddenTerm: nextTerm,\n                        usedTerms: [\n                            ...gameState.usedTerms,\n                            nextTerm.id\n                        ],\n                        terms: remainingTerms\n                    };\n                    await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(gameRef, {\n                        '__trendguesser.state': updatedState\n                    });\n                } else {\n                    // No more terms - player wins by completing all terms\n                    const updatedState = {\n                        ...gameState,\n                        finished: true,\n                        winner: playerUid\n                    };\n                    await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(gameRef, {\n                        '__trendguesser.state': updatedState,\n                        status: 'finished'\n                    });\n                    // Update high score if needed\n                    await this.updateHighScore(playerUid, gameState.category, newPlayerScore);\n                }\n                return true;\n            } else {\n                // Incorrect guess - game over\n                const updatedState = {\n                    ...gameState,\n                    finished: true\n                };\n                await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(gameRef, {\n                    '__trendguesser.state': updatedState,\n                    status: 'finished'\n                });\n                // Update high score if needed\n                await this.updateHighScore(playerUid, gameState.category, player.score || 0);\n                return false;\n            }\n        } catch (error) {\n            console.error('Error making guess:', error);\n            throw error;\n        }\n    }\n    // End the game and update high scores\n    static async endGame(gameId, playerUid, finalScore) {\n        try {\n            // Handle mock mode\n            if (USE_MOCK_DATA && \"undefined\" !== 'undefined') {}\n            const gameRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'games', gameId.toUpperCase());\n            const gameDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(gameRef);\n            if (!gameDoc.exists()) {\n                throw new Error('Game does not exist');\n            }\n            const gameData = gameDoc.data();\n            const gameState = gameData['__trendguesser.state'];\n            if (!gameState) {\n                throw new Error('No game state found');\n            }\n            // Only update if game was actually started\n            if (gameState.started) {\n                // Mark game as finished\n                await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(gameRef, {\n                    status: 'finished',\n                    '__trendguesser.state': {\n                        ...gameState,\n                        finished: true\n                    }\n                });\n                // Update high score if needed\n                await this.updateHighScore(playerUid, gameState.category, finalScore);\n            }\n        } catch (error) {\n            console.error('Error ending game:', error);\n            throw error;\n        }\n    }\n    // Create a new game session\n    static async createGame(createdBy, playerName) {\n        try {\n            // Generate a short 6-character game ID (uppercase)\n            const gameId = this.generateGameId();\n            if (USE_MOCK_DATA) {\n                console.log('Using mock data for game creation');\n                // Create an empty initial game state in sessionStorage for immediate access\n                if (false) {}\n                // Artificial delay to simulate network request\n                return new Promise((resolve)=>{\n                    setTimeout(()=>{\n                        resolve(gameId);\n                    }, 300);\n                });\n            }\n            const gameRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'games', gameId);\n            // Initialize player data\n            const playerData = {\n                uid: createdBy,\n                name: playerName || 'Player',\n                score: 0\n            };\n            // Initial game data\n            const gameData = {\n                id: gameId,\n                createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)(),\n                createdBy,\n                gameType: 'trendguesser',\n                status: 'waiting',\n                [createdBy]: playerData\n            };\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(gameRef, gameData);\n            return gameId;\n        } catch (error) {\n            console.error('Error creating game:', error);\n            if (USE_MOCK_DATA) {\n                console.log('Falling back to mock data due to error');\n                return this.generateGameId();\n            }\n            throw error;\n        }\n    }\n    // Fetch leaderboard for a category\n    static async getLeaderboard(category) {\n        try {\n            if (USE_MOCK_DATA) {\n                console.log('Using mock data for leaderboard');\n                // Sort and filter the mock leaderboard based on the requested category\n                return _mockData__WEBPACK_IMPORTED_MODULE_3__.sampleLeaderboard.filter((player)=>player.highScores && player.highScores[category]).sort((a, b)=>{\n                    const scoreA = a.highScores?.[category] || 0;\n                    const scoreB = b.highScores?.[category] || 0;\n                    return scoreB - scoreA;\n                }).slice(0, 10);\n            }\n            const leaderboardRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'leaderboard');\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(leaderboardRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)('category', '==', category), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)('score', 'desc'), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(10));\n            const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n            const leaderboard = [];\n            querySnapshot.forEach((doc)=>{\n                const data = doc.data();\n                leaderboard.push({\n                    uid: data.uid,\n                    name: data.name,\n                    score: data.score,\n                    highScores: data.highScores\n                });\n            });\n            return leaderboard;\n        } catch (error) {\n            console.error('Error fetching leaderboard:', error);\n            if (USE_MOCK_DATA) {\n                console.log('Falling back to mock data due to error');\n                return _mockData__WEBPACK_IMPORTED_MODULE_3__.sampleLeaderboard.slice(0, 10);\n            }\n            throw error;\n        }\n    }\n    // Helper methods\n    static async updateHighScore(playerUid, category, score) {\n        try {\n            // In mock mode, store high score in sessionStorage\n            if (USE_MOCK_DATA && \"undefined\" !== 'undefined') {}\n            const playerRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'players', playerUid);\n            const playerDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(playerRef);\n            if (playerDoc.exists()) {\n                const playerData = playerDoc.data();\n                const currentHighScore = playerData.highScores?.[category] || 0;\n                if (score > currentHighScore) {\n                    // Update player's high score for this category\n                    await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(playerRef, {\n                        [`highScores.${category}`]: score\n                    });\n                    // Also update leaderboard if score is significant\n                    if (score > 5) {\n                        const leaderboardRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'leaderboard', `${category}_${playerUid}`);\n                        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(leaderboardRef, {\n                            uid: playerUid,\n                            name: playerData.name || 'Unknown Player',\n                            score,\n                            category,\n                            updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)()\n                        }, {\n                            merge: true\n                        });\n                    }\n                }\n            }\n        } catch (error) {\n            console.error('Error updating high score:', error);\n        // Don't throw, just log - this is a non-critical operation\n        }\n    }\n    static async fetchTermsByCategory(category) {\n        try {\n            if (USE_MOCK_DATA) {\n                console.log('Using mock data for search terms');\n                if (category === 'everything') {\n                    // Return all sample terms\n                    return _mockData__WEBPACK_IMPORTED_MODULE_3__.sampleSearchTerms;\n                } else if (category === 'latest') {\n                    // Return terms sorted by timestamp\n                    return [\n                        ..._mockData__WEBPACK_IMPORTED_MODULE_3__.sampleSearchTerms\n                    ].sort(()=>Math.random() - 0.5);\n                } else {\n                    // Filter by category\n                    const filteredTerms = _mockData__WEBPACK_IMPORTED_MODULE_3__.sampleSearchTerms.filter((term)=>term.category === category);\n                    return filteredTerms.length > 0 ? filteredTerms : _mockData__WEBPACK_IMPORTED_MODULE_3__.sampleSearchTerms;\n                }\n            }\n            const termsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'searchTerms');\n            let q;\n            if (category === 'everything') {\n                // For \"everything\" category, get a mix of all categories\n                q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(termsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(50));\n            } else if (category === 'latest') {\n                // For \"latest\", get the most recently added terms\n                q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(termsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)('timestamp', 'desc'), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(50));\n            } else {\n                // For specific categories\n                q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(termsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)('category', '==', category), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(50));\n            }\n            const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n            const terms = [];\n            querySnapshot.forEach((doc)=>{\n                const data = doc.data();\n                terms.push({\n                    ...data,\n                    id: doc.id\n                });\n            });\n            return terms;\n        } catch (error) {\n            console.error('Error fetching terms:', error);\n            if (USE_MOCK_DATA) {\n                console.log('Falling back to mock data due to error');\n                return _mockData__WEBPACK_IMPORTED_MODULE_3__.sampleSearchTerms;\n            }\n            throw error;\n        }\n    }\n    static async fetchCustomTermWithRelated(customTerm) {\n        try {\n            // This would typically call a Firebase Function to get the custom term data\n            // For now, we'll simulate it with a placeholder\n            // First term will be the custom one\n            const customSearchTerm = {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_2__.v4)(),\n                term: customTerm,\n                volume: Math.floor(Math.random() * 100) + 1,\n                category: 'custom',\n                imageUrl: `https://source.unsplash.com/featured/?${encodeURIComponent(customTerm)}`,\n                timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n            };\n            // For mock mode, just get some random terms from the sample data\n            if (USE_MOCK_DATA) {\n                const randomTerms = [\n                    ..._mockData__WEBPACK_IMPORTED_MODULE_3__.sampleSearchTerms\n                ].sort(()=>Math.random() - 0.5).slice(0, 10);\n                return [\n                    customSearchTerm,\n                    ...randomTerms\n                ];\n            }\n            // Then get some related terms from the database (random for now)\n            const termsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, 'searchTerms');\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(termsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(20));\n            const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n            const terms = [\n                customSearchTerm\n            ];\n            querySnapshot.forEach((doc)=>{\n                const data = doc.data();\n                terms.push({\n                    ...data,\n                    id: doc.id\n                });\n            });\n            return terms;\n        } catch (error) {\n            console.error('Error fetching custom term:', error);\n            // Fallback to mock data for custom term\n            if (USE_MOCK_DATA) {\n                console.log('Falling back to mock data for custom term');\n                const customSearchTerm = {\n                    id: (0,uuid__WEBPACK_IMPORTED_MODULE_2__.v4)(),\n                    term: customTerm,\n                    volume: Math.floor(Math.random() * 100) + 1,\n                    category: 'custom',\n                    imageUrl: `https://source.unsplash.com/featured/?${encodeURIComponent(customTerm)}`,\n                    timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n                };\n                return [\n                    customSearchTerm,\n                    ..._mockData__WEBPACK_IMPORTED_MODULE_3__.sampleSearchTerms.slice(0, 10)\n                ];\n            }\n            throw error;\n        }\n    }\n    static shuffleTerms(terms) {\n        const shuffled = [\n            ...terms\n        ];\n        for(let i = shuffled.length - 1; i > 0; i--){\n            const j = Math.floor(Math.random() * (i + 1));\n            [shuffled[i], shuffled[j]] = [\n                shuffled[j],\n                shuffled[i]\n            ];\n        }\n        return shuffled;\n    }\n    static generateGameId() {\n        // Generate a 6-character alphanumeric code (uppercase)\n        const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789'; // Removed confusable characters\n        let result = '';\n        for(let i = 0; i < 6; i++){\n            result += chars.charAt(Math.floor(Math.random() * chars.length));\n        }\n        return result;\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3NyYy9saWIvZmlyZWJhc2UvdHJlbmRHdWVzc2VyU2VydmljZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBLDBDQUEwQztBQWdCZDtBQUNJO0FBQ0k7QUFFOEI7QUFFbEUsd0JBQXdCO0FBQ3hCLE1BQU1pQixnQkFBZ0JDLEtBQWdELElBQy9DQSxDQUFzQztBQUV0RCxNQUFNRztJQUNYLDBDQUEwQztJQUMxQyxhQUFhQyxVQUFVQyxNQUFjLEVBQUVDLFFBQXdCLEVBQUVDLFVBQW1CLEVBQXlDO1FBQzNILElBQUk7WUFDRkMsUUFBUUMsR0FBRyxDQUFDLENBQUMsNkNBQTZDLEVBQUVKLE9BQU8sZUFBZSxFQUFFQyxVQUFVO1lBRTlGLDBEQUEwRDtZQUMxRCxJQUFJLENBQUNQLGVBQWU7Z0JBQ2xCLE1BQU1XLFVBQVU1Qix1REFBR0EsQ0FBQ1kseUNBQUVBLEVBQUUsU0FBU1csT0FBT00sV0FBVztnQkFDbkQsTUFBTUMsVUFBVSxNQUFNM0IsMERBQU1BLENBQUN5QjtnQkFFN0IsSUFBSSxDQUFDRSxRQUFRQyxNQUFNLElBQUk7b0JBQ3JCLE1BQU0sSUFBSUMsTUFBTTtnQkFDbEI7WUFDRixPQUFPO2dCQUNMTixRQUFRQyxHQUFHLENBQUM7WUFDZDtZQUVBLHNDQUFzQztZQUN0QyxJQUFJTSxRQUFzQixFQUFFO1lBRTVCLElBQUlULGFBQWEsWUFBWUMsWUFBWTtnQkFDdkMsNERBQTREO2dCQUM1RFEsUUFBUSxNQUFNLElBQUksQ0FBQ0MsMEJBQTBCLENBQUNUO1lBQ2hELE9BQU87Z0JBQ0wsMkRBQTJEO2dCQUMzRFEsUUFBUSxNQUFNLElBQUksQ0FBQ0Usb0JBQW9CLENBQUNYO1lBQzFDO1lBRUEsSUFBSVMsTUFBTUcsTUFBTSxHQUFHLEdBQUc7Z0JBQ3BCVixRQUFRVyxLQUFLLENBQUMsNENBQTRDYjtnQkFDMUQsTUFBTSxJQUFJUSxNQUFNO1lBQ2xCO1lBRUEsb0JBQW9CO1lBQ3BCLE1BQU1NLGdCQUFnQixJQUFJLENB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QUMsR0FBRztnQkFBQ0QsUUFBUSxDQUFDQyxFQUFFO2dCQUFFRCxRQUFRLENBQUNwRSxFQUFFO2FBQUM7UUFDekQ7UUFDQSxPQUFPb0U7SUFDVDtJQUVBLE9BQWVwQyxpQkFBeUI7UUFDdEMsdURBQXVEO1FBQ3ZELE1BQU1zQyxRQUFRLG9DQUFvQyxnQ0FBZ0M7UUFDbEYsSUFBSUMsU0FBUztRQUNiLElBQUssSUFBSXZFLElBQUksR0FBR0EsSUFBSSxHQUFHQSxJQUFLO1lBQzFCdUUsVUFBVUQsTUFBTUUsTUFBTSxDQUFDaEQsS0FBS3NDLEtBQUssQ0FBQ3RDLEtBQUtDLE1BQU0sS0FBSzZDLE1BQU10RyxNQUFNO1FBQ2hFO1FBQ0EsT0FBT3VHO0lBQ1Q7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2FsZXgvRGV2ZWxvcGVyL3RyZW5kZ3Vlc3Nlci9zcmMvbGliL2ZpcmViYXNlL3RyZW5kR3Vlc3NlclNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2xpYi9maXJlYmFzZS90cmVuZEd1ZXNzZXJTZXJ2aWNlLnRzXG5pbXBvcnQgeyBcbiAgZG9jLCBcbiAgc2V0RG9jLCBcbiAgdXBkYXRlRG9jLCBcbiAgZ2V0RG9jLCBcbiAgY29sbGVjdGlvbiwgXG4gIHF1ZXJ5LCBcbiAgd2hlcmUsIFxuICBnZXREb2NzLCBcbiAgYXJyYXlVbmlvbiwgXG4gIFRpbWVzdGFtcCwgXG4gIHNlcnZlclRpbWVzdGFtcCxcbiAgaW5jcmVtZW50LFxuICBsaW1pdCxcbiAgb3JkZXJCeVxufSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xuaW1wb3J0IHsgZGIgfSBmcm9tICcuL2ZpcmViYXNlJztcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IHsgU2VhcmNoQ2F0ZWdvcnksIFNlYXJjaFRlcm0sIFRyZW5kR3Vlc3NlckdhbWVTdGF0ZSwgVHJlbmRHdWVzc2VyUGxheWVyIH0gZnJvbSAnQC90eXBlcyc7XG5pbXBvcnQgeyBzYW1wbGVTZWFyY2hUZXJtcywgc2FtcGxlTGVhZGVyYm9hcmQgfSBmcm9tICcuL21vY2tEYXRhJztcblxuLy8gRGV2ZWxvcG1lbnQgbW9kZSBmbGFnXG5jb25zdCBVU0VfTU9DS19EQVRBID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfVVNFX01PQ0tfREFUQSA9PT0gJ3RydWUnIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JztcblxuZXhwb3J0IGNsYXNzIFRyZW5kR3Vlc3NlclNlcnZpY2Uge1xuICAvLyBTdGFydCBhIG5ldyBnYW1lIHdpdGggc2VsZWN0ZWQgY2F0ZWdvcnlcbiAgc3RhdGljIGFzeW5jIHN0YXJ0R2FtZShnYW1lSWQ6IHN0cmluZywgY2F0ZWdvcnk6IFNlYXJjaENhdGVnb3J5LCBjdXN0b21UZXJtPzogc3RyaW5nKTogUHJvbWlzZTxUcmVuZEd1ZXNzZXJHYW1lU3RhdGUgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKGBUcmVuZEd1ZXNzZXJTZXJ2aWNlLnN0YXJ0R2FtZTogU3RhcnRpbmcgZ2FtZSAke2dhbWVJZH0gd2l0aCBjYXRlZ29yeSAke2NhdGVnb3J5fWApO1xuICAgICAgXG4gICAgICAvLyBJbiBtb2NrIG1vZGUsIHdlIGRvbid0IG5lZWQgdG8gY2hlY2sgaWYgdGhlIGdhbWUgZXhpc3RzXG4gICAgICBpZiAoIVVTRV9NT0NLX0RBVEEpIHtcbiAgICAgICAgY29uc3QgZ2FtZVJlZiA9IGRvYyhkYiwgJ2dhbWVzJywgZ2FtZUlkLnRvVXBwZXJDYXNlKCkpO1xuICAgICAgICBjb25zdCBnYW1lRG9jID0gYXdhaXQgZ2V0RG9jKGdhbWVSZWYpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFnYW1lRG9jLmV4aXN0cygpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdHYW1lIGRvZXMgbm90IGV4aXN0Jyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBtb2NrIGRhdGEgZm9yIGdhbWUgc3RhcnQnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR2V0IHRlcm1zIGZvciB0aGUgc2VsZWN0ZWQgY2F0ZWdvcnlcbiAgICAgIGxldCB0ZXJtczogU2VhcmNoVGVybVtdID0gW107XG4gICAgICBcbiAgICAgIGlmIChjYXRlZ29yeSA9PT0gJ2N1c3RvbScgJiYgY3VzdG9tVGVybSkge1xuICAgICAgICAvLyBGb3IgY3VzdG9tIGdhbWVzLCBmZXRjaCB0aGUgY3VzdG9tIHRlcm0gYW5kIHJlbGF0ZWQgdGVybXNcbiAgICAgICAgdGVybXMgPSBhd2FpdCB0aGlzLmZldGNoQ3VzdG9tVGVybVdpdGhSZWxhdGVkKGN1c3RvbVRlcm0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIHByZWRlZmluZWQgY2F0ZWdvcmllcywgZmV0Y2ggdGVybXMgZnJvbSB0aGUgZGF0YWJhc2VcbiAgICAgICAgdGVybXMgPSBhd2FpdCB0aGlzLmZldGNoVGVybXNCeUNhdGVnb3J5KGNhdGVnb3J5KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHRlcm1zLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignTm90IGVub3VnaCB0ZXJtcyBhdmFpbGFibGUgZm9yIGNhdGVnb3J5OicsIGNhdGVnb3J5KTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgZW5vdWdoIHRlcm1zIGF2YWlsYWJsZScpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTaHVmZmxlIHRoZSB0ZXJtc1xuICAgICAgY29uc3Qgc2h1ZmZsZWRUZXJtcyA9IHRoaXMuc2h1ZmZsZVRlcm1zKHRlcm1zKTtcbiAgICAgIFxuICAgICAgLy8gSW5pdGlhbGl6ZSBnYW1lIHN0YXRlIHdpdGggZmlyc3QgdHdvIHRlcm1zXG4gICAgICBjb25zdCBnYW1lU3RhdGU6IFRyZW5kR3Vlc3NlckdhbWVTdGF0ZSA9IHtcbiAgICAgICAgY3VycmVudFJvdW5kOiAxLFxuICAgICAgICBrbm93blRlcm06IHNodWZmbGVkVGVybXNbMF0sXG4gICAgICAgIGhpZGRlblRlcm06IHNodWZmbGVkVGVybXNbMV0sXG4gICAgICAgIGNhdGVnb3J5LFxuICAgICAgICBzdGFydGVkOiB0cnVlLFxuICAgICAgICBmaW5pc2hlZDogZmFsc2UsXG4gICAgICAgIHVzZWRUZXJtczogW3NodWZmbGVkVGVybXNbMF0uaWQsIHNodWZmbGVkVGVybXNbMV0uaWRdLFxuICAgICAgICB0ZXJtczogc2h1ZmZsZWRUZXJtcy5zbGljZSgyKSwgLy8gU3RvcmUgcmVtYWluaW5nIHRlcm1zXG4gICAgICAgIGN1c3RvbVRlcm06IGNhdGVnb3J5ID09PSAnY3VzdG9tJyA/IGN1c3RvbVRlcm0gOiB1bmRlZmluZWRcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGlmICghVVNFX01PQ0tfREFUQSkge1xuICAgICAgICAvLyBVcGRhdGUgdGhlIGdhbWUgZG9jdW1lbnQgd2l0aCBuZXcgZ2FtZSBzdGF0ZVxuICAgICAgICBjb25zdCBnYW1lUmVmID0gZG9jKGRiLCAnZ2FtZXMnLCBnYW1lSWQudG9VcHBlckNhc2UoKSk7XG4gICAgICAgIGF3YWl0IHVwZGF0ZURvYyhnYW1lUmVmLCB7XG4gICAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyxcbiAgICAgICAgICAnX190cmVuZGd1ZXNzZXIuc3RhdGUnOiBnYW1lU3RhdGVcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZyhgVXBkYXRlZCBGaXJlc3RvcmUgd2l0aCBnYW1lIHN0YXRlIGZvciBnYW1lICR7Z2FtZUlkfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSW4gbW9jayBtb2RlLCB3ZSBqdXN0IGxvZyB3aGF0IHdvdWxkIGhhdmUgaGFwcGVuZWRcbiAgICAgICAgY29uc29sZS5sb2coJ01vY2s6IEdhbWUgc3RhcnRlZCB3aXRoIGNhdGVnb3J5OicsIGNhdGVnb3J5KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFN0b3JlIHRoZSBnYW1lIHN0YXRlIGluIHNlc3Npb25TdG9yYWdlIGZvciBtb2NrIG1vZGVcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgLy8gR2V0IHRoZSB1c2VyIElEIGZyb20gc2Vzc2lvbiBzdG9yYWdlXG4gICAgICAgICAgY29uc3QgbW9ja1VzZXJVaWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdtb2NrX3VzZXJfdWlkJykgfHwgJ21vY2tfdXNlcic7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIG1vY2sgdXNlciBJRCBmb3IgZ2FtZSBkYXRhOicsIG1vY2tVc2VyVWlkKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBEb3VibGUtY2hlY2sgdGhhdCB0aGlzIGdhbWUgSUQgbWF0Y2hlcyB0aGUgY3VycmVudF9nYW1lX2lkXG4gICAgICAgICAgY29uc3QgY3VycmVudEdhbWVJZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRfZ2FtZV9pZCcpO1xuICAgICAgICAgIGlmIChjdXJyZW50R2FtZUlkICE9PSBnYW1lSWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignV0FSTklORzogY3VycmVudF9nYW1lX2lkIG1pc21hdGNoIGluIHRyZW5kR3Vlc3NlclNlcnZpY2UuIEN1cnJlbnQ6JywgY3VycmVudEdhbWVJZCwgJ1VzaW5nOicsIGdhbWVJZCk7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdG8gZW5zdXJlIGNvbnNpc3RlbmN5XG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdjdXJyZW50X2dhbWVfaWQnLCBnYW1lSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBHZXQgZXhpc3RpbmcgZGF0YSBpZiBhdmFpbGFibGVcbiAgICAgICAgICBjb25zdCBleGlzdGluZ0RhdGEgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGBnYW1lXyR7Z2FtZUlkfWApO1xuICAgICAgICAgIGxldCBtb2NrR2FtZURhdGE7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGV4aXN0aW5nRGF0YSkge1xuICAgICAgICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIGdhbWUgZGF0YVxuICAgICAgICAgICAgbW9ja0dhbWVEYXRhID0gSlNPTi5wYXJzZShleGlzdGluZ0RhdGEpO1xuICAgICAgICAgICAgbW9ja0dhbWVEYXRhLnN0YXR1cyA9ICdhY3RpdmUnO1xuICAgICAgICAgICAgbW9ja0dhbWVEYXRhWydfX3RyZW5kZ3Vlc3Nlci5zdGF0ZSddID0gZ2FtZVN0YXRlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgbmV3IGdhbWUgZGF0YVxuICAgICAgICAgICAgbW9ja0dhbWVEYXRhID0ge1xuICAgICAgICAgICAgICBpZDogZ2FtZUlkLFxuICAgICAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLFxuICAgICAgICAgICAgICBjcmVhdGVkQnk6IG1vY2tVc2VyVWlkLFxuICAgICAgICAgICAgICBnYW1lVHlwZTogJ3RyZW5kZ3Vlc3NlcicsXG4gICAgICAgICAgICAgICdfX3RyZW5kZ3Vlc3Nlci5zdGF0ZSc6IGdhbWVTdGF0ZSxcbiAgICAgICAgICAgICAgW21vY2tVc2VyVWlkXToge1xuICAgICAgICAgICAgICAgIHVpZDogbW9ja1VzZXJVaWQsXG4gICAgICAgICAgICAgICAgbmFtZTogJ01vY2sgUGxheWVyJyxcbiAgICAgICAgICAgICAgICBzY29yZTogMFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTYXZlIHRvIHNlc3Npb24gc3RvcmFnZVxuICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oYGdhbWVfJHtnYW1lSWR9YCwgSlNPTi5zdHJpbmdpZnkobW9ja0dhbWVEYXRhKSk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1N0b3JlZCBtb2NrIGdhbWUgZGF0YTonLCBtb2NrR2FtZURhdGEpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIElNUE9SVEFOVCBGSVg6IFdlIG5lZWQgdG8gc3RvcmUgdGhlIGN1cnJlbnQgZ2FtZSBJRCBpbiBhIHNwZWNpYWwga2V5XG4gICAgICAgICAgLy8gVGhpcyBlbnN1cmVzIHdlIGNhbiBhY2Nlc3MgaXQgYWNyb3NzIHBhZ2UgcmVmcmVzaGVzXG4gICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnY3VycmVudF9nYW1lX2lkJywgZ2FtZUlkKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnU2V0IGN1cnJlbnQgZ2FtZSBJRCBpbiBzZXNzaW9uIHN0b3JhZ2U6JywgZ2FtZUlkKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBEZWFjdGl2YXRlIGFueSBvdGhlciBhY3RpdmUgZ2FtZXMgdG8gYXZvaWQgY29uZmxpY3RzXG4gICAgICAgICAgY29uc3QgZ2FtZUtleXMgPSBbXTtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlc3Npb25TdG9yYWdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBzZXNzaW9uU3RvcmFnZS5rZXkoaSk7XG4gICAgICAgICAgICBpZiAoa2V5ICYmIGtleS5zdGFydHNXaXRoKCdnYW1lXycpICYmIGtleSAhPT0gYGdhbWVfJHtnYW1lSWR9YCkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oa2V5KSB8fCAne30nKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT09ICdhY3RpdmUnKSB7XG4gICAgICAgICAgICAgICAgICBkYXRhLnN0YXR1cyA9ICdpbmFjdGl2ZSc7XG4gICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0RlYWN0aXZhdGVkIG90aGVyIGdhbWUgdG8gYXZvaWQgY29uZmxpY3RzOicsIGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gSWdub3JlIHBhcnNpbmcgZXJyb3JzXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZ2FtZUtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBSZXR1cm4gdGhlIGNyZWF0ZWQgZ2FtZSBzdGF0ZSBmb3IgaW1tZWRpYXRlIHVzZVxuICAgICAgcmV0dXJuIGdhbWVTdGF0ZTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzdGFydGluZyBnYW1lOicsIGVycm9yKTtcbiAgICAgIFxuICAgICAgaWYgKFVTRV9NT0NLX0RBVEEpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0ZhbGxpbmcgYmFjayB0byBiYXNpYyBtb2NrIGdhbWUgc3RhdGUgZHVlIHRvIGVycm9yJyk7XG4gICAgICAgIC8vIENyZWF0ZSBhbmQgcmV0dXJuIGEgYmFzaWMgbW9jayBnYW1lIHN0YXRlXG4gICAgICAgIGNvbnN0IGZhbGxiYWNrU3RhdGU6IFRyZW5kR3Vlc3NlckdhbWVTdGF0ZSA9IHtcbiAgICAgICAgICBjdXJyZW50Um91bmQ6IDEsXG4gICAgICAgICAga25vd25UZXJtOiBzYW1wbGVTZWFyY2hUZXJtc1swXSxcbiAgICAgICAgICBoaWRkZW5UZXJtOiBzYW1wbGVTZWFyY2hUZXJtc1sxXSxcbiAgICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnkgfHwgJ2V2ZXJ5dGhpbmcnLFxuICAgICAgICAgIHN0YXJ0ZWQ6IHRydWUsXG4gICAgICAgICAgZmluaXNoZWQ6IGZhbHNlLFxuICAgICAgICAgIHVzZWRUZXJtczogW3NhbXBsZVNlYXJjaFRlcm1zWzBdLmlkLCBzYW1wbGVTZWFyY2hUZXJtc1sxXS5pZF0sXG4gICAgICAgICAgdGVybXM6IHNhbXBsZVNlYXJjaFRlcm1zLnNsaWNlKDIpLFxuICAgICAgICAgIGN1c3RvbVRlcm06IGNhdGVnb3J5ID09PSAnY3VzdG9tJyA/IGN1c3RvbVRlcm0gOiB1bmRlZmluZWRcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIC8vIFN0b3JlIHRoZSBmYWxsYmFjayBzdGF0ZSBpbiBzZXNzaW9uIHN0b3JhZ2VcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgY29uc3QgbW9ja1VzZXJVaWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdtb2NrX3VzZXJfdWlkJykgfHwgJ21vY2tfdXNlcic7XG4gICAgICAgICAgY29uc3QgbW9ja0dhbWVEYXRhID0ge1xuICAgICAgICAgICAgaWQ6IGdhbWVJZCxcbiAgICAgICAgICAgIHN0YXR1czogJ2FjdGl2ZScsXG4gICAgICAgICAgICBjcmVhdGVkQnk6IG1vY2tVc2VyVWlkLFxuICAgICAgICAgICAgZ2FtZVR5cGU6ICd0cmVuZGd1ZXNzZXInLFxuICAgICAgICAgICAgJ19fdHJlbmRndWVzc2VyLnN0YXRlJzogZmFsbGJhY2tTdGF0ZSxcbiAgICAgICAgICAgIFttb2NrVXNlclVpZF06IHtcbiAgICAgICAgICAgICAgdWlkOiBtb2NrVXNlclVpZCxcbiAgICAgICAgICAgICAgbmFtZTogJ01vY2sgUGxheWVyJyxcbiAgICAgICAgICAgICAgc2NvcmU6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIFxuICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oYGdhbWVfJHtnYW1lSWR9YCwgSlNPTi5zdHJpbmdpZnkobW9ja0dhbWVEYXRhKSk7XG4gICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnY3VycmVudF9nYW1lX2lkJywgZ2FtZUlkKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnQ3JlYXRlZCBmYWxsYmFjayBnYW1lIHN0YXRlIGluIHNlc3Npb24gc3RvcmFnZTonLCBmYWxsYmFja1N0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrU3RhdGU7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuICBcbiAgLy8gTWFrZSBhIGd1ZXNzIChoaWdoZXIgb3IgbG93ZXIpXG4gIHN0YXRpYyBhc3luYyBtYWtlR3Vlc3MoZ2FtZUlkOiBzdHJpbmcsIHBsYXllclVpZDogc3RyaW5nLCBpc0hpZ2hlcjogYm9vbGVhbik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBIYW5kbGUgbW9jayBtb2RlXG4gICAgICBpZiAoVVNFX01PQ0tfREFUQSkge1xuICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgbW9jayBkYXRhIGZvciBndWVzczonLCB7IGdhbWVJZCwgcGxheWVyVWlkLCBpc0hpZ2hlciB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIEdldCBnYW1lIGRhdGEgZnJvbSBzZXNzaW9uIHN0b3JhZ2VcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgd2UgbmVlZCB0byB1c2UgdGhlIGN1cnJlbnRfZ2FtZV9pZCBpbnN0ZWFkXG4gICAgICAgICAgY29uc3QgY3VycmVudEdhbWVJZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRfZ2FtZV9pZCcpO1xuICAgICAgICAgIGlmIChjdXJyZW50R2FtZUlkICYmIGN1cnJlbnRHYW1lSWQgIT09IGdhbWVJZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdXQVJOSU5HOiBnYW1lSWQgbWlzbWF0Y2ggaW4gbWFrZUd1ZXNzLiBVc2luZyBjdXJyZW50X2dhbWVfaWQ6JywgY3VycmVudEdhbWVJZCwgJ2luc3RlYWQgb2Y6JywgZ2FtZUlkKTtcbiAgICAgICAgICAgIGdhbWVJZCA9IGN1cnJlbnRHYW1lSWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IHN0b3JlZEdhbWVEYXRhID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShgZ2FtZV8ke2dhbWVJZH1gKTtcbiAgICAgICAgICBpZiAoIXN0b3JlZEdhbWVEYXRhKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdNb2NrIGdhbWUgbm90IGZvdW5kOicsIGdhbWVJZCk7XG4gICAgICAgICAgICAvLyBUcnkgdG8gZmluZCBhbnkgZ2FtZSBpbiBzZXNzaW9uIHN0b3JhZ2UgYXMgYSBmYWxsYmFja1xuICAgICAgICAgICAgY29uc3QgYWxsS2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXNzaW9uU3RvcmFnZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBjb25zdCBrZXkgPSBzZXNzaW9uU3RvcmFnZS5rZXkoaSk7XG4gICAgICAgICAgICAgIGlmIChrZXkgJiYga2V5LnN0YXJ0c1dpdGgoJ2dhbWVfJykpIHtcbiAgICAgICAgICAgICAgICBhbGxLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShrZXkpIHx8ICd7fScpO1xuICAgICAgICAgICAgICAgICAgaWYgKGRhdGFbJ19fdHJlbmRndWVzc2VyLnN0YXRlJ10/LnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0ZvdW5kIGFsdGVybmF0aXZlIGFjdGl2ZSBnYW1lOicsIGtleSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBjdXJyZW50X2dhbWVfaWQgYW5kIHVzZSB0aGlzIGdhbWUgaW5zdGVhZFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbHRlcm5hdGl2ZUdhbWVJZCA9IGtleS5yZXBsYWNlKCdnYW1lXycsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnY3VycmVudF9nYW1lX2lkJywgYWx0ZXJuYXRpdmVHYW1lSWQpO1xuICAgICAgICAgICAgICAgICAgICBnYW1lSWQgPSBhbHRlcm5hdGl2ZUdhbWVJZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWx0RGF0YSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFsdERhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgYWx0ZXJuYXRpdmUgZ2FtZSBkYXRhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFrZUd1ZXNzKGFsdGVybmF0aXZlR2FtZUlkLCBwbGF5ZXJVaWQsIGlzSGlnaGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBwYXJzaW5nIGVycm9yc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBJZiB3ZSBnZXQgaGVyZSwgd2UgY291bGRuJ3QgZmluZCBhbnkgYWN0aXZlIGdhbWVzXG4gICAgICAgICAgICBpZiAoYWxsS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGb3VuZCBnYW1lIGtleXMgYnV0IG5vbmUgYXJlIGFjdGl2ZTonLCBhbGxLZXlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gYWN0aXZlIGdhbWUgZm91bmQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgZ2FtZURhdGEgPSBKU09OLnBhcnNlKHN0b3JlZEdhbWVEYXRhKTtcbiAgICAgICAgICBjb25zdCBnYW1lU3RhdGUgPSBnYW1lRGF0YVsnX190cmVuZGd1ZXNzZXIuc3RhdGUnXSBhcyBUcmVuZEd1ZXNzZXJHYW1lU3RhdGU7XG4gICAgICAgICAgY29uc3QgbW9ja1VzZXJVaWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdtb2NrX3VzZXJfdWlkJykgfHwgcGxheWVyVWlkIHx8ICdtb2NrX3VzZXInO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENyZWF0ZSBwbGF5ZXIgZGF0YSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgICAgICAgbGV0IHBsYXllciA9IGdhbWVEYXRhW21vY2tVc2VyVWlkXSBhcyBUcmVuZEd1ZXNzZXJQbGF5ZXI7XG4gICAgICAgICAgaWYgKCFwbGF5ZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQbGF5ZXIgZGF0YSBub3QgZm91bmQsIGNyZWF0aW5nIG5ldyBwbGF5ZXIgZGF0YScpO1xuICAgICAgICAgICAgcGxheWVyID0ge1xuICAgICAgICAgICAgICB1aWQ6IG1vY2tVc2VyVWlkLFxuICAgICAgICAgICAgICBuYW1lOiAnUGxheWVyJyxcbiAgICAgICAgICAgICAgc2NvcmU6IDBcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBnYW1lRGF0YVttb2NrVXNlclVpZF0gPSBwbGF5ZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmICghZ2FtZVN0YXRlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdObyBnYW1lIHN0YXRlIGZvdW5kIGluIGdhbWUgZGF0YTonLCBnYW1lRGF0YSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0dhbWUgc3RhdGUgbm90IGZvdW5kJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmICghZ2FtZVN0YXRlLnN0YXJ0ZWQgfHwgZ2FtZVN0YXRlLmZpbmlzaGVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdHYW1lIGlzIG5vdCBpbiBhY3RpdmUgc3RhdGU6JywgXG4gICAgICAgICAgICAgIGdhbWVTdGF0ZS5zdGFydGVkID8gJ3N0YXJ0ZWQnIDogJ25vdCBzdGFydGVkJywgXG4gICAgICAgICAgICAgIGdhbWVTdGF0ZS5maW5pc2hlZCA/ICdmaW5pc2hlZCcgOiAnbm90IGZpbmlzaGVkJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignR2FtZSBpcyBub3QgYWN0aXZlJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBndWVzcyBpcyBjb3JyZWN0XG4gICAgICAgICAgY29uc3QgaXNDb3JyZWN0ID0gaXNIaWdoZXIgXG4gICAgICAgICAgICA/IGdhbWVTdGF0ZS5oaWRkZW5UZXJtLnZvbHVtZSA+IGdhbWVTdGF0ZS5rbm93blRlcm0udm9sdW1lXG4gICAgICAgICAgICA6IGdhbWVTdGF0ZS5oaWRkZW5UZXJtLnZvbHVtZSA8IGdhbWVTdGF0ZS5rbm93blRlcm0udm9sdW1lO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChpc0NvcnJlY3QpIHtcbiAgICAgICAgICAgIC8vIENvcnJlY3QgZ3Vlc3MgLSBwcmVwYXJlIG5leHQgcm91bmRcbiAgICAgICAgICAgIGNvbnN0IG5leHRSb3VuZCA9IGdhbWVTdGF0ZS5jdXJyZW50Um91bmQgKyAxO1xuICAgICAgICAgICAgY29uc3QgbmV3UGxheWVyU2NvcmUgPSAocGxheWVyLnNjb3JlIHx8IDApICsgMTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIHBsYXllciBzY29yZVxuICAgICAgICAgICAgcGxheWVyLnNjb3JlID0gbmV3UGxheWVyU2NvcmU7XG4gICAgICAgICAgICBnYW1lRGF0YVttb2NrVXNlclVpZF0gPSBwbGF5ZXI7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChnYW1lU3RhdGUudGVybXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIG1vcmUgdGVybXMsIHNldCB1cCBuZXh0IHJvdW5kXG4gICAgICAgICAgICAgIGNvbnN0IG5leHRUZXJtID0gZ2FtZVN0YXRlLnRlcm1zWzBdO1xuICAgICAgICAgICAgICBjb25zdCByZW1haW5pbmdUZXJtcyA9IGdhbWVTdGF0ZS50ZXJtcy5zbGljZSgxKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFVwZGF0ZSBnYW1lIHN0YXRlXG4gICAgICAgICAgICAgIGdhbWVTdGF0ZS5jdXJyZW50Um91bmQgPSBuZXh0Um91bmQ7XG4gICAgICAgICAgICAgIGdhbWVTdGF0ZS5rbm93blRlcm0gPSBnYW1lU3RhdGUuaGlkZGVuVGVybTtcbiAgICAgICAgICAgICAgZ2FtZVN0YXRlLmhpZGRlblRlcm0gPSBuZXh0VGVybTtcbiAgICAgICAgICAgICAgZ2FtZVN0YXRlLnVzZWRUZXJtcyA9IFsuLi5nYW1lU3RhdGUudXNlZFRlcm1zLCBuZXh0VGVybS5pZF07XG4gICAgICAgICAgICAgIGdhbWVTdGF0ZS50ZXJtcyA9IHJlbWFpbmluZ1Rlcm1zO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gTm8gbW9yZSB0ZXJtcyAtIHBsYXllciB3aW5zXG4gICAgICAgICAgICAgIGdhbWVTdGF0ZS5maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgIGdhbWVTdGF0ZS53aW5uZXIgPSBtb2NrVXNlclVpZDtcbiAgICAgICAgICAgICAgZ2FtZURhdGEuc3RhdHVzID0gJ2ZpbmlzaGVkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2F2ZSB1cGRhdGVkIGdhbWUgZGF0YVxuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShgZ2FtZV8ke2dhbWVJZH1gLCBKU09OLnN0cmluZ2lmeShnYW1lRGF0YSkpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1VwZGF0ZWQgbW9jayBnYW1lIGRhdGEgYWZ0ZXIgY29ycmVjdCBndWVzczonLCBnYW1lRGF0YSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBXcm9uZyBndWVzcyAtIGdhbWUgb3ZlclxuICAgICAgICAgICAgZ2FtZVN0YXRlLmZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGdhbWVEYXRhLnN0YXR1cyA9ICdmaW5pc2hlZCc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNhdmUgdXBkYXRlZCBnYW1lIGRhdGFcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oYGdhbWVfJHtnYW1lSWR9YCwgSlNPTi5zdHJpbmdpZnkoZ2FtZURhdGEpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVcGRhdGVkIG1vY2sgZ2FtZSBkYXRhIGFmdGVyIHdyb25nIGd1ZXNzOicsIGdhbWVEYXRhKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgPiAwLjU7IC8vIEZhbGxiYWNrIGlmIG5vIHNlc3Npb24gc3RvcmFnZVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBSZWd1bGFyIEZpcmVzdG9yZSBpbXBsZW1lbnRhdGlvblxuICAgICAgY29uc3QgZ2FtZVJlZiA9IGRvYyhkYiwgJ2dhbWVzJywgZ2FtZUlkLnRvVXBwZXJDYXNlKCkpO1xuICAgICAgY29uc3QgZ2FtZURvYyA9IGF3YWl0IGdldERvYyhnYW1lUmVmKTtcbiAgICAgIFxuICAgICAgaWYgKCFnYW1lRG9jLmV4aXN0cygpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignR2FtZSBkb2VzIG5vdCBleGlzdCcpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBnYW1lRGF0YSA9IGdhbWVEb2MuZGF0YSgpO1xuICAgICAgY29uc3QgZ2FtZVN0YXRlID0gZ2FtZURhdGFbJ19fdHJlbmRndWVzc2VyLnN0YXRlJ10gYXMgVHJlbmRHdWVzc2VyR2FtZVN0YXRlO1xuICAgICAgY29uc3QgcGxheWVyID0gZ2FtZURhdGFbcGxheWVyVWlkXSBhcyBUcmVuZEd1ZXNzZXJQbGF5ZXI7XG4gICAgICBcbiAgICAgIGlmICghZ2FtZVN0YXRlIHx8ICFnYW1lU3RhdGUuc3RhcnRlZCB8fCBnYW1lU3RhdGUuZmluaXNoZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdHYW1lIGlzIG5vdCBhY3RpdmUnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGd1ZXNzIGlzIGNvcnJlY3RcbiAgICAgIGNvbnN0IGlzQ29ycmVjdCA9IGlzSGlnaGVyIFxuICAgICAgICA/IGdhbWVTdGF0ZS5oaWRkZW5UZXJtLnZvbHVtZSA+IGdhbWVTdGF0ZS5rbm93blRlcm0udm9sdW1lXG4gICAgICAgIDogZ2FtZVN0YXRlLmhpZGRlblRlcm0udm9sdW1lIDwgZ2FtZVN0YXRlLmtub3duVGVybS52b2x1bWU7XG4gICAgICBcbiAgICAgIGlmIChpc0NvcnJlY3QpIHtcbiAgICAgICAgLy8gQ29ycmVjdCBndWVzcyAtIHByZXBhcmUgbmV4dCByb3VuZFxuICAgICAgICBjb25zdCBuZXh0Um91bmQgPSBnYW1lU3RhdGUuY3VycmVudFJvdW5kICsgMTtcbiAgICAgICAgY29uc3QgbmV3UGxheWVyU2NvcmUgPSAocGxheWVyLnNjb3JlIHx8IDApICsgMTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBwbGF5ZXIgc2NvcmVcbiAgICAgICAgYXdhaXQgdXBkYXRlRG9jKGdhbWVSZWYsIHtcbiAgICAgICAgICBbYCR7cGxheWVyVWlkfS5zY29yZWBdOiBuZXdQbGF5ZXJTY29yZVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIElmIHdlIGhhdmUgbW9yZSB0ZXJtcywgc2V0IHVwIG5leHQgcm91bmRcbiAgICAgICAgaWYgKGdhbWVTdGF0ZS50ZXJtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgbmV4dFRlcm0gPSBnYW1lU3RhdGUudGVybXNbMF07XG4gICAgICAgICAgY29uc3QgcmVtYWluaW5nVGVybXMgPSBnYW1lU3RhdGUudGVybXMuc2xpY2UoMSk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgdXBkYXRlZFN0YXRlOiBUcmVuZEd1ZXNzZXJHYW1lU3RhdGUgPSB7XG4gICAgICAgICAgICAuLi5nYW1lU3RhdGUsXG4gICAgICAgICAgICBjdXJyZW50Um91bmQ6IG5leHRSb3VuZCxcbiAgICAgICAgICAgIGtub3duVGVybTogZ2FtZVN0YXRlLmhpZGRlblRlcm0sXG4gICAgICAgICAgICBoaWRkZW5UZXJtOiBuZXh0VGVybSxcbiAgICAgICAgICAgIHVzZWRUZXJtczogWy4uLmdhbWVTdGF0ZS51c2VkVGVybXMsIG5leHRUZXJtLmlkXSxcbiAgICAgICAgICAgIHRlcm1zOiByZW1haW5pbmdUZXJtc1xuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgYXdhaXQgdXBkYXRlRG9jKGdhbWVSZWYsIHtcbiAgICAgICAgICAgICdfX3RyZW5kZ3Vlc3Nlci5zdGF0ZSc6IHVwZGF0ZWRTdGF0ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE5vIG1vcmUgdGVybXMgLSBwbGF5ZXIgd2lucyBieSBjb21wbGV0aW5nIGFsbCB0ZXJtc1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTdGF0ZTogVHJlbmRHdWVzc2VyR2FtZVN0YXRlID0ge1xuICAgICAgICAgICAgLi4uZ2FtZVN0YXRlLFxuICAgICAgICAgICAgZmluaXNoZWQ6IHRydWUsXG4gICAgICAgICAgICB3aW5uZXI6IHBsYXllclVpZFxuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgYXdhaXQgdXBkYXRlRG9jKGdhbWVSZWYsIHtcbiAgICAgICAgICAgICdfX3RyZW5kZ3Vlc3Nlci5zdGF0ZSc6IHVwZGF0ZWRTdGF0ZSxcbiAgICAgICAgICAgIHN0YXR1czogJ2ZpbmlzaGVkJ1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFVwZGF0ZSBoaWdoIHNjb3JlIGlmIG5lZWRlZFxuICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlSGlnaFNjb3JlKHBsYXllclVpZCwgZ2FtZVN0YXRlLmNhdGVnb3J5LCBuZXdQbGF5ZXJTY29yZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSW5jb3JyZWN0IGd1ZXNzIC0gZ2FtZSBvdmVyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRTdGF0ZTogVHJlbmRHdWVzc2VyR2FtZVN0YXRlID0ge1xuICAgICAgICAgIC4uLmdhbWVTdGF0ZSxcbiAgICAgICAgICBmaW5pc2hlZDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgYXdhaXQgdXBkYXRlRG9jKGdhbWVSZWYsIHtcbiAgICAgICAgICAnX190cmVuZGd1ZXNzZXIuc3RhdGUnOiB1cGRhdGVkU3RhdGUsXG4gICAgICAgICAgc3RhdHVzOiAnZmluaXNoZWQnXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIGhpZ2ggc2NvcmUgaWYgbmVlZGVkXG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlSGlnaFNjb3JlKHBsYXllclVpZCwgZ2FtZVN0YXRlLmNhdGVnb3J5LCBwbGF5ZXIuc2NvcmUgfHwgMCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbWFraW5nIGd1ZXNzOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuICBcbiAgLy8gRW5kIHRoZSBnYW1lIGFuZCB1cGRhdGUgaGlnaCBzY29yZXNcbiAgc3RhdGljIGFzeW5jIGVuZEdhbWUoZ2FtZUlkOiBzdHJpbmcsIHBsYXllclVpZDogc3RyaW5nLCBmaW5hbFNjb3JlOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgLy8gSGFuZGxlIG1vY2sgbW9kZVxuICAgICAgaWYgKFVTRV9NT0NLX0RBVEEgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIG1vY2sgZGF0YSBmb3IgZW5kaW5nIGdhbWU6JywgZ2FtZUlkKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEdldCBjdXJyZW50IGdhbWUgSUQgZnJvbSBzZXNzaW9uIHN0b3JhZ2UgaWYgbmVlZGVkXG4gICAgICAgIGNvbnN0IGN1cnJlbnRHYW1lSWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjdXJyZW50X2dhbWVfaWQnKTtcbiAgICAgICAgaWYgKGN1cnJlbnRHYW1lSWQgJiYgY3VycmVudEdhbWVJZCAhPT0gZ2FtZUlkKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdXQVJOSU5HOiBnYW1lSWQgbWlzbWF0Y2ggaW4gZW5kR2FtZS4gVXNpbmcgY3VycmVudF9nYW1lX2lkOicsIGN1cnJlbnRHYW1lSWQpO1xuICAgICAgICAgIGdhbWVJZCA9IGN1cnJlbnRHYW1lSWQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEdldCBnYW1lIGRhdGEgZnJvbSBzZXNzaW9uIHN0b3JhZ2VcbiAgICAgICAgY29uc3Qgc3RvcmVkR2FtZURhdGEgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGBnYW1lXyR7Z2FtZUlkfWApO1xuICAgICAgICBpZiAoc3RvcmVkR2FtZURhdGEpIHtcbiAgICAgICAgICBjb25zdCBnYW1lRGF0YSA9IEpTT04ucGFyc2Uoc3RvcmVkR2FtZURhdGEpO1xuICAgICAgICAgIGNvbnN0IGdhbWVTdGF0ZSA9IGdhbWVEYXRhWydfX3RyZW5kZ3Vlc3Nlci5zdGF0ZSddIGFzIFRyZW5kR3Vlc3NlckdhbWVTdGF0ZTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZ2FtZVN0YXRlICYmIGdhbWVTdGF0ZS5zdGFydGVkKSB7XG4gICAgICAgICAgICAvLyBNYXJrIGdhbWUgYXMgZmluaXNoZWRcbiAgICAgICAgICAgIGdhbWVTdGF0ZS5maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICBnYW1lRGF0YS5zdGF0dXMgPSAnZmluaXNoZWQnO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTYXZlIHVwZGF0ZWQgZ2FtZSBkYXRhXG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGBnYW1lXyR7Z2FtZUlkfWAsIEpTT04uc3RyaW5naWZ5KGdhbWVEYXRhKSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVXBkYXRlZCBtb2NrIGdhbWUgZGF0YSBhcyBmaW5pc2hlZDonLCBnYW1lRGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgXG4gICAgICBjb25zdCBnYW1lUmVmID0gZG9jKGRiLCAnZ2FtZXMnLCBnYW1lSWQudG9VcHBlckNhc2UoKSk7XG4gICAgICBjb25zdCBnYW1lRG9jID0gYXdhaXQgZ2V0RG9jKGdhbWVSZWYpO1xuICAgICAgXG4gICAgICBpZiAoIWdhbWVEb2MuZXhpc3RzKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdHYW1lIGRvZXMgbm90IGV4aXN0Jyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGdhbWVEYXRhID0gZ2FtZURvYy5kYXRhKCk7XG4gICAgICBjb25zdCBnYW1lU3RhdGUgPSBnYW1lRGF0YVsnX190cmVuZGd1ZXNzZXIuc3RhdGUnXSBhcyBUcmVuZEd1ZXNzZXJHYW1lU3RhdGU7XG4gICAgICBcbiAgICAgIGlmICghZ2FtZVN0YXRlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gZ2FtZSBzdGF0ZSBmb3VuZCcpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBPbmx5IHVwZGF0ZSBpZiBnYW1lIHdhcyBhY3R1YWxseSBzdGFydGVkXG4gICAgICBpZiAoZ2FtZVN0YXRlLnN0YXJ0ZWQpIHtcbiAgICAgICAgLy8gTWFyayBnYW1lIGFzIGZpbmlzaGVkXG4gICAgICAgIGF3YWl0IHVwZGF0ZURvYyhnYW1lUmVmLCB7XG4gICAgICAgICAgc3RhdHVzOiAnZmluaXNoZWQnLFxuICAgICAgICAgICdfX3RyZW5kZ3Vlc3Nlci5zdGF0ZSc6IHtcbiAgICAgICAgICAgIC4uLmdhbWVTdGF0ZSxcbiAgICAgICAgICAgIGZpbmlzaGVkOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBoaWdoIHNjb3JlIGlmIG5lZWRlZFxuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZUhpZ2hTY29yZShwbGF5ZXJVaWQsIGdhbWVTdGF0ZS5jYXRlZ29yeSwgZmluYWxTY29yZSk7XG4gICAgICB9XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZW5kaW5nIGdhbWU6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG4gIFxuICAvLyBDcmVhdGUgYSBuZXcgZ2FtZSBzZXNzaW9uXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVHYW1lKGNyZWF0ZWRCeTogc3RyaW5nLCBwbGF5ZXJOYW1lOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBHZW5lcmF0ZSBhIHNob3J0IDYtY2hhcmFjdGVyIGdhbWUgSUQgKHVwcGVyY2FzZSlcbiAgICAgIGNvbnN0IGdhbWVJZCA9IHRoaXMuZ2VuZXJhdGVHYW1lSWQoKTtcbiAgICAgIFxuICAgICAgaWYgKFVTRV9NT0NLX0RBVEEpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIG1vY2sgZGF0YSBmb3IgZ2FtZSBjcmVhdGlvbicpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ3JlYXRlIGFuIGVtcHR5IGluaXRpYWwgZ2FtZSBzdGF0ZSBpbiBzZXNzaW9uU3RvcmFnZSBmb3IgaW1tZWRpYXRlIGFjY2Vzc1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBjb25zdCBtb2NrVXNlclVpZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ21vY2tfdXNlcl91aWQnKSB8fCBjcmVhdGVkQnkgfHwgJ21vY2tfdXNlcic7XG4gICAgICAgICAgY29uc3QgaW5pdGlhbEdhbWVEYXRhID0ge1xuICAgICAgICAgICAgaWQ6IGdhbWVJZCxcbiAgICAgICAgICAgIHN0YXR1czogJ3dhaXRpbmcnLFxuICAgICAgICAgICAgY3JlYXRlZEJ5OiBtb2NrVXNlclVpZCxcbiAgICAgICAgICAgIGdhbWVUeXBlOiAndHJlbmRndWVzc2VyJyxcbiAgICAgICAgICAgIFttb2NrVXNlclVpZF06IHtcbiAgICAgICAgICAgICAgdWlkOiBtb2NrVXNlclVpZCxcbiAgICAgICAgICAgICAgbmFtZTogcGxheWVyTmFtZSB8fCAnUGxheWVyJyxcbiAgICAgICAgICAgICAgc2NvcmU6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oYGdhbWVfJHtnYW1lSWR9YCwgSlNPTi5zdHJpbmdpZnkoaW5pdGlhbEdhbWVEYXRhKSk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0NyZWF0ZWQgaW5pdGlhbCBtb2NrIGdhbWUgZGF0YTonLCBpbml0aWFsR2FtZURhdGEpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIE1ha2Ugc3VyZSBjdXJyZW50X2dhbWVfaWQgaXMgc2V0IHRvIHRoaXMgbmV3IGdhbWVcbiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdjdXJyZW50X2dhbWVfaWQnLCBnYW1lSWQpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBBcnRpZmljaWFsIGRlbGF5IHRvIHNpbXVsYXRlIG5ldHdvcmsgcmVxdWVzdFxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoZ2FtZUlkKTtcbiAgICAgICAgICB9LCAzMDApO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZ2FtZVJlZiA9IGRvYyhkYiwgJ2dhbWVzJywgZ2FtZUlkKTtcbiAgICAgIFxuICAgICAgLy8gSW5pdGlhbGl6ZSBwbGF5ZXIgZGF0YVxuICAgICAgY29uc3QgcGxheWVyRGF0YTogVHJlbmRHdWVzc2VyUGxheWVyID0ge1xuICAgICAgICB1aWQ6IGNyZWF0ZWRCeSxcbiAgICAgICAgbmFtZTogcGxheWVyTmFtZSB8fCAnUGxheWVyJyxcbiAgICAgICAgc2NvcmU6IDBcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIEluaXRpYWwgZ2FtZSBkYXRhXG4gICAgICBjb25zdCBnYW1lRGF0YSA9IHtcbiAgICAgICAgaWQ6IGdhbWVJZCxcbiAgICAgICAgY3JlYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcbiAgICAgICAgY3JlYXRlZEJ5LFxuICAgICAgICBnYW1lVHlwZTogJ3RyZW5kZ3Vlc3NlcicsXG4gICAgICAgIHN0YXR1czogJ3dhaXRpbmcnLFxuICAgICAgICBbY3JlYXRlZEJ5XTogcGxheWVyRGF0YVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgYXdhaXQgc2V0RG9jKGdhbWVSZWYsIGdhbWVEYXRhKTtcbiAgICAgIHJldHVybiBnYW1lSWQ7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgZ2FtZTonLCBlcnJvcik7XG4gICAgICBcbiAgICAgIGlmIChVU0VfTU9DS19EQVRBKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdGYWxsaW5nIGJhY2sgdG8gbW9jayBkYXRhIGR1ZSB0byBlcnJvcicpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZUdhbWVJZCgpO1xuICAgICAgfVxuICAgICAgXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbiAgXG4gIC8vIEZldGNoIGxlYWRlcmJvYXJkIGZvciBhIGNhdGVnb3J5XG4gIHN0YXRpYyBhc3luYyBnZXRMZWFkZXJib2FyZChjYXRlZ29yeTogU2VhcmNoQ2F0ZWdvcnkpOiBQcm9taXNlPFRyZW5kR3Vlc3NlclBsYXllcltdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChVU0VfTU9DS19EQVRBKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBtb2NrIGRhdGEgZm9yIGxlYWRlcmJvYXJkJyk7XG4gICAgICAgIC8vIFNvcnQgYW5kIGZpbHRlciB0aGUgbW9jayBsZWFkZXJib2FyZCBiYXNlZCBvbiB0aGUgcmVxdWVzdGVkIGNhdGVnb3J5XG4gICAgICAgIHJldHVybiBzYW1wbGVMZWFkZXJib2FyZFxuICAgICAgICAgIC5maWx0ZXIocGxheWVyID0+IHBsYXllci5oaWdoU2NvcmVzICYmIHBsYXllci5oaWdoU2NvcmVzW2NhdGVnb3J5XSlcbiAgICAgICAgICAuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2NvcmVBID0gYS5oaWdoU2NvcmVzPy5bY2F0ZWdvcnldIHx8IDA7XG4gICAgICAgICAgICBjb25zdCBzY29yZUIgPSBiLmhpZ2hTY29yZXM/LltjYXRlZ29yeV0gfHwgMDtcbiAgICAgICAgICAgIHJldHVybiBzY29yZUIgLSBzY29yZUE7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuc2xpY2UoMCwgMTApO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBsZWFkZXJib2FyZFJlZiA9IGNvbGxlY3Rpb24oZGIsICdsZWFkZXJib2FyZCcpO1xuICAgICAgY29uc3QgcSA9IHF1ZXJ5KFxuICAgICAgICBsZWFkZXJib2FyZFJlZixcbiAgICAgICAgd2hlcmUoJ2NhdGVnb3J5JywgJz09JywgY2F0ZWdvcnkpLFxuICAgICAgICBvcmRlckJ5KCdzY29yZScsICdkZXNjJyksXG4gICAgICAgIGxpbWl0KDEwKVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29uc3QgcXVlcnlTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XG4gICAgICBjb25zdCBsZWFkZXJib2FyZDogVHJlbmRHdWVzc2VyUGxheWVyW10gPSBbXTtcbiAgICAgIFxuICAgICAgcXVlcnlTbmFwc2hvdC5mb3JFYWNoKChkb2MpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XG4gICAgICAgIGxlYWRlcmJvYXJkLnB1c2goe1xuICAgICAgICAgIHVpZDogZGF0YS51aWQsXG4gICAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICAgIHNjb3JlOiBkYXRhLnNjb3JlLFxuICAgICAgICAgIGhpZ2hTY29yZXM6IGRhdGEuaGlnaFNjb3Jlc1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4gbGVhZGVyYm9hcmQ7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgbGVhZGVyYm9hcmQ6JywgZXJyb3IpO1xuICAgICAgXG4gICAgICBpZiAoVVNFX01PQ0tfREFUQSkge1xuICAgICAgICBjb25zb2xlLmxvZygnRmFsbGluZyBiYWNrIHRvIG1vY2sgZGF0YSBkdWUgdG8gZXJyb3InKTtcbiAgICAgICAgcmV0dXJuIHNhbXBsZUxlYWRlcmJvYXJkLnNsaWNlKDAsIDEwKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG4gIFxuICAvLyBIZWxwZXIgbWV0aG9kc1xuICBwcml2YXRlIHN0YXRpYyBhc3luYyB1cGRhdGVIaWdoU2NvcmUoXG4gICAgcGxheWVyVWlkOiBzdHJpbmcsIFxuICAgIGNhdGVnb3J5OiBTZWFyY2hDYXRlZ29yeSwgXG4gICAgc2NvcmU6IG51bWJlclxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgLy8gSW4gbW9jayBtb2RlLCBzdG9yZSBoaWdoIHNjb3JlIGluIHNlc3Npb25TdG9yYWdlXG4gICAgICBpZiAoVVNFX01PQ0tfREFUQSAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBoaWdoU2NvcmVzRGF0YSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2hpZ2hTY29yZXMnKTtcbiAgICAgICAgbGV0IGhpZ2hTY29yZXMgPSBoaWdoU2NvcmVzRGF0YSA/IEpTT04ucGFyc2UoaGlnaFNjb3Jlc0RhdGEpIDoge307XG4gICAgICAgIFxuICAgICAgICAvLyBJbml0aWFsaXplIHVzZXIncyBoaWdoIHNjb3JlcyBpZiB0aGV5IGRvbid0IGV4aXN0XG4gICAgICAgIGlmICghaGlnaFNjb3Jlc1twbGF5ZXJVaWRdKSB7XG4gICAgICAgICAgaGlnaFNjb3Jlc1twbGF5ZXJVaWRdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBoaWdoIHNjb3JlIGlmIHRoZSBuZXcgc2NvcmUgaXMgaGlnaGVyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRIaWdoU2NvcmUgPSBoaWdoU2NvcmVzW3BsYXllclVpZF1bY2F0ZWdvcnldIHx8IDA7XG4gICAgICAgIGlmIChzY29yZSA+IGN1cnJlbnRIaWdoU2NvcmUpIHtcbiAgICAgICAgICBoaWdoU2NvcmVzW3BsYXllclVpZF1bY2F0ZWdvcnldID0gc2NvcmU7XG4gICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnaGlnaFNjb3JlcycsIEpTT04uc3RyaW5naWZ5KGhpZ2hTY29yZXMpKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgVXBkYXRlZCBoaWdoIHNjb3JlIGZvciAke3BsYXllclVpZH0gaW4gY2F0ZWdvcnkgJHtjYXRlZ29yeX06ICR7c2NvcmV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICBcbiAgICAgIGNvbnN0IHBsYXllclJlZiA9IGRvYyhkYiwgJ3BsYXllcnMnLCBwbGF5ZXJVaWQpO1xuICAgICAgY29uc3QgcGxheWVyRG9jID0gYXdhaXQgZ2V0RG9jKHBsYXllclJlZik7XG4gICAgICBcbiAgICAgIGlmIChwbGF5ZXJEb2MuZXhpc3RzKCkpIHtcbiAgICAgICAgY29uc3QgcGxheWVyRGF0YSA9IHBsYXllckRvYy5kYXRhKCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRIaWdoU2NvcmUgPSBwbGF5ZXJEYXRhLmhpZ2hTY29yZXM/LltjYXRlZ29yeV0gfHwgMDtcbiAgICAgICAgXG4gICAgICAgIGlmIChzY29yZSA+IGN1cnJlbnRIaWdoU2NvcmUpIHtcbiAgICAgICAgICAvLyBVcGRhdGUgcGxheWVyJ3MgaGlnaCBzY29yZSBmb3IgdGhpcyBjYXRlZ29yeVxuICAgICAgICAgIGF3YWl0IHVwZGF0ZURvYyhwbGF5ZXJSZWYsIHtcbiAgICAgICAgICAgIFtgaGlnaFNjb3Jlcy4ke2NhdGVnb3J5fWBdOiBzY29yZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFsc28gdXBkYXRlIGxlYWRlcmJvYXJkIGlmIHNjb3JlIGlzIHNpZ25pZmljYW50XG4gICAgICAgICAgaWYgKHNjb3JlID4gNSkge1xuICAgICAgICAgICAgY29uc3QgbGVhZGVyYm9hcmRSZWYgPSBkb2MoZGIsICdsZWFkZXJib2FyZCcsIGAke2NhdGVnb3J5fV8ke3BsYXllclVpZH1gKTtcbiAgICAgICAgICAgIGF3YWl0IHNldERvYyhsZWFkZXJib2FyZFJlZiwge1xuICAgICAgICAgICAgICB1aWQ6IHBsYXllclVpZCxcbiAgICAgICAgICAgICAgbmFtZTogcGxheWVyRGF0YS5uYW1lIHx8ICdVbmtub3duIFBsYXllcicsXG4gICAgICAgICAgICAgIHNjb3JlLFxuICAgICAgICAgICAgICBjYXRlZ29yeSxcbiAgICAgICAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKVxuICAgICAgICAgICAgfSwgeyBtZXJnZTogdHJ1ZSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBoaWdoIHNjb3JlOicsIGVycm9yKTtcbiAgICAgIC8vIERvbid0IHRocm93LCBqdXN0IGxvZyAtIHRoaXMgaXMgYSBub24tY3JpdGljYWwgb3BlcmF0aW9uXG4gICAgfVxuICB9XG4gIFxuICBwcml2YXRlIHN0YXRpYyBhc3luYyBmZXRjaFRlcm1zQnlDYXRlZ29yeShjYXRlZ29yeTogU2VhcmNoQ2F0ZWdvcnkpOiBQcm9taXNlPFNlYXJjaFRlcm1bXT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoVVNFX01PQ0tfREFUQSkge1xuICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgbW9jayBkYXRhIGZvciBzZWFyY2ggdGVybXMnKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChjYXRlZ29yeSA9PT0gJ2V2ZXJ5dGhpbmcnKSB7XG4gICAgICAgICAgLy8gUmV0dXJuIGFsbCBzYW1wbGUgdGVybXNcbiAgICAgICAgICByZXR1cm4gc2FtcGxlU2VhcmNoVGVybXM7XG4gICAgICAgIH0gZWxzZSBpZiAoY2F0ZWdvcnkgPT09ICdsYXRlc3QnKSB7XG4gICAgICAgICAgLy8gUmV0dXJuIHRlcm1zIHNvcnRlZCBieSB0aW1lc3RhbXBcbiAgICAgICAgICByZXR1cm4gWy4uLnNhbXBsZVNlYXJjaFRlcm1zXS5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEZpbHRlciBieSBjYXRlZ29yeVxuICAgICAgICAgIGNvbnN0IGZpbHRlcmVkVGVybXMgPSBzYW1wbGVTZWFyY2hUZXJtcy5maWx0ZXIodGVybSA9PiB0ZXJtLmNhdGVnb3J5ID09PSBjYXRlZ29yeSk7XG4gICAgICAgICAgcmV0dXJuIGZpbHRlcmVkVGVybXMubGVuZ3RoID4gMCA/IGZpbHRlcmVkVGVybXMgOiBzYW1wbGVTZWFyY2hUZXJtcztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCB0ZXJtc1JlZiA9IGNvbGxlY3Rpb24oZGIsICdzZWFyY2hUZXJtcycpO1xuICAgICAgbGV0IHE7XG4gICAgICBcbiAgICAgIGlmIChjYXRlZ29yeSA9PT0gJ2V2ZXJ5dGhpbmcnKSB7XG4gICAgICAgIC8vIEZvciBcImV2ZXJ5dGhpbmdcIiBjYXRlZ29yeSwgZ2V0IGEgbWl4IG9mIGFsbCBjYXRlZ29yaWVzXG4gICAgICAgIHEgPSBxdWVyeSh0ZXJtc1JlZiwgbGltaXQoNTApKTtcbiAgICAgIH0gZWxzZSBpZiAoY2F0ZWdvcnkgPT09ICdsYXRlc3QnKSB7XG4gICAgICAgIC8vIEZvciBcImxhdGVzdFwiLCBnZXQgdGhlIG1vc3QgcmVjZW50bHkgYWRkZWQgdGVybXNcbiAgICAgICAgcSA9IHF1ZXJ5KHRlcm1zUmVmLCBvcmRlckJ5KCd0aW1lc3RhbXAnLCAnZGVzYycpLCBsaW1pdCg1MCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIHNwZWNpZmljIGNhdGVnb3JpZXNcbiAgICAgICAgcSA9IHF1ZXJ5KHRlcm1zUmVmLCB3aGVyZSgnY2F0ZWdvcnknLCAnPT0nLCBjYXRlZ29yeSksIGxpbWl0KDUwKSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHF1ZXJ5U25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xuICAgICAgY29uc3QgdGVybXM6IFNlYXJjaFRlcm1bXSA9IFtdO1xuICAgICAgXG4gICAgICBxdWVyeVNuYXBzaG90LmZvckVhY2goKGRvYykgPT4ge1xuICAgICAgICBjb25zdCBkYXRhID0gZG9jLmRhdGEoKSBhcyBTZWFyY2hUZXJtO1xuICAgICAgICB0ZXJtcy5wdXNoKHtcbiAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgIGlkOiBkb2MuaWRcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHRlcm1zO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHRlcm1zOicsIGVycm9yKTtcbiAgICAgIFxuICAgICAgaWYgKFVTRV9NT0NLX0RBVEEpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0ZhbGxpbmcgYmFjayB0byBtb2NrIGRhdGEgZHVlIHRvIGVycm9yJyk7XG4gICAgICAgIHJldHVybiBzYW1wbGVTZWFyY2hUZXJtcztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG4gIFxuICBwcml2YXRlIHN0YXRpYyBhc3luYyBmZXRjaEN1c3RvbVRlcm1XaXRoUmVsYXRlZChjdXN0b21UZXJtOiBzdHJpbmcpOiBQcm9taXNlPFNlYXJjaFRlcm1bXT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBUaGlzIHdvdWxkIHR5cGljYWxseSBjYWxsIGEgRmlyZWJhc2UgRnVuY3Rpb24gdG8gZ2V0IHRoZSBjdXN0b20gdGVybSBkYXRhXG4gICAgICAvLyBGb3Igbm93LCB3ZSdsbCBzaW11bGF0ZSBpdCB3aXRoIGEgcGxhY2Vob2xkZXJcbiAgICAgIFxuICAgICAgLy8gRmlyc3QgdGVybSB3aWxsIGJlIHRoZSBjdXN0b20gb25lXG4gICAgICBjb25zdCBjdXN0b21TZWFyY2hUZXJtOiBTZWFyY2hUZXJtID0ge1xuICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgIHRlcm06IGN1c3RvbVRlcm0sXG4gICAgICAgIHZvbHVtZTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKSArIDEsIC8vIFBsYWNlaG9sZGVyIHZvbHVtZVxuICAgICAgICBjYXRlZ29yeTogJ2N1c3RvbScsXG4gICAgICAgIGltYWdlVXJsOiBgaHR0cHM6Ly9zb3VyY2UudW5zcGxhc2guY29tL2ZlYXR1cmVkLz8ke2VuY29kZVVSSUNvbXBvbmVudChjdXN0b21UZXJtKX1gLFxuICAgICAgICB0aW1lc3RhbXA6IFRpbWVzdGFtcC5ub3coKVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gRm9yIG1vY2sgbW9kZSwganVzdCBnZXQgc29tZSByYW5kb20gdGVybXMgZnJvbSB0aGUgc2FtcGxlIGRhdGFcbiAgICAgIGlmIChVU0VfTU9DS19EQVRBKSB7XG4gICAgICAgIGNvbnN0IHJhbmRvbVRlcm1zID0gWy4uLnNhbXBsZVNlYXJjaFRlcm1zXVxuICAgICAgICAgIC5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpXG4gICAgICAgICAgLnNsaWNlKDAsIDEwKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBbY3VzdG9tU2VhcmNoVGVybSwgLi4ucmFuZG9tVGVybXNdO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBUaGVuIGdldCBzb21lIHJlbGF0ZWQgdGVybXMgZnJvbSB0aGUgZGF0YWJhc2UgKHJhbmRvbSBmb3Igbm93KVxuICAgICAgY29uc3QgdGVybXNSZWYgPSBjb2xsZWN0aW9uKGRiLCAnc2VhcmNoVGVybXMnKTtcbiAgICAgIGNvbnN0IHEgPSBxdWVyeSh0ZXJtc1JlZiwgbGltaXQoMjApKTtcbiAgICAgIGNvbnN0IHF1ZXJ5U25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xuICAgICAgXG4gICAgICBjb25zdCB0ZXJtczogU2VhcmNoVGVybVtdID0gW2N1c3RvbVNlYXJjaFRlcm1dO1xuICAgICAgXG4gICAgICBxdWVyeVNuYXBzaG90LmZvckVhY2goKGRvYykgPT4ge1xuICAgICAgICBjb25zdCBkYXRhID0gZG9jLmRhdGEoKSBhcyBTZWFyY2hUZXJtO1xuICAgICAgICB0ZXJtcy5wdXNoKHtcbiAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgIGlkOiBkb2MuaWRcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHRlcm1zO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGN1c3RvbSB0ZXJtOicsIGVycm9yKTtcbiAgICAgIFxuICAgICAgLy8gRmFsbGJhY2sgdG8gbW9jayBkYXRhIGZvciBjdXN0b20gdGVybVxuICAgICAgaWYgKFVTRV9NT0NLX0RBVEEpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0ZhbGxpbmcgYmFjayB0byBtb2NrIGRhdGEgZm9yIGN1c3RvbSB0ZXJtJyk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBjdXN0b21TZWFyY2hUZXJtOiBTZWFyY2hUZXJtID0ge1xuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICB0ZXJtOiBjdXN0b21UZXJtLFxuICAgICAgICAgIHZvbHVtZTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKSArIDEsXG4gICAgICAgICAgY2F0ZWdvcnk6ICdjdXN0b20nLFxuICAgICAgICAgIGltYWdlVXJsOiBgaHR0cHM6Ly9zb3VyY2UudW5zcGxhc2guY29tL2ZlYXR1cmVkLz8ke2VuY29kZVVSSUNvbXBvbmVudChjdXN0b21UZXJtKX1gLFxuICAgICAgICAgIHRpbWVzdGFtcDogVGltZXN0YW1wLm5vdygpXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIGN1c3RvbVNlYXJjaFRlcm0sXG4gICAgICAgICAgLi4uc2FtcGxlU2VhcmNoVGVybXMuc2xpY2UoMCwgMTApXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuICBcbiAgcHJpdmF0ZSBzdGF0aWMgc2h1ZmZsZVRlcm1zKHRlcm1zOiBTZWFyY2hUZXJtW10pOiBTZWFyY2hUZXJtW10ge1xuICAgIGNvbnN0IHNodWZmbGVkID0gWy4uLnRlcm1zXTtcbiAgICBmb3IgKGxldCBpID0gc2h1ZmZsZWQubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xuICAgICAgY29uc3QgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpO1xuICAgICAgW3NodWZmbGVkW2ldLCBzaHVmZmxlZFtqXV0gPSBbc2h1ZmZsZWRbal0sIHNodWZmbGVkW2ldXTtcbiAgICB9XG4gICAgcmV0dXJuIHNodWZmbGVkO1xuICB9XG4gIFxuICBwcml2YXRlIHN0YXRpYyBnZW5lcmF0ZUdhbWVJZCgpOiBzdHJpbmcge1xuICAgIC8vIEdlbmVyYXRlIGEgNi1jaGFyYWN0ZXIgYWxwaGFudW1lcmljIGNvZGUgKHVwcGVyY2FzZSlcbiAgICBjb25zdCBjaGFycyA9ICdBQkNERUZHSEpLTE1OUFFSU1RVVldYWVoyMzQ1Njc4OSc7IC8vIFJlbW92ZWQgY29uZnVzYWJsZSBjaGFyYWN0ZXJzXG4gICAgbGV0IHJlc3VsdCA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKSB7XG4gICAgICByZXN1bHQgKz0gY2hhcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJzLmxlbmd0aCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59Il0sIm5hbWVzIjpbImRvYyIsInNldERvYyIsInVwZGF0ZURvYyIsImdldERvYyIsImNvbGxlY3Rpb24iLCJxdWVyeSIsIndoZXJlIiwiZ2V0RG9jcyIsIlRpbWVzdGFtcCIsInNlcnZlclRpbWVzdGFtcCIsImxpbWl0Iiwib3JkZXJCeSIsImRiIiwidjQiLCJ1dWlkdjQiLCJzYW1wbGVTZWFyY2hUZXJtcyIsInNhbXBsZUxlYWRlcmJvYXJkIiwiVVNFX01PQ0tfREFUQSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19VU0VfTU9DS19EQVRBIiwiVHJlbmRHdWVzc2VyU2VydmljZSIsInN0YXJ0R2FtZSIsImdhbWVJZCIsImNhdGVnb3J5IiwiY3VzdG9tVGVybSIsImNvbnNvbGUiLCJsb2ciLCJnYW1lUmVmIiwidG9VcHBlckNhc2UiLCJnYW1lRG9jIiwiZXhpc3RzIiwiRXJyb3IiLCJ0ZXJtcyIsImZldGNoQ3VzdG9tVGVybVdpdGhSZWxhdGVkIiwiZmV0Y2hUZXJtc0J5Q2F0ZWdvcnkiLCJsZW5ndGgiLCJlcnJvciIsInNodWZmbGVkVGVybXMiLCJzaHVmZmxlVGVybXMiLCJnYW1lU3RhdGUiLCJjdXJyZW50Um91bmQiLCJrbm93blRlcm0iLCJoaWRkZW5UZXJtIiwic3RhcnRlZCIsImZpbmlzaGVkIiwidXNlZFRlcm1zIiwiaWQiLCJzbGljZSIsInVuZGVmaW5lZCIsInN0YXR1cyIsIm1vY2tVc2VyVWlkIiwic2Vzc2lvblN0b3JhZ2UiLCJnZXRJdGVtIiwiY3VycmVudEdhbWVJZCIsIndhcm4iLCJzZXRJdGVtIiwiZXhpc3RpbmdEYXRhIiwibW9ja0dhbWVEYXRhIiwiSlNPTiIsInBhcnNlIiwiY3JlYXRlZEJ5IiwiZ2FtZVR5cGUiLCJ1aWQiLCJuYW1lIiwic2NvcmUiLCJzdHJpbmdpZnkiLCJnYW1lS2V5cyIsImkiLCJrZXkiLCJzdGFydHNXaXRoIiwiZGF0YSIsImUiLCJwdXNoIiwiZmFsbGJhY2tTdGF0ZSIsIm1ha2VHdWVzcyIsInBsYXllclVpZCIsImlzSGlnaGVyIiwic3RvcmVkR2FtZURhdGEiLCJhbGxLZXlzIiwiYWx0ZXJuYXRpdmVHYW1lSWQiLCJyZXBsYWNlIiwiYWx0RGF0YSIsImdhbWVEYXRhIiwicGxheWVyIiwiaXNDb3JyZWN0Iiwidm9sdW1lIiwibmV4dFJvdW5kIiwibmV3UGxheWVyU2NvcmUiLCJuZXh0VGVybSIsInJlbWFpbmluZ1Rlcm1zIiwid2lubmVyIiwiTWF0aCIsInJhbmRvbSIsInVwZGF0ZWRTdGF0ZSIsInVwZGF0ZUhpZ2hTY29yZSIsImVuZEdhbWUiLCJmaW5hbFNjb3JlIiwiY3JlYXRlR2FtZSIsInBsYXllck5hbWUiLCJnZW5lcmF0ZUdhbWVJZCIsImluaXRpYWxHYW1lRGF0YSIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInBsYXllckRhdGEiLCJjcmVhdGVkQXQiLCJnZXRMZWFkZXJib2FyZCIsImZpbHRlciIsImhpZ2hTY29yZXMiLCJzb3J0IiwiYSIsImIiLCJzY29yZUEiLCJzY29yZUIiLCJsZWFkZXJib2FyZFJlZiIsInEiLCJxdWVyeVNuYXBzaG90IiwibGVhZGVyYm9hcmQiLCJmb3JFYWNoIiwiaGlnaFNjb3Jlc0RhdGEiLCJjdXJyZW50SGlnaFNjb3JlIiwicGxheWVyUmVmIiwicGxheWVyRG9jIiwidXBkYXRlZEF0IiwibWVyZ2UiLCJmaWx0ZXJlZFRlcm1zIiwidGVybSIsInRlcm1zUmVmIiwiY3VzdG9tU2VhcmNoVGVybSIsImZsb29yIiwiaW1hZ2VVcmwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJ0aW1lc3RhbXAiLCJub3ciLCJyYW5kb21UZXJtcyIsInNodWZmbGVkIiwiaiIsImNoYXJzIiwicmVzdWx0IiwiY2hhckF0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/lib/firebase/trendGuesserService.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./src/pages/_app.tsx":
/*!****************************!*\
  !*** ./src/pages/_app.tsx ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/globals.css */ \"(pages-dir-node)/./src/styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/head */ \"next/head\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/router */ \"(pages-dir-node)/./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _contexts_ConsentContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../contexts/ConsentContext */ \"(pages-dir-node)/./src/contexts/ConsentContext.tsx\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../contexts/AuthContext */ \"(pages-dir-node)/./src/contexts/AuthContext.tsx\");\n/* harmony import */ var _contexts_GameContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../contexts/GameContext */ \"(pages-dir-node)/./src/contexts/GameContext.tsx\");\n/* harmony import */ var _lib_firebase_firebase__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/firebase/firebase */ \"(pages-dir-node)/./src/lib/firebase/firebase.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__, _contexts_GameContext__WEBPACK_IMPORTED_MODULE_7__, _lib_firebase_firebase__WEBPACK_IMPORTED_MODULE_8__]);\n([_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__, _contexts_GameContext__WEBPACK_IMPORTED_MODULE_7__, _lib_firebase_firebase__WEBPACK_IMPORTED_MODULE_8__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\nfunction MyApp({ Component, pageProps }) {\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_4__.useRouter)();\n    const canonicalUrl = `https://trendguesser.com${router.asPath === \"/\" ? \"\" : router.asPath}`;\n    // Initialize Firebase immediately, not in useEffect\n    // This ensures Firebase is available before any components mount\n    if (false) {}\n    // Load fonts\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)({\n        \"MyApp.useEffect\": ()=>{\n            // Load Oswald font for game-style text\n            const linkOswald = document.createElement('link');\n            linkOswald.rel = 'stylesheet';\n            linkOswald.href = 'https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;700&display=swap';\n            document.head.appendChild(linkOswald);\n            // Load Press Start 2P for title/display text\n            const linkPressStart = document.createElement('link');\n            linkPressStart.rel = 'stylesheet';\n            linkPressStart.href = 'https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap';\n            document.head.appendChild(linkPressStart);\n            return ({\n                \"MyApp.useEffect\": ()=>{\n                    document.head.removeChild(linkOswald);\n                    document.head.removeChild(linkPressStart);\n                }\n            })[\"MyApp.useEffect\"];\n        }\n    }[\"MyApp.useEffect\"], []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_contexts_ConsentContext__WEBPACK_IMPORTED_MODULE_5__.ConsentProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__.AuthProvider, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_contexts_GameContext__WEBPACK_IMPORTED_MODULE_7__.GameProvider, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_2___default()), {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                                children: \"TrendGuesser - the higher or lower game\"\n                            }, void 0, false, {\n                                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                                lineNumber: 48,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                                name: \"description\",\n                                content: \"TrendGuesser - the higher or lower game\"\n                            }, void 0, false, {\n                                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                                lineNumber: 49,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                                name: \"keywords\",\n                                content: \"trendguesser, higher or lower, game, single player, trending, search, game\"\n                            }, void 0, false, {\n                                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                                lineNumber: 53,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                                name: \"viewport\",\n                                content: \"width=device-width, initial-scale=1, maximum-scale=5\"\n                            }, void 0, false, {\n                                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                                lineNumber: 57,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                                rel: \"canonical\",\n                                href: canonicalUrl\n                            }, void 0, false, {\n                                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                                lineNumber: 63,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                                property: \"og:type\",\n                                content: \"website\"\n                            }, void 0, false, {\n                                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                                lineNumber: 66,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                                property: \"og:url\",\n                                content: canonicalUrl\n                            }, void 0, false, {\n                                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                                lineNumber: 67,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                                property: \"og:title\",\n                                content: \"TrendGuesser - the higher or lower game\"\n                            }, void 0, false, {\n                                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                                lineNumber: 68,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                                property: \"og:description\",\n                                content: \"TrendGuesser - the higher or lower game\"\n                            }, void 0, false, {\n                                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                                lineNumber: 72,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                                property: \"og:image\",\n                                content: \"https://trendguesser.com/images/social-cover.png\"\n                            }, void 0, false, {\n                                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                                lineNumber: 76,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                                property: \"og:image:width\",\n                                content: \"1200\"\n                            }, void 0, false, {\n                                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                                lineNumber: 80,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                                property: \"og:image:height\",\n                                content: \"630\"\n                            }, void 0, false, {\n                                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                                lineNumber: 81,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                                property: \"og:site_name\",\n                                content: \"Pyramid.Ninja\"\n                            }, void 0, false, {\n                                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                                lineNumber: 82,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                                property: \"og:locale\",\n                                content: \"en_US\"\n                            }, void 0, false, {\n                                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                                lineNumber: 83,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                                property: \"twitter:card\",\n                                content: \"summary_large_image\"\n                            }, void 0, false, {\n                                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                                lineNumber: 86,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                                property: \"twitter:url\",\n                                content: canonicalUrl\n                            }, void 0, false, {\n                                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                                lineNumber: 87,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                                property: \"twitter:title\",\n                                content: \"Pyramid.Ninja - The Digital Card Drinking Game\"\n                            }, void 0, false, {\n                                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                                lineNumber: 88,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                                property: \"twitter:description\",\n                                content: \"TrendGuesser - the higher or lower game\"\n                            }, void 0, false, {\n                                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                                lineNumber: 92,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                                property: \"twitter:image\",\n                                content: \"https://trendguesser.com/images/social-cover.png\"\n                            }, void 0, false, {\n                                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                                lineNumber: 96,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                                rel: \"icon\",\n                                href: \"/favicon.ico\"\n                            }, void 0, false, {\n                                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                                lineNumber: 102,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                                rel: \"preload\",\n                                href: \"https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;700&display=swap\",\n                                as: \"style\"\n                            }, void 0, false, {\n                                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                                lineNumber: 105,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                                rel: \"preload\",\n                                href: \"https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap\",\n                                as: \"style\"\n                            }, void 0, false, {\n                                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                                lineNumber: 110,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                        lineNumber: 46,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                        ...pageProps\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                        lineNumber: 116,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n                lineNumber: 45,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n            lineNumber: 44,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/alex/Developer/trendguesser/src/pages/_app.tsx\",\n        lineNumber: 43,\n        columnNumber: 5\n    }, this);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyApp);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxTQUFTOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS2hDO0FBRUEsaUVBQWVGLEtBQUtBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGV4L0RldmVsb3Blci90cmVuZGd1ZXNzZXIvc3JjL3BhZ2VzL19hcHAudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIi4uL3N0eWxlcy9nbG9iYWxzLmNzc1wiO1xuaW1wb3J0IHR5cGUgeyBBcHBQcm9wcyB9IGZyb20gXCJuZXh0L2FwcFwiO1xuaW1wb3J0IEhlYWQgZnJvbSBcIm5leHQvaGVhZFwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tIFwibmV4dC9yb3V0ZXJcIjtcbmltcG9ydCB7IENvbnNlbnRQcm92aWRlciB9IGZyb20gXCIuLi9jb250ZXh0cy9Db25zZW50Q29udGV4dFwiO1xuaW1wb3J0IHsgQXV0aFByb3ZpZGVyIH0gZnJvbSBcIi4uL2NvbnRleHRzL0F1dGhDb250ZXh0XCI7XG5pbXBvcnQgeyBHYW1lUHJvdmlkZXIgfSBmcm9tIFwiLi4vY29udGV4dHMvR2FtZUNvbnRleHRcIjtcbmltcG9ydCB7IGluaXRpYWxpemVGaXJlYmFzZSB9IGZyb20gXCIuLi9saWIvZmlyZWJhc2UvZmlyZWJhc2VcIjtcblxuZnVuY3Rpb24gTXlBcHAoeyBDb21wb25lbnQsIHBhZ2VQcm9wcyB9OiBBcHBQcm9wcykge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgY2Fub25pY2FsVXJsID0gYGh0dHBzOi8vdHJlbmRndWVzc2VyLmNvbSR7cm91dGVyLmFzUGF0aCA9PT0gXCIvXCIgPyBcIlwiIDogcm91dGVyLmFzUGF0aH1gO1xuICBcbiAgLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZSBpbW1lZGlhdGVseSwgbm90IGluIHVzZUVmZmVjdFxuICAvLyBUaGlzIGVuc3VyZXMgRmlyZWJhc2UgaXMgYXZhaWxhYmxlIGJlZm9yZSBhbnkgY29tcG9uZW50cyBtb3VudFxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zdCB7IGFwcCwgYXV0aCwgZGIgfSA9IGluaXRpYWxpemVGaXJlYmFzZSh0cnVlLCBmYWxzZSk7XG4gICAgY29uc29sZS5sb2coXCJGaXJlYmFzZSBpbml0aWFsaXplZCBpbiBfYXBwLnRzeFwiKTtcbiAgfVxuICBcbiAgLy8gTG9hZCBmb250c1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIExvYWQgT3N3YWxkIGZvbnQgZm9yIGdhbWUtc3R5bGUgdGV4dFxuICAgIGNvbnN0IGxpbmtPc3dhbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gICAgbGlua09zd2FsZC5yZWwgPSAnc3R5bGVzaGVldCc7XG4gICAgbGlua09zd2FsZC5ocmVmID0gJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9T3N3YWxkOndnaHRANDAwOzUwMDs3MDAmZGlzcGxheT1zd2FwJztcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGxpbmtPc3dhbGQpO1xuICAgIFxuICAgIC8vIExvYWQgUHJlc3MgU3RhcnQgMlAgZm9yIHRpdGxlL2Rpc3BsYXkgdGV4dFxuICAgIGNvbnN0IGxpbmtQcmVzc1N0YXJ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuICAgIGxpbmtQcmVzc1N0YXJ0LnJlbCA9ICdzdHlsZXNoZWV0JztcbiAgICBsaW5rUHJlc3NTdGFydC5ocmVmID0gJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9UHJlc3MrU3RhcnQrMlAmZGlzcGxheT1zd2FwJztcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGxpbmtQcmVzc1N0YXJ0KTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChsaW5rT3N3YWxkKTtcbiAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQobGlua1ByZXNzU3RhcnQpO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgXG4gIHJldHVybiAoXG4gICAgPENvbnNlbnRQcm92aWRlcj5cbiAgICAgIDxBdXRoUHJvdmlkZXI+XG4gICAgICAgIDxHYW1lUHJvdmlkZXI+XG4gICAgICAgICAgPEhlYWQ+XG4gICAgICAgICAgICB7LyogUHJpbWFyeSBNZXRhIFRhZ3MgKi99XG4gICAgICAgICAgICA8dGl0bGU+VHJlbmRHdWVzc2VyIC0gdGhlIGhpZ2hlciBvciBsb3dlciBnYW1lPC90aXRsZT5cbiAgICAgICAgICAgIDxtZXRhXG4gICAgICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgIGNvbnRlbnQ9XCJUcmVuZEd1ZXNzZXIgLSB0aGUgaGlnaGVyIG9yIGxvd2VyIGdhbWVcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxtZXRhXG4gICAgICAgICAgICAgIG5hbWU9XCJrZXl3b3Jkc1wiXG4gICAgICAgICAgICAgIGNvbnRlbnQ9XCJ0cmVuZGd1ZXNzZXIsIGhpZ2hlciBvciBsb3dlciwgZ2FtZSwgc2luZ2xlIHBsYXllciwgdHJlbmRpbmcsIHNlYXJjaCwgZ2FtZVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPG1ldGFcbiAgICAgICAgICAgICAgbmFtZT1cInZpZXdwb3J0XCJcbiAgICAgICAgICAgICAgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLCBtYXhpbXVtLXNjYWxlPTVcIlxuICAgICAgICAgICAgLz5cblxuICAgICAgICAgIHsvKiBDYW5vbmljYWwgVVJMICovfVxuICAgICAgICAgIDxsaW5rIHJlbD1cImNhbm9uaWNhbFwiIGhyZWY9e2Nhbm9uaWNhbFVybH0gLz5cblxuICAgICAgICAgIHsvKiBPcGVuIEdyYXBoIC8gRmFjZWJvb2sgKi99XG4gICAgICAgICAgPG1ldGEgcHJvcGVydHk9XCJvZzp0eXBlXCIgY29udGVudD1cIndlYnNpdGVcIiAvPlxuICAgICAgICAgIDxtZXRhIHByb3BlcnR5PVwib2c6dXJsXCIgY29udGVudD17Y2Fub25pY2FsVXJsfSAvPlxuICAgICAgICAgIDxtZXRhXG4gICAgICAgICAgICBwcm9wZXJ0eT1cIm9nOnRpdGxlXCJcbiAgICAgICAgICAgIGNvbnRlbnQ9XCJUcmVuZEd1ZXNzZXIgLSB0aGUgaGlnaGVyIG9yIGxvd2VyIGdhbWVcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPG1ldGFcbiAgICAgICAgICAgIHByb3BlcnR5PVwib2c6ZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgY29udGVudD1cIlRyZW5kR3Vlc3NlciAtIHRoZSBoaWdoZXIgb3IgbG93ZXIgZ2FtZVwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8bWV0YVxuICAgICAgICAgICAgcHJvcGVydHk9XCJvZzppbWFnZVwiXG4gICAgICAgICAgICBjb250ZW50PVwiaHR0cHM6Ly90cmVuZGd1ZXNzZXIuY29tL2ltYWdlcy9zb2NpYWwtY292ZXIucG5nXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxtZXRhIHByb3BlcnR5PVwib2c6aW1hZ2U6d2lkdGhcIiBjb250ZW50PVwiMTIwMFwiIC8+XG4gICAgICAgICAgPG1ldGEgcHJvcGVydHk9XCJvZzppbWFnZTpoZWlnaHRcIiBjb250ZW50PVwiNjMwXCIgLz5cbiAgICAgICAgICA8bWV0YSBwcm9wZXJ0eT1cIm9nOnNpdGVfbmFtZVwiIGNvbnRlbnQ9XCJQeXJhbWlkLk5pbmphXCIgLz5cbiAgICAgICAgICA8bWV0YSBwcm9wZXJ0eT1cIm9nOmxvY2FsZVwiIGNvbnRlbnQ9XCJlbl9VU1wiIC8+XG5cbiAgICAgICAgICB7LyogVHdpdHRlciAqL31cbiAgICAgICAgICA8bWV0YSBwcm9wZXJ0eT1cInR3aXR0ZXI6Y2FyZFwiIGNvbnRlbnQ9XCJzdW1tYXJ5X2xhcmdlX2ltYWdlXCIgLz5cbiAgICAgICAgICA8bWV0YSBwcm9wZXJ0eT1cInR3aXR0ZXI6dXJsXCIgY29udGVudD17Y2Fub25pY2FsVXJsfSAvPlxuICAgICAgICAgIDxtZXRhXG4gICAgICAgICAgICBwcm9wZXJ0eT1cInR3aXR0ZXI6dGl0bGVcIlxuICAgICAgICAgICAgY29udGVudD1cIlB5cmFtaWQuTmluamEgLSBUaGUgRGlnaXRhbCBDYXJkIERyaW5raW5nIEdhbWVcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPG1ldGFcbiAgICAgICAgICAgIHByb3BlcnR5PVwidHdpdHRlcjpkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICBjb250ZW50PVwiVHJlbmRHdWVzc2VyIC0gdGhlIGhpZ2hlciBvciBsb3dlciBnYW1lXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxtZXRhXG4gICAgICAgICAgICBwcm9wZXJ0eT1cInR3aXR0ZXI6aW1hZ2VcIlxuICAgICAgICAgICAgY29udGVudD1cImh0dHBzOi8vdHJlbmRndWVzc2VyLmNvbS9pbWFnZXMvc29jaWFsLWNvdmVyLnBuZ1wiXG4gICAgICAgICAgLz5cblxuICAgICAgICAgIHsvKiBGYXZpY29uIGFuZCBpY29ucyAqL31cbiAgICAgICAgICA8bGluayByZWw9XCJpY29uXCIgaHJlZj1cIi9mYXZpY29uLmljb1wiIC8+XG5cbiAgICAgICAgICB7LyogUHJlbG9hZCBmb250cyAqL31cbiAgICAgICAgICA8bGlua1xuICAgICAgICAgICAgcmVsPVwicHJlbG9hZFwiXG4gICAgICAgICAgICBocmVmPVwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1Pc3dhbGQ6d2dodEA0MDA7NTAwOzcwMCZkaXNwbGF5PXN3YXBcIlxuICAgICAgICAgICAgYXM9XCJzdHlsZVwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8bGlua1xuICAgICAgICAgICAgcmVsPVwicHJlbG9hZFwiXG4gICAgICAgICAgICBocmVmPVwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1QcmVzcytTdGFydCsyUCZkaXNwbGF5PXN3YXBcIlxuICAgICAgICAgICAgYXM9XCJzdHlsZVwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9IZWFkPlxuICAgICAgICA8Q29tcG9uZW50IHsuLi5wYWdlUHJvcHN9IC8+XG4gICAgICAgIDwvR2FtZVByb3ZpZGVyPlxuICAgICAgPC9BdXRoUHJvdmlkZXI+XG4gICAgPC9Db25zZW50UHJvdmlkZXI+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IE15QXBwO1xuIl0sIm5hbWVzIjpbIkhlYWQiLCJ1c2VFZmZlY3QiLCJ1c2VSb3V0ZXIiLCJDb25zZW50UHJvdmlkZXIiLCJBdXRoUHJvdmlkZXIiLCJHYW1lUHJvdmlkZXIiLCJpbml0aWFsaXplRmlyZWJhc2UiLCJNeUFwcCIsIkNvbXBvbmVudCIsInBhZ2VQcm9wcyIsInJvdXRlciIsImNhbm9uaWNhbFVybCIsImFzUGF0aCIsImFwcCIsImF1dGgiLCJkYiIsImNvbnNvbGUiLCJsb2ciLCJsaW5rT3N3YWxkIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwicmVsIiwiaHJlZiIsImhlYWQiLCJhcHBlbmRDaGlsZCIsImxpbmtQcmVzc1N0YXJ0IiwicmVtb3ZlQ2hpbGQiLCJ0aXRsZSIsIm1ldGEiLCJuYW1lIiwiY29udGVudCIsImxpbmsiLCJwcm9wZXJ0eSIsImFzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/pages/_app.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./src/pages/_document.tsx":
/*!*********************************!*\
  !*** ./src/pages/_document.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Document)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_document__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/document */ \"(pages-dir-node)/./node_modules/next/document.js\");\n/* harmony import */ var next_document__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_document__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction Document() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.Html, {\n        lang: \"en\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.Head, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        href: \"https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap\",\n                        rel: \"stylesheet\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/trendguesser/src/pages/_document.tsx\",\n                        lineNumber: 8,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        href: \"https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;700&display=swap\",\n                        rel: \"stylesheet\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/trendguesser/src/pages/_document.tsx\",\n                        lineNumber: 12,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"apple-touch-icon\",\n                        sizes: \"180x180\",\n                        href: \"/favicons/apple-touch-icon.png\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/trendguesser/src/pages/_document.tsx\",\n                        lineNumber: 18,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"icon\",\n                        type: \"image/png\",\n                        sizes: \"32x32\",\n                        href: \"/favicons/favicon-32x32.png\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/trendguesser/src/pages/_document.tsx\",\n                        lineNumber: 19,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"icon\",\n                        type: \"image/png\",\n                        sizes: \"16x16\",\n                        href: \"/favicons/favicon-16x16.png\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/trendguesser/src/pages/_document.tsx\",\n                        lineNumber: 20,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"icon\",\n                        href: \"/favicon.ico\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/trendguesser/src/pages/_document.tsx\",\n                        lineNumber: 21,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"manifest\",\n                        href: \"/site.webmanifest\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/trendguesser/src/pages/_document.tsx\",\n                        lineNumber: 22,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"theme-color\",\n                        content: \"#1b084e\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/trendguesser/src/pages/_document.tsx\",\n                        lineNumber: 25,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"robots\",\n                        content: \"index, follow\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/trendguesser/src/pages/_document.tsx\",\n                        lineNumber: 26,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"googlebot\",\n                        content: \"index, follow\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/trendguesser/src/pages/_document.tsx\",\n                        lineNumber: 27,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"format-detection\",\n                        content: \"telephone=no\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/trendguesser/src/pages/_document.tsx\",\n                        lineNumber: 28,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"application-name\",\n                        content: \"Pyramid.Ninja\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/trendguesser/src/pages/_document.tsx\",\n                        lineNumber: 31,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"apple-mobile-web-app-capable\",\n                        content: \"yes\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/trendguesser/src/pages/_document.tsx\",\n                        lineNumber: 32,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"apple-mobile-web-app-status-bar-style\",\n                        content: \"black-translucent\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/trendguesser/src/pages/_document.tsx\",\n                        lineNumber: 33,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"apple-mobile-web-app-title\",\n                        content: \"Pyramid.Ninja\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/trendguesser/src/pages/_document.tsx\",\n                        lineNumber: 34,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"mobile-web-app-capable\",\n                        content: \"yes\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/trendguesser/src/pages/_document.tsx\",\n                        lineNumber: 35,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_document.tsx\",\n                lineNumber: 6,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n                className: \"antialiased\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.Main, {}, void 0, false, {\n                        fileName: \"/Users/alex/Developer/trendguesser/src/pages/_document.tsx\",\n                        lineNumber: 38,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.NextScript, {}, void 0, false, {\n                        fileName: \"/Users/alex/Developer/trendguesser/src/pages/_document.tsx\",\n                        lineNumber: 39,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/alex/Developer/trendguesser/src/pages/_document.tsx\",\n                lineNumber: 37,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/alex/Developer/trendguesser/src/pages/_document.tsx\",\n        lineNumber: 5,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3NyYy9wYWdlcy9fZG9jdW1lbnQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE2RDtBQUU5QyxTQUFTSTtJQUN0QixxQkFDRSw4REFBQ0osK0NBQUlBO1FBQUNLLE1BQUs7OzBCQUNULDhEQUFDSiwrQ0FBSUE7O2tDQUVILDhEQUFDSzt3QkFDQ0MsTUFBSzt3QkFDTEMsS0FBSTs7Ozs7O2tDQUVOLDhEQUFDRjt3QkFDQ0MsTUFBSzt3QkFDTEMsS0FBSTs7Ozs7O2tDQUlOLDhEQUFDRjt3QkFBS0UsS0FBSTt3QkFBbUJDLE9BQU07d0JBQVVGLE1BQUs7Ozs7OztrQ0FDbEQsOERBQUNEO3dCQUFLRSxLQUFJO3dCQUFPRSxNQUFLO3dCQUFZRCxPQUFNO3dCQUFRRixNQUFLOzs7Ozs7a0NBQ3JELDhEQUFDRDt3QkFBS0UsS0FBSTt3QkFBT0UsTUFBSzt3QkFBWUQsT0FBTTt3QkFBUUYsTUFBSzs7Ozs7O2tDQUNyRCw4REFBQ0Q7d0JBQUtFLEtBQUk7d0JBQU9ELE1BQUs7Ozs7OztrQ0FDdEIsOERBQUNEO3dCQUFLRSxLQUFJO3dCQUFXRCxNQUFLOzs7Ozs7a0NBRzFCLDhEQUFDSTt3QkFBS0MsTUFBSzt3QkFBY0MsU0FBUTs7Ozs7O2tDQUNqQyw4REFBQ0Y7d0JBQUtDLE1BQUs7d0JBQVNDLFNBQVE7Ozs7OztrQ0FDNUIsOERBQUNGO3dCQUFLQyxNQUFLO3dCQUFZQyxTQUFROzs7Ozs7a0NBQy9CLDhEQUFDRjt3QkFBS0MsTUFBSzt3QkFBbUJDLFNBQVE7Ozs7OztrQ0FHdEMsOERBQUNGO3dCQUFLQyxNQUFLO3dCQUFtQkMsU0FBUTs7Ozs7O2tDQUN0Qyw4REFBQ0Y7d0JBQUtDLE1BQUs7d0JBQStCQyxTQUFROzs7Ozs7a0NBQ2xELDhEQUFDRjt3QkFBS0MsTUFBSzt3QkFBd0NDLFNBQVE7Ozs7OztrQ0FDM0QsOERBQUNGO3dCQUFLQyxNQUFLO3dCQUE2QkMsU0FBUTs7Ozs7O2tDQUNoRCw4REFBQ0Y7d0JBQUtDLE1BQUs7d0JBQXlCQyxTQUFROzs7Ozs7Ozs7Ozs7MEJBRTlDLDhEQUFDQztnQkFBS0MsV0FBVTs7a0NBQ2QsOERBQUNiLCtDQUFJQTs7Ozs7a0NBQ0wsOERBQUNDLHFEQUFVQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJbkIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGV4L0RldmVsb3Blci90cmVuZGd1ZXNzZXIvc3JjL3BhZ2VzL19kb2N1bWVudC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHRtbCwgSGVhZCwgTWFpbiwgTmV4dFNjcmlwdCB9IGZyb20gXCJuZXh0L2RvY3VtZW50XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERvY3VtZW50KCkge1xuICByZXR1cm4gKFxuICAgIDxIdG1sIGxhbmc9XCJlblwiPlxuICAgICAgPEhlYWQ+XG4gICAgICAgIHsvKiBMb2FkIGZvbnRzIGRpcmVjdGx5ICovfVxuICAgICAgICA8bGlua1xuICAgICAgICAgIGhyZWY9XCJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PVByZXNzK1N0YXJ0KzJQJmRpc3BsYXk9c3dhcFwiXG4gICAgICAgICAgcmVsPVwic3R5bGVzaGVldFwiXG4gICAgICAgIC8+XG4gICAgICAgIDxsaW5rIFxuICAgICAgICAgIGhyZWY9XCJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PU9zd2FsZDp3Z2h0QDQwMDs1MDA7NzAwJmRpc3BsYXk9c3dhcFwiIFxuICAgICAgICAgIHJlbD1cInN0eWxlc2hlZXRcIlxuICAgICAgICAvPlxuICAgICAgICBcbiAgICAgICAgey8qIEZhdmljb24gYW5kIGFwcCBpY29ucyAqL31cbiAgICAgICAgPGxpbmsgcmVsPVwiYXBwbGUtdG91Y2gtaWNvblwiIHNpemVzPVwiMTgweDE4MFwiIGhyZWY9XCIvZmF2aWNvbnMvYXBwbGUtdG91Y2gtaWNvbi5wbmdcIiAvPlxuICAgICAgICA8bGluayByZWw9XCJpY29uXCIgdHlwZT1cImltYWdlL3BuZ1wiIHNpemVzPVwiMzJ4MzJcIiBocmVmPVwiL2Zhdmljb25zL2Zhdmljb24tMzJ4MzIucG5nXCIgLz5cbiAgICAgICAgPGxpbmsgcmVsPVwiaWNvblwiIHR5cGU9XCJpbWFnZS9wbmdcIiBzaXplcz1cIjE2eDE2XCIgaHJlZj1cIi9mYXZpY29ucy9mYXZpY29uLTE2eDE2LnBuZ1wiIC8+XG4gICAgICAgIDxsaW5rIHJlbD1cImljb25cIiBocmVmPVwiL2Zhdmljb24uaWNvXCIgLz5cbiAgICAgICAgPGxpbmsgcmVsPVwibWFuaWZlc3RcIiBocmVmPVwiL3NpdGUud2VibWFuaWZlc3RcIiAvPlxuICAgICAgICBcbiAgICAgICAgey8qIFNFTyBtZXRhIHRhZ3MgKi99XG4gICAgICAgIDxtZXRhIG5hbWU9XCJ0aGVtZS1jb2xvclwiIGNvbnRlbnQ9XCIjMWIwODRlXCIgLz5cbiAgICAgICAgPG1ldGEgbmFtZT1cInJvYm90c1wiIGNvbnRlbnQ9XCJpbmRleCwgZm9sbG93XCIgLz5cbiAgICAgICAgPG1ldGEgbmFtZT1cImdvb2dsZWJvdFwiIGNvbnRlbnQ9XCJpbmRleCwgZm9sbG93XCIgLz5cbiAgICAgICAgPG1ldGEgbmFtZT1cImZvcm1hdC1kZXRlY3Rpb25cIiBjb250ZW50PVwidGVsZXBob25lPW5vXCIgLz5cbiAgICAgICAgXG4gICAgICAgIHsvKiBNb2JpbGUvcmVzcG9uc2l2ZSBtZXRhIHRhZ3MgKi99XG4gICAgICAgIDxtZXRhIG5hbWU9XCJhcHBsaWNhdGlvbi1uYW1lXCIgY29udGVudD1cIlB5cmFtaWQuTmluamFcIiAvPlxuICAgICAgICA8bWV0YSBuYW1lPVwiYXBwbGUtbW9iaWxlLXdlYi1hcHAtY2FwYWJsZVwiIGNvbnRlbnQ9XCJ5ZXNcIiAvPlxuICAgICAgICA8bWV0YSBuYW1lPVwiYXBwbGUtbW9iaWxlLXdlYi1hcHAtc3RhdHVzLWJhci1zdHlsZVwiIGNvbnRlbnQ9XCJibGFjay10cmFuc2x1Y2VudFwiIC8+XG4gICAgICAgIDxtZXRhIG5hbWU9XCJhcHBsZS1tb2JpbGUtd2ViLWFwcC10aXRsZVwiIGNvbnRlbnQ9XCJQeXJhbWlkLk5pbmphXCIgLz5cbiAgICAgICAgPG1ldGEgbmFtZT1cIm1vYmlsZS13ZWItYXBwLWNhcGFibGVcIiBjb250ZW50PVwieWVzXCIgLz5cbiAgICAgIDwvSGVhZD5cbiAgICAgIDxib2R5IGNsYXNzTmFtZT1cImFudGlhbGlhc2VkXCI+XG4gICAgICAgIDxNYWluIC8+XG4gICAgICAgIDxOZXh0U2NyaXB0IC8+XG4gICAgICA8L2JvZHk+XG4gICAgPC9IdG1sPlxuICApO1xufVxuIl0sIm5hbWVzIjpbIkh0bWwiLCJIZWFkIiwiTWFpbiIsIk5leHRTY3JpcHQiLCJEb2N1bWVudCIsImxhbmciLCJsaW5rIiwiaHJlZiIsInJlbCIsInNpemVzIiwidHlwZSIsIm1ldGEiLCJuYW1lIiwiY29udGVudCIsImJvZHkiLCJjbGFzc05hbWUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/pages/_document.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./src/styles/globals.css":
/*!********************************!*\
  !*** ./src/styles/globals.css ***!
  \********************************/
/***/ (() => {



/***/ }),

/***/ "firebase/analytics":
/*!*************************************!*\
  !*** external "firebase/analytics" ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/analytics");;

/***/ }),

/***/ "firebase/app":
/*!*******************************!*\
  !*** external "firebase/app" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/app");;

/***/ }),

/***/ "firebase/auth":
/*!********************************!*\
  !*** external "firebase/auth" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/auth");;

/***/ }),

/***/ "firebase/firestore":
/*!*************************************!*\
  !*** external "firebase/firestore" ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/firestore");;

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "next/head":
/*!****************************!*\
  !*** external "next/head" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/head");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = import("uuid");;

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=private-next-pages%2F_error&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();